{"version":3,"sources":["helpers/flow-chart.ts","redux/settings/settings.constants.ts","components/Common/HelpCard.tsx","views/NotFound.tsx","helpers/utils.ts","redux/logStream/logStream.actions.ts","services/hubApi.ts","views/LogIn.tsx","components/Common/NavigateButton.tsx","components/Hub/ImageDetails.tsx","components/Hub/Readme.tsx","components/Common/Typography.tsx","views/PackageView.tsx","components/Hub/HubFilters.tsx","components/Hub/HubImagesList.tsx","logger.ts","services/jinaApi.ts","redux/global/global.actions.ts","redux/flows/flows.actions.ts","settings.ts","redux/flows/flows.constants.ts","helpers/serialise.ts","helpers/transform-log.ts","redux/flows/flows.selectors.ts","routes/Hub.tsx","components/LogStream/levels.ts","components/LogStream/BarChartBase.tsx","components/Common/MultiFilterSelect.tsx","components/LogStream/LogLevelSummaryChart.tsx","components/LogStream/PieChartBase.tsx","components/LogStream/LogLevelPieChart.tsx","components/LogStream/LogItem.tsx","components/LogStream/LogsTableHeader.tsx","components/Common/ExpandingSearchbar.tsx","components/LogStream/LogGroup.tsx","components/LogStream/LogsTable.tsx","redux/logStream/logStream.selectors.ts","views/LogsView.tsx","components/Task/ElapsedCard.tsx","components/Task/ProgressCard.tsx","components/Task/SpeedCard.tsx","components/Task/BarChartCard.tsx","components/Task/QueriesPerSecond.tsx","redux/task/task.selectors.ts","views/TaskView.tsx","components/Settings/options.ts","components/Settings/FormItem.tsx","redux/settings/settings.selectors.ts","components/Settings/Settings.tsx","redux/settings/settings.actions.ts","views/Settings.tsx","components/Hub/HubOverviewAction.tsx","components/Hub/HubOverviewActionsContainer.tsx","components/Hub/HubImagesListPreview.tsx","views/HubView.tsx","components/FlowChart/FlowSelection.tsx","assets/icons/Play.svg","assets/icons/Save.svg","assets/icons/Stop.svg","assets/icons/Upload.svg","assets/icons/Yaml.svg","components/FlowChart/CommandBar.tsx","components/FlowChart/ChartNode.tsx","components/FlowChart/SidebarItem.tsx","data/defaultPods.ts","components/FlowChart/Sidebar.tsx","components/FlowChart/FlowChart.tsx","views/FlowView.tsx","routes/Dashboard.tsx","routes/index.ts","withTracker.tsx","views/FallbackPage.tsx","apps/Dashboard.tsx","index.tsx","theme.ts","redux/global/global.constants.ts","components/Layout/MainNavbar/NavbarSpacer.tsx","components/Layout/MainNavbar/ConnectionIndicator.tsx","components/Layout/MainNavbar/NavLogo.tsx","components/Layout/MainNavbar/MainNavbar.tsx","components/Layout/MainSidebar/SidebarMainNavbar.tsx","components/Layout/MainSidebar/SidebarNavItem.tsx","components/Layout/MainSidebar/SidebarNavItems.tsx","components/Layout/MainSidebar/MainSidebar.tsx","components/Layout/MainFooter.tsx","components/Common/CookiesBanner.tsx","components/Common/InfoToast.tsx","components/Common/ConnectionToast.tsx","modals/PasteYAML.tsx","modals/WriteReview.tsx","modals/LogDetails.tsx","modals/NewFlow.tsx","modals/PodEdit.tsx","data/globalArguments.ts","modals/FlowSettings.tsx","layouts/IconSidebar.tsx","layouts/HubLayout.tsx","data/exampleFlows.ts","redux/flows/flows.reducer.ts","helpers/typeCheckers.ts","redux/hub/hub.reducer.ts","redux/settings/settings.reducer.ts","redux/logStream/logStream.reducer.ts","redux/global/global.reducer.ts","redux/task/task.constants.ts","redux/task/task.reducer.ts","redux/index.ts","components/Common/PageTitle.tsx","redux/global/global.selectors.ts","services/jinad.ts","services/config.ts","redux/logStream/logStream.constants.ts","helpers/format.ts","redux/hub/hub.selectors.ts","redux/hub/hub.constants.ts","components/Common/SpinningLoader.tsx","redux/hub/hub.actions.ts","components/Hub/ImageCard.tsx"],"names":["settings","require","createNode","id","data","position","type","createLink","source","target","formatForFlowchart","prevNode","pods","canvas","with","board","formatted","nodes","links","version","includes","podMap","forEach","pod","name","gateway","Object","keys","node","label","needs","push","parent","x","y","parseInt","depthPopulation","offsetX","nodeOffset","offsetY","depth","getNodeDepth","undefined","elements","parents","length","parentDepthList","map","parentId","find","Math","max","UPDATE_SETTINGS","intialSettings","host","localStorage","getItem","port","log","profile","yaml","shutdown","ready","HelpCard","title","content","icon","theme","link","dataName","className","href","rel","data-name","Card","Body","Row","Col","xs","NotFound","fluid","noGutters","PageTitle","md","lg","copyToClipboard","str","temp","document","createElement","value","body","appendChild","select","execCommand","removeChild","timeout","ms","Promise","resolve","setTimeout","showLogAtIndex","logIndex","SHOW_LOG_INDEX","payload","handleNewLog","HANDLE_NEW_LOG","initLogStream","workspace_id","flow_id","dispatch","handleConnection","handleLog","a","connected","message","showBanner","jinadClient","waitForFlow","flowResult","status","getLogs","logsResult","logs","logger","store","getState","settingsState","listenForLogs","getHubImages","filters","axios","get","HUB_API_ENDPOINT","params","paramsSerializer","serializeQueryParams","response","getDocumentationHTML","url","rawMarkdownURL","getRawMarkdownURL","rawMarkdownResponse","post","text","HTMLResponse","queryString","arrayFormat","skipNull","replace","Login","componentDidMount","window","location","indexOf","render","src","style","maxWidth","alt","React","Component","NavigationLink","styled","Link","props","palette","mutedText","NavigateButton","path","to","SectionHeading","div","headerTextColor","DetailsSection","Platform","Tag","tagPlatformBackground","ImageDetails","image","keywords","platform","author","dockerCommand","keyword","key","p","ReadMe","documentation","useState","readme","setReadme","useEffect","readmeHTML","dangerouslySetInnerHTML","__html","SpinningLoader","Title","h2","Paragraph","ImageContainer","PackageView","useDispatch","packageId","useParams","hubImages","useSelector","selectHubImages","isHubImagesLoading","selectIsHubImagesLoading","fetchHubImages","description","getCheckedFilterValues","filter","values","reduce","acc","FiltersTitle","FiltersContainer","Checkbox","input","CheckboxLabel","checked","highlightColor","FilterCheckbox","filterCategoryIndex","handleFilterChange","setChecked","highlight","useTheme","onChange","HubFilters","setFilters","kind","getSelectedFilters","filterLabel","removeDuplicates","arrayWithDuplicates","e","i","convertArrayToFilterObject","array","f","HubImagesList","images","getImageFilters","useCallback","index","ImageCard","handleErrorMessage","msg","line","pushLog","arg","logsEnabled","args","arguments","console","isEnabled","enable","_navigator","navigator","addEventListener","disable","removeEventListener","setFormat","format","logsFormat","exportLogs","JSON","stringify","filename","Date","blob","Blob","saveAs","getJinaFlowArguments","JINA_API_ENDPOINT","flowArguments","flow","parseFlowMethodOption","methods","m","options","pea","typeMap","bool","int","help","defaultValue","default","itemType","handleConnectionStatus","HANDLE_CONNECTION_STATUS","_handleConnectionStatus","FETCH_ARGUMENTS_FROM_DAEMON","setFlowArguments","FETCH_ARGUMENTS_FROM_API","toggleSidebar","TOGGLE_SIDE_BAR","SHOW_BANNER","_showBanner","HIDE_BANNER","HIDE_BANNER_TIMEOUT","showModal","modal","modalParams","SHOW_MODAL","closeModal","CLOSE_MODAL","connectJinaD","connect","loadFlow","flowId","LOAD_FLOW","createNewFlow","CREATE_NEW_FLOW","SET_FLOW_ARGUMENTS","updateSelectedFlow","flowUpdate","UPDATE_SELECTED_FLOW","duplicateFlow","flowYAML","DUPLICATE_FLOW","importFlow","IMPORT_FLOW","deleteFlow","DELETE_FLOW","addNode","ADD_NODE","addLink","sourceHandle","targetHandle","ADD_LINK","deleteLink","deleteLinkProps","DELETE_LINK","updateNode","nodeId","nodeUpdate","UPDATE_NODE","updateNodeProperties","nodePropertiesUpdate","UPDATE_NODE_DATA","deleteNode","DELETE_NODE","rerender","RERENDER","startFlow","selectedFlowId","flowState","flows","flowChart","formatAsYAML","result","initNetworkFlow","stopFlow","flowProperties","terminateFlow","getFlow","initialFlowChart","toBlob","serializeLogsToCSVBlob","uptime","formattedTimestamp","process","level","context","workspace_path","serializeLogsToCSV","serializeLogsToJSONBlob","fileContent","serializeLogsToJSON","serializeLogsToTextBlob","serializeLogsToText","transformLog","idx","nanoid","timestamp","unixTime","floor","valueOf","toLocaleString","selectSelectedFlow","state","selectRerender","selectFlows","selectFlowArguments","selectExampleFlowsKeyEntryPairs","entries","flowKeyEntryPair","selectSelectedFlowId","hubRoutes","exact","layout","HubLayout","component","usesConnection","usesAuth","navigateButton","LogIn","getLevels","colorPalette","INFO","borderColor","info","backgroundColor","SUCCESS","success","WARNING","warning","ERROR","error","CRITICAL","critical","DEBUG","debug","getParsedDatasets","levels","levelData","tick","barPercentage","categoryPercentage","fill","getLabels","amount","labels","ChartBase","width","height","numTicks","onClick","timeLabels","canvasRef","useRef","chartInstance","setChartInstance","onClickChart","activePoints","getElementsAtEvent","getXAxisLabel","getYAxisLabel","Number","isInteger","ChartLegend","toLowerCase","current","chartOptions","animation","duration","events","maintainAspectRatio","responsive","legend","display","tooltips","enabled","point","radius","hitRadius","scales","xAxes","stacked","ticks","padding","maxRotation","autoSkip","callback","gridLines","zeroLineColor","color","yAxes","scaleLabel","borderDash","drawBorder","suggestedMin","maxTicksLimit","chartConfig","datasets","newChartInstance","ChartElement","chartData","update","ref","customStyles","dropdownIndicator","styles","indicatorSeparator","opacity","container","provided","selectProps","option","cursor","control","border","background","MultiFilterSelect","isMulti","isSearchable","clearAfter","onFilterChange","rest","val","Array","isArray","readOnly","LogLevelSummaryChart","numSeconds","showLog","setTimeSelection","timeOptions","selectedTime","Header","placeholder","PieChartBase","getColor","names","borderWidth","boxWidth","mode","LogLevelPieChart","LogItem","memo","columns","items","showLogDetails","logData","logName","String","substring","levelInitial","firstCol","secondCol","thirdCol","css","maxHeight","overflow","textOverflow","whiteSpace","paddingRight","marginRight","areEqual","LogsTableHeader","ExpandingSearchbar","variant","InputGroup","Prepend","Text","Form","Control","Append","_icons","pending","failed","CountSummary","numItems","StatusIcon","k","getStatusFromLevels","ExpandController","expanded","LogGroup","group","setExpanded","prev","Collapse","in","VIEW_PREFERENCE_NAME","saveOptions","viewOptions","table","getInitialView","preference","getUserViewPreference","_lastNumLogs","_searchIndex","FlexSearch","create","doc","field","saveLogData","generateFileName","itemKey","arrayLikeToArray","arrayLike","from","toOption","list","item","LogsList","small","listRef","scrolledToBottom","setScrolledToBottom","scrollToItem","onScroll","scrollOffset","itemCount","itemSize","itemData","GroupedLogs","groupedData","grouping","LogsTable","currentView","setCurrentView","selectedSources","setSelectedSources","selectedLevels","setSelectedLevels","searchResults","setSearchResults","searchString","setSearchString","search","newData","slice","add","setView","view","setItem","unfiltered","sources","curr","Set","resultData","podNames","split","podName","startsWith","_","countBy","levelItem","selectLogs","logStreamState","selectLogLevels","logLevels","selectLogLevelOccurrences","logLevelOccurrences","TIME_PREFERENCE_NAME","chartLabels","getInitialTimeSelection","getUserTimePreference","ElapsedCard","elapsed","task_name","seconds","ProgressCard","progress","hoverBorderColor","cutoutPercentage","percent","num_bars","bar_len","currentRequest","SpeedCard","speed","history","maxValue","minValue","min","getChartOptions","difference","bottom","left","tension","suggestedMax","getChartConfig","primary","newChartData","unit","BarChartCard","currentTab","setCurrentTab","callbacks","tooltipItem","xLabel","datasetIndex","formatBytes","afterLabel","toFixed","d","sent","pointBackgroundColor","pointHoverBackgroundColor","received","getChartData","newOptions","sm","active","QueriesPerSecondCard","qps","selectTaskData","taskState","taskData","TaskView","Container","xl","QueriesPerSecond","messages","bytes","lastUpdate","lastUpdateChart","baseOptions","advancedOptions","FormItem","colSpan","selectSettings","SettingsCard","updates","setUpdates","changeSetting","setting","newUpdates","form","aria-controls","aria-expanded","updateSettings","SettingsView","ActionItemContainer","ActionItemTitle","span","ActionButton","button","HubOverviewAction","overviewAction","buttonLabel","buttonAction","HubOverviewActionsContainer","useHistory","hubOverviewActionsData","SubTitle","HubImagesListPreview","HubView","useRouteMatch","FALLBACK_FLOW_NAME","ConnectionIndicator","show","TitleConnectionIndicator","DeleteFlowButton","Delete","FlowSelection","selectConnectionStatus","FlowSelectionMenu","SelectedFlowHeader","FlowTap","selected","FlowTapOverflowHider","bodyBackground","FlowHeader","FlowSettingsButton","Settings","userFlows","exampleFlows","currentFlow","ButtonGroup","Button","PlayButton","CommandBar","importChart","copyChart","exportImage","Play","Stop","Save","Upload","marginLeft","marginTop","Yaml","ChartNodeElement","NodePort","NodePortTop","Handle","NodePortBottom","Position","Top","Bottom","ChartNode","flowType","onDoubleClick","SidebarItem","draggable","onDragStart","event","dataString","dataTransfer","setData","effectAllowed","dedaultPods","yaml_path","parallel","read_only","timeout_ready","separated_workspace","ReadOnly","PodMenu","defaultPods","properties","FlowChartSidebar","readonly","nodeTypes","FlowChart","reactFlowInstance","setReactFlowInstance","reactFlowWrapper","onConnect","onElementsRemove","element","isEdge","isNode","onLoad","_reactFlowInstance","onDrop","preventDefault","reactFlowBounds","getBoundingClientRect","DOMRect","parse","getData","project","clientX","clientY","top","onDragOver","dropEffect","onNodeDragStop","nodesDraggable","FlowViewContainer","dashboardRoutes","IconSidebar","setSelectedTime","getLogLevelCharts","logLevelCharts","setLogLevelCharts","currentDate","newCharts","timeSelection","_index","lastLog","time","copyChartAsYAML","alert","showOverlay","setShowOverlay","showCaptureOverlay","extension","chartContainer","querySelector","captureOverlay","classList","canvasParams","foreignObjectRendering","logging","scrollX","scrollY","scale","html2canvas","then","toDataURL","getElementById","setAttribute","click","Sidebar","deleteSelection","GoogleAnalytics","initialize","REACT_APP_GAID","withTracker","WrappedComponent","trackPage","page","set","pageview","BASENAME","REACT_APP_BASENAME","HOC","this","pathname","prevProps","currentPage","nextPage","FallbackPage","resetErrorBoundary","subtitle","Dashboard","basename","routes","route","FallbackComponent","App","PERSIAN_GREEN","GOLDEN_TANOI","secondary","tagBackground","Sentry","dsn","integrations","Integrations","BrowserTracing","tracesSampleRate","ReactDOM","SHOW_ERROR","initialGlobalState","user","banner","loading","menuVisible","navItems","iconName","matches","processes","NavbarSpacer","reconnect","pill","NavLogo","lineHeight","MainNavbar","showLogo","navbar","SidebarMainNavbar","SidebarNavItem","useLocation","match","tag","RouteNavLink","SidebarNavItems","MainSidebar","sidebarNavItems","classes","classNames","size","MainFooter","menuItems","copyright","loggerEnabled","enableLogger","disableLogger","defaultProps","contained","CookiesBanner","acceptCookies","InfoToast","Toast","closeButton","ConnectionToast","overlay","right","transform","PasteYAML","inputRef","open","importYAML","ariaHideApp","isOpen","contentLabel","shouldCloseOnOverlayClick","onRequestClose","closeTimeoutMS","Group","Label","as","rows","WriteReviewModal","submitReview","hiddenKeys","LogDetails","CloseModal","CreateOptionsContainer","CreateOption","CreateOptionAdd","fontSize","marginBottom","OptionName","NewFlow","exampleFlowsKeyEntryPairs","handleAction","action","exampleFlowsKeyEntryPair","alignItems","justifyContent","PodEditContainer","Header1","header","Header2","PropertyTable","Input","DeleteButton","PodEditComponent","searchQuery","setSearchQuery","filteredArguments","setFilteredArguments","results","argument","_updateLabel","_updateNodeProp","globalArguments","rest_api","port_expose","FlowSettingsContainer","PropertyItem","CheckBoxWrapper","CheckBoxLabel","CheckBox","SwitchInput","htmlFor","FlowSettingsComponent","_updateFlowWith","_updateFlowName","IconSidebarLayout","selectModal","selectModalParams","selectLoading","selectBanner","selectMenuState","selectSidebarItems","selectUser","acceptedCookies","setAcceptedCookies","_closeModal","_toggleSidebar","children","logOut","storeCopy","yamlString","WriteReview","PodEdit","FlowSettings","hideSidebarToggle","displayName","emails","photos","profileUrl","provider","username","_json","_raw","pokedex","flower","southpark","blankFlow","initialState","storedFlows","isEmpty","_userFlow","getUserFlows","parsed","parseYAML","isConnected","getExampleFlows","tooltipConfig","tooltipsGlobal","showTooltip","toogleOffWhenClicked","_createNewFlow","draft","customYAML","prefixString","userFlowNumbers","userFlow","sort","b","largestNumber","flowReducer","produce","omit","nonExampleFlows","idFirstNonExampleFlow","selectedFlow","oldNodeIndex","findIndex","oldNode","newNode","withoutLinksAndNode","newLink","linkId","toSave","saveFlowsToStorage","hubReducer","FETCH_HUB_IMAGES","FETCH_HUB_IMAGES_SUCCESS","FETCH_HUB_IMAGES_FAILURE","initialHubState","settingsReducer","logStreamReducer","rawLog","newLogSourceValue","logSources","newLogLevelValue","newLogLevelOccurrence","getInitialLogLevel","_handleNewLog","intialLogStreamState","globalReducer","initialTaskState","taskReducer","taskEvent","speed_unit","bytes_recv","bytes_sent","msg_recv","msg_sent","num_reqs","obj","msgData","bytesData","parseFloat","shift","formatSeconds","_handleNewTaskEvent","rootReducer","combineReducers","hubState","globalState","createStore","composeWithDevTools","applyMiddleware","thunk","jinadInstance","baseURL","statusResult","jina","parseDaemonFlowMethodOptions","podResult","peaResult","getDaemonStatus","daemonStatus","getWorkspaces","workspaces","createWorkspace","files","formData","FormData","file","append","headers","workspace","deleteWorkspace","delete","deleteAllWorkspaces","getArgumentsForFlow","terminateAllFlows","numRetries","retryTimeout","origin","socket","WebSocket","send","getArgumentsForPod","getPod","podId","startPod","podArgs","terminatePod","terminateAllPods","getArgumentsForPea","getPea","peaId","startPea","peaArgs","terminatePea","terminateAllPeas","string","boolean","integer","customProperties","yamlSTR","yamlStrWithoutTag","test","join","YAML","Error","chart","chartWith","podArguments","childParentsMap","child","arr","podProperties","argName","propValue","possibleArguments","decodePropValue","output","minute","hour","numBytes","MAX_CHART_TICKS","emptyItem","step","currentInterval","ceil","now","cloneDeep","j","occurrence","logEntry","lastTimestamp","tagsToHide","rotate","keyframes","Spinner","InnerSpinner","rotateAndHide","OuterSpinner","SpinnerContainer","defaultParams","fetchHubImagesSuccess","fetchHubImagesFailure","ImageLink"],"mappings":"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","file":"static/js/main.1ff36c3e.chunk.js","sourcesContent":["// @ts-nocheck\nimport { FlowChart, NodeData } from \"../redux/flows/flows.types\"\nimport { Edge, Node, XYPosition } from \"react-flow-renderer/dist/types\"\nconst settings = require(\"./../settings\")\n\nexport const createNode = (\n  id: string,\n  data?: NodeData,\n  position: XYPosition\n): Node => {\n  return {\n    id,\n    type: id === \"gateway\" ? \"gateway\" : \"pod\",\n    data,\n    position,\n  }\n}\n\nexport const createLink = (source: string, target: string): Edge => ({\n  id: `e-${source}-to-${target}`,\n  source,\n  target,\n  type: \"step\",\n})\n\n//todo type this properly\ntype ParsedYAML = {\n  pods: Array | { [key: string]: any }\n  with?: {\n    board?: {\n      canvas?: { [key: string]: { x: number; y: number } }\n    }\n  }\n  version?: string\n}\n\nexport const formatForFlowchart = (data: ParsedYAML): FlowChart => {\n  let pods = data.pods\n  let canvas = data.with?.board?.canvas\n\n  const formatted: FlowChart = {\n    with: data.with,\n  }\n\n  let nodes: Node[] = []\n  let links: Edge[] = []\n\n  if (data.version?.includes(\"1\")) {\n    let podMap = {}\n    pods.forEach((pod) => {\n      const id = pod.name\n      delete pod.name\n      podMap[id] = {\n        ...pod,\n      }\n    })\n    pods = podMap\n  }\n\n  if (!pods.gateway) {\n    pods = {\n      gateway: null,\n      ...pods,\n    }\n  }\n\n  let prevNode\n  Object.keys(pods).forEach((id) => {\n    const pod = pods[id] || {}\n\n    let node: Node = createNode(id, pod, {})\n\n    node.data.label = id\n\n    if (prevNode && !node.data.needs && id !== \"gateway\") {\n      !node.data.needs && (node.data.needs = [])\n      node.data.needs.push(prevNode)\n    }\n\n    if (node?.data?.needs)\n      node.data.needs.forEach((parent) => links.push(createLink(parent, id)))\n\n    if (canvas && canvas[id]) {\n      const { x, y } = canvas[id]\n      node.position = { x: parseInt(x), y: parseInt(y) }\n    }\n    nodes.push(node)\n    prevNode = id\n  })\n\n  const depthPopulation = {} //how many nodes at each depth\n  const offsetX = settings.nodeOffset.x\n  const offsetY = settings.nodeOffset.y\n\n  //fallback: if no position encoded on canvas portion of YAML, infer the position using depth and order\n  nodes.forEach((node) => {\n    const depth = getNodeDepth(nodes, node)\n    node.data.depth = depth\n\n    depthPopulation[depth] === undefined\n      ? (depthPopulation[depth] = 1)\n      : (depthPopulation[depth] = depthPopulation[depth] + 1)\n\n    if (!node.position.x)\n      node.position = {\n        y: depth * offsetY + offsetY,\n        x: depthPopulation[depth] * offsetX,\n      }\n  })\n\n  formatted.elements = [...nodes, ...links]\n\n  return formatted\n}\n\nfunction getNodeDepth(nodes: Node[], node: Node): number {\n  const parents = node.data.needs\n\n  if (!parents || parents.length === 0) return 0\n  else {\n    const parentDepthList = parents.map((parentId) => {\n      const parent = nodes.find((node) => node.id === parentId)\n      let depth\n      if (parent.data.depth) depth = parent.data.depth\n      else depth = getNodeDepth(nodes, parent)\n      return depth\n    })\n    const max = Math.max(...parentDepthList) + 1\n    return max\n  }\n}\n","import { SettingsState } from \"./settings.types\";\n\nexport const defaultPort = \"5000\";\nexport const defaultHost = \"http://localhost\";\n\nexport const UPDATE_SETTINGS = \"UPDATE_SETTINGS\";\n\nexport const intialSettings: SettingsState = {\n  settings: {\n    host: localStorage.getItem(\"preferences-host\") || defaultHost,\n    port: localStorage.getItem(\"preferences-port\") || defaultPort,\n    log: localStorage.getItem(\"preferences-log\") || \"/stream/log\",\n    profile: localStorage.getItem(\"preferences-profile\") || \"/stream/profile\",\n    yaml: localStorage.getItem(\"preferences-yaml\") || \"/data/yaml\",\n    shutdown:\n      localStorage.getItem(\"preferences-shutdown\") || \"/action/shutdown\",\n    ready: localStorage.getItem(\"preferences-ready\") || \"/status/ready\",\n  },\n};\n","import React, { ReactNode } from \"react\";\nimport { Card, Row, Col } from \"react-bootstrap\";\n\ntype Props = {\n  title: ReactNode;\n  content: string;\n  icon: string;\n  theme: string;\n  link: string;\n  dataName: string;\n};\n\nfunction HelpCard({ title, content, icon, theme, link, dataName }: Props) {\n  return (\n    <a\n      className=\"unstyled-link\"\n      href={link}\n      target=\"_blank\"\n      rel=\"noopener noreferrer\"\n      data-name={dataName}\n    >\n      <Card className=\"h-100\">\n        <Card.Body className=\"pt-3\">\n          <Row className=\"align-items-center\">\n            <Col xs=\"8\">\n              <h4>{title}</h4>\n            </Col>\n            <Col xs=\"4\">\n              <h1 className=\"float-right\">\n                <span className={`${icon} log-${theme}`} />\n              </h1>\n            </Col>\n          </Row>\n          <Row>\n            <Col>{content}</Col>\n          </Row>\n        </Card.Body>\n      </Card>\n    </a>\n  );\n}\n\nexport { HelpCard };\n","import React from \"react\";\nimport { Container, Row, Col } from \"shards-react\";\nimport { HelpCard } from \"../components/Common/HelpCard\";\nimport { PageTitle } from \"../components/Common/PageTitle\";\n\nconst NotFound = () => (\n  <Container fluid className=\"main-content-container px-4\" data-name=\"helpPage\">\n    <Row noGutters className=\"page-header mb-4\">\n      <PageTitle title=\"Resources\" className=\"text-sm-left mb-3\" />\n    </Row>\n    <Row>\n      <Col md=\"4\" lg=\"3\" className=\"mb-4\">\n        <HelpCard\n          title=\"Jina 101\"\n          content=\"Understanding all key concepts of Jina in 3 minutes!\"\n          link=\"https://101.jina.ai\"\n          icon=\"fas fa-egg\"\n          theme=\"warning\"\n          dataName=\"jina-101-card\"\n        />\n      </Col>\n      <Col md=\"4\" lg=\"3\" className=\"mb-4\">\n        <HelpCard\n          title=\"Jina Docs\"\n          content=\"The best way to learn Jina in depth.\"\n          link=\"https://docs.jina.ai\"\n          icon=\"fas fa-book\"\n          theme=\"primary\"\n          dataName=\"jina-docs-card\"\n        />\n      </Col>\n      <Col md=\"4\" lg=\"3\" className=\"mb-4\">\n        <HelpCard\n          title='Jina \"Hello World\"'\n          content=\"A simple demo of image neural search for Fashion-MNIST.\"\n          link=\"https://github.com/jina-ai/jina#jina-hello-world-\"\n          icon=\"fas fa-globe-europe\"\n          theme=\"error\"\n          dataName=\"jina-hello-world-card\"\n        />\n      </Col>\n      <Col md=\"4\" lg=\"3\" className=\"mb-4\">\n        <HelpCard\n          title={\n            <span>\n              Visit us on <span className=\"text-nowrap\">Github!</span>\n            </span>\n          }\n          content=\"Explore more exciting open-source projects from us.\"\n          link=\"https://opensource.jina.ai\"\n          icon=\"fab fa-github\"\n          theme=\"info\"\n          dataName=\"jina-github-card\"\n        />\n      </Col>\n      <Col md=\"4\" lg=\"3\" className=\"mb-4\">\n        <HelpCard\n          title=\"We are hiring!\"\n          content=\"Join us and build the next neural search eco system!\"\n          link=\"https://www.linkedin.com/company/jinaai/jobs/\"\n          icon=\"fab fa-linkedin\"\n          theme=\"linkedin\"\n          dataName=\"jina-linkedin-card\"\n        />\n      </Col>\n    </Row>\n  </Container>\n);\n\nexport default NotFound;\n","export const copyToClipboard = (str: string) => {\n  const temp = document.createElement(\"textarea\")\n  temp.value = str\n  document.body.appendChild(temp)\n  temp.select()\n  document.execCommand(\"copy\")\n  document.body.removeChild(temp)\n  return\n}\n\nexport const timeout = (ms: number) => {\n  return new Promise((resolve) => setTimeout(resolve, ms))\n}\n","import { HANDLE_NEW_LOG, SHOW_LOG_INDEX } from \"./logStream.constants\"\nimport {\n  handleNewLogAction,\n  showLogAtIndexAction,\n  RawLog,\n} from \"./logStream.types\"\nimport { ThunkAction } from \"redux-thunk\"\nimport { Action } from \"redux\"\n\nimport store from \"..\"\nimport { showBanner } from \"../global/global.actions\"\nimport logger from \"../../logger\"\nimport jinadClient from \"../../services/jinad\"\n\nexport function showLogAtIndex(logIndex: number): showLogAtIndexAction {\n  return {\n    type: SHOW_LOG_INDEX,\n    payload: logIndex,\n  }\n}\n\nexport function handleNewLog(log: RawLog): handleNewLogAction {\n  return {\n    type: HANDLE_NEW_LOG,\n    payload: log,\n  }\n}\n\nexport function initLogStream(\n  workspace_id: string,\n  flow_id: string\n): ThunkAction<void, any, unknown, Action<string>> {\n  return async function (dispatch) {\n    function handleConnection({\n      connected,\n      message,\n    }: {\n      connected: boolean\n      message: string\n    }) {\n      if (!connected) return dispatch(showBanner(message, \"error\") as any)\n    }\n\n    let flowResult = await jinadClient.waitForFlow(workspace_id, flow_id)\n\n    if (flowResult.status === \"error\")\n      return dispatch(showBanner(flowResult.message, \"error\") as any)\n\n    let logsResult = await jinadClient.getLogs(workspace_id, flow_id)\n\n    if (logsResult.status === \"error\") {\n      if (logsResult.message)\n        dispatch(showBanner(logsResult.message, \"error\") as any)\n      return\n    }\n\n    function handleLog(log: RawLog) {\n      dispatch(handleNewLog(log))\n    }\n\n    const { logs } = logsResult\n\n    logger.log(\"got logs:\", logs)\n\n    logs.forEach(handleLog)\n\n    const settings = store.getState().settingsState.settings\n    jinadClient.listenForLogs(\n      workspace_id,\n      flow_id,\n      settings,\n      handleConnection,\n      handleLog\n    )\n  }\n}\n","import axios from \"axios\";\nimport * as queryString from \"query-string\";\nimport { FilterParams } from \"../components/Hub/HubFilters\";\n\nconst HUB_API_ENDPOINT = process.env.REACT_APP_HUB_API!;\n\nexport const getHubImages = async (filters: FilterParams) => {\n  const response = await axios.get(HUB_API_ENDPOINT + \"/images\", {\n    params: filters,\n    paramsSerializer: (params) => serializeQueryParams(params),\n  });\n\n  return response.data;\n};\n\nexport const getDocumentationHTML = async (url: string) => {\n  const rawMarkdownURL = getRawMarkdownURL(url);\n  const rawMarkdownResponse = await axios.get(rawMarkdownURL);\n  const HTMLResponse = await axios.post(\"https://api.github.com/markdown\", {\n    text: rawMarkdownResponse.data,\n  });\n\n  return HTMLResponse.data;\n};\n\nexport const serializeQueryParams = (params: Record<string, any>) =>\n  queryString.stringify(params, { arrayFormat: \"comma\", skipNull: true });\n\nexport const getRawMarkdownURL = (url: string): string => {\n  const defaultRawMarkdownURL =\n    \"https://raw.githubusercontent.com/jina-ai/jina-hub/master/README.md\";\n\n  return url.includes(\"/blob/master/\")\n    ? url.replace(\"github\", \"raw.githubusercontent\").replace(\"/blob\", \"\")\n    : defaultRawMarkdownURL;\n};\n","/* eslint jsx-a11y/anchor-is-valid: 0 */\n\nimport React from \"react\";\nimport { Container, Row, Col, Card, CardBody } from \"shards-react\";\n\nclass Login extends React.Component {\n  componentDidMount = () => {\n    let hash = window.location.href;\n    const codeIndex = hash.indexOf(\"code\");\n    if (codeIndex > 0) {\n    }\n  };\n  render = () => {\n    return (\n      <Container fluid className=\"main-content-container px-0\">\n        <Row noGutters className=\"h-100\">\n          <Col lg=\"3\" md=\"5\" className=\"auth-form mx-auto\">\n            <Card>\n              <CardBody>\n                <img\n                  className=\"auth-form__logo d-table mx-auto mb-3\"\n                  src=\"/jina-light.svg\"\n                  style={{ maxWidth: \"100px\" }}\n                  alt=\"Jina\"\n                />\n                <h5 className=\"auth-form__title text-center mb-4\">Log in</h5>\n                <a\n                  id=\"github-button\"\n                  className=\"btn btn-block btn-social btn-github\"\n                >\n                  <i className=\"fab fa-github\"></i> Sign in with GitHub\n                </a>\n              </CardBody>\n            </Card>\n          </Col>\n        </Row>\n      </Container>\n    );\n  };\n}\n\nexport default Login;\n","import React from \"react\";\nimport { Link } from \"react-router-dom\";\nimport styled from \"@emotion/styled\";\n\ntype NavigateButtonProps = {\n  label: string;\n  path: string;\n};\n\nconst NavigationLink = styled(Link)`\n  color: ${(props) => props.theme.palette.mutedText};\n  font-size: 1.25rem;\n  width: 20%;\n  padding: 1rem;\n  &:hover {\n    text-decoration: none;\n  }\n`;\n\nconst NavigateButton = ({ label, path }: NavigateButtonProps) => {\n  return (\n    <>\n      <NavigationLink to={path}> {label} </NavigationLink>\n    </>\n  );\n};\n\nexport default NavigateButton;\n","import React from \"react\";\nimport { Card, CardBody } from \"shards-react\";\nimport { HubImage } from \"../../redux/hub/hub.types\";\nimport styled from \"@emotion/styled\";\nimport { Tag } from \"./ImageCard\";\n\ntype Props = {\n  image: HubImage;\n};\n\nconst SectionHeading = styled.div`\n  font-size: 1.25rem;\n  font-weight: 700;\n  color: ${(props) => props.theme.palette.headerTextColor};\n`;\nconst DetailsSection = styled.div`\n  display: flex;\n  flex-direction: column;\n`;\nconst Platform = styled(Tag)`\n  background-color: ${(props) => props.theme.palette.tagPlatformBackground};\n`;\n\nexport default function ImageDetails({ image }: Props) {\n  let { keywords, platform, author } = image;\n  let dockerCommand = image[\"docker-command\"];\n  return (\n    <Card className=\"readme-container mb-4\">\n      <CardBody className=\"pt-0 pb-2\">\n        <DetailsSection>\n          <SectionHeading>Tags</SectionHeading>\n          <div>\n            {keywords.map((keyword) => (\n              <Tag data-name=\"hubImageTags\" key={keyword}>\n                {keyword}\n              </Tag>\n            ))}\n          </div>\n        </DetailsSection>\n        <DetailsSection>\n          <SectionHeading>Platform</SectionHeading>\n          <div>\n            {platform.map((p) => (\n              <Platform data-name=\"hubImageTags\" key={p}>\n                {p}\n              </Platform>\n            ))}\n          </div>\n        </DetailsSection>\n        <DetailsSection>\n          <SectionHeading>Docker Pull Command</SectionHeading>\n          <div>{dockerCommand}</div>\n        </DetailsSection>\n        <DetailsSection>\n          <SectionHeading>Owner</SectionHeading>\n          <div>{author}</div>\n        </DetailsSection>\n      </CardBody>\n    </Card>\n  );\n}\n","import React, { useState, useEffect } from \"react\";\nimport { Card, CardHeader, CardBody } from \"shards-react\";\nimport { getDocumentationHTML } from \"../../services/hubApi\";\nimport SpinningLoader from \"../Common/SpinningLoader\";\n\ntype Props = {\n  documentation: string;\n};\n\nexport default function ReadMe({ documentation }: Props) {\n  let [readme, setReadme] = useState(\"\");\n  useEffect(() => {\n    (async () => {\n      const readmeHTML = await getDocumentationHTML(documentation);\n      setReadme(readmeHTML);\n    })();\n  }, [documentation]);\n  return (\n    <Card className=\"readme-container mb-4\">\n      <CardHeader className=\"border-bottom d-flex flex-row\">\n        <h6 className=\"m-0 d-inline-block\">README.md</h6>\n        <div className=\"flex-fill d-inline-block\" />\n        <a\n          href={documentation}\n          target=\"_blank\"\n          rel=\"noopener noreferrer\"\n          className=\"cursor-pointer text-primary\"\n        >\n          <i className=\"fab fa-github\"></i> View on GitHub\n        </a>\n      </CardHeader>\n      <CardBody>\n        {readme ? (\n          <div\n            className=\"markup\"\n            dangerouslySetInnerHTML={{ __html: readme }}\n          />\n        ) : (\n          <SpinningLoader />\n        )}\n      </CardBody>\n    </Card>\n  );\n}\n","import styled from \"@emotion/styled\";\n\nexport const Title = styled.h2`\n  color: ${(props) => props.theme.palette.headerTextColor};\n  padding: 1rem;\n`;\nexport const Paragraph = styled.p`\n  color: ${(props) => props.theme.palette.headerTextColor};\n  padding: 1rem;\n`;\n","import React from \"react\";\nimport { useParams } from \"react-router-dom\";\nimport { useSelector, useDispatch } from \"react-redux\";\nimport styled from \"@emotion/styled\";\nimport {\n  selectHubImages,\n  selectIsHubImagesLoading,\n} from \"../redux/hub/hub.selectors\";\nimport { fetchHubImages } from \"../redux/hub/hub.actions\";\nimport { Row, Col } from \"react-bootstrap\";\nimport { Card } from \"shards-react\";\nimport ImageDetails from \"../components/Hub/ImageDetails\";\nimport Readme from \"../components/Hub/Readme\";\nimport SpinningLoader from \"../components/Common/SpinningLoader\";\nimport { Title, Paragraph } from \"../components/Common/Typography\";\n\nconst ImageContainer = styled.div`\n  padding: 0 1.75rem;\n`;\nconst PackageView = () => {\n  const dispatch = useDispatch();\n  let { packageId } = useParams<{ packageId: string }>();\n  const hubImages = useSelector(selectHubImages);\n  const isHubImagesLoading = useSelector(selectIsHubImagesLoading);\n  const image = hubImages[parseInt(packageId, 10)];\n  if (hubImages.length === 0 && !isHubImagesLoading) {\n    dispatch(fetchHubImages());\n  }\n  return (\n    <>\n      {\" \"}\n      {hubImages.length === 0 ? (\n        <SpinningLoader />\n      ) : (\n        <ImageContainer>\n          <Row>\n            <Col md=\"8\">\n              <Card>\n                <Title data-name=\"imageOverviewTitle\">{image.name}</Title>\n                <Paragraph data-name=\"imageOverviewDescription\">\n                  {image.description}\n                </Paragraph>\n              </Card>\n              <Readme documentation={image.documentation} />\n            </Col>\n            <Col md=\"4\">\n              <ImageDetails image={image} />\n            </Col>\n          </Row>\n        </ImageContainer>\n      )}\n    </>\n  );\n};\n\nexport default PackageView;\n","import React, { useState } from \"react\";\nimport styled from \"@emotion/styled\";\nimport { useTheme } from \"@emotion/react\";\n\nexport type FilterMap = { [key: string]: boolean };\nexport type FilterParams = {\n  kind: string[];\n  keywords: string[];\n};\nexport type Filter = {\n  filterLabel: string;\n  values: FilterMap;\n};\ntype HubFilterProps = {\n  filters: Filter[];\n  setFilters: (filters: Filter[]) => void;\n  getHubImages: (filters: FilterParams) => void;\n};\n\nexport const getSelectedFilters = (filters: Filter[]) => {\n  return {\n    kind: getCheckedFilterValues(filters[0]),\n    keywords: getCheckedFilterValues(filters[1]),\n  };\n};\n\nexport const getCheckedFilterValues = (filter: Filter) => {\n  return Object.keys(filter.values).reduce((acc, key) => {\n    let filterValue = filter.values;\n    return filterValue[key] ? [...acc, key] : acc;\n  }, [] as string[]);\n};\n\nconst FiltersTitle = styled.div`\n  font-weight: 500;\n  font-size: 1.25rem;\n`;\n\nconst FiltersContainer = styled.div`\n  display: flex;\n  flex-direction: column;\n`;\n// Hide checkbox but keep it in the DOM for accessibility\nconst Checkbox = styled.input`\n  margin-right: -1rem;\n  opacity: 0;\n`;\ntype CheckboxLabelProps = {\n  checked: boolean;\n  highlightColor: string;\n};\nconst CheckboxLabel = styled.label`\n  border: ${(props: CheckboxLabelProps) =>\n    props.checked ? `1px solid ${props.highlightColor}` : \"none\"};\n  border-radius: 0.25rem;\n  padding: 0.25rem 0.5rem;\n`;\n\nconst HubFilters = ({ filters, setFilters, getHubImages }: HubFilterProps) => {\n  const handleFilterChange = (\n    filterCategoryIndex: number,\n    key: string,\n    value: boolean\n  ) => {\n    filters[filterCategoryIndex].values[key] = value;\n    setFilters(filters);\n    getHubImages(getSelectedFilters(filters));\n  };\n  return (\n    <div data-name=\"hubImagesFilter\">\n      {filters &&\n        filters.map((filter: Filter, filterCategoryIndex: number) => (\n          <div key={filterCategoryIndex}>\n            <FiltersTitle>{filter.filterLabel}</FiltersTitle>\n            <FiltersContainer>\n              {Object.keys(filter.values).map((key) => (\n                <FilterCheckbox\n                  filter={filter}\n                  value={filter.values[key]}\n                  key={key}\n                  label={key}\n                  filterCategoryIndex={filterCategoryIndex}\n                  handleFilterChange={handleFilterChange}\n                />\n              ))}\n            </FiltersContainer>\n          </div>\n        ))}\n    </div>\n  );\n};\n\ntype FilterCheckboxProps = {\n  filter: Filter;\n  value: boolean;\n  label: string;\n  filterCategoryIndex: number;\n  handleFilterChange: (\n    filterCategoryIndex: number,\n    key: string,\n    value: boolean\n  ) => void;\n};\n\nconst FilterCheckbox = ({\n  filter,\n  value,\n  label,\n  filterCategoryIndex,\n  handleFilterChange,\n}: FilterCheckboxProps) => {\n  const [checked, setChecked] = useState(value);\n  const theme = useTheme();\n  const { highlight } = theme.palette;\n  const handleFilterSelect = () => {\n    setChecked(!checked);\n    handleFilterChange(filterCategoryIndex, label, !checked);\n  };\n  return (\n    <CheckboxLabel checked={checked} highlightColor={highlight || \"cyan\"}>\n      <Checkbox\n        type=\"checkbox\"\n        checked={checked}\n        onChange={() => handleFilterSelect()}\n      />\n      {label}\n    </CheckboxLabel>\n  );\n};\n\nexport default HubFilters;\n","import React, { useEffect, useState, useCallback } from \"react\";\nimport { useSelector, useDispatch } from \"react-redux\";\nimport { Row, Col } from \"react-bootstrap\";\nimport { fetchHubImages } from \"../../redux/hub/hub.actions\";\nimport {\n  selectHubImages,\n  selectIsHubImagesLoading,\n} from \"../../redux/hub/hub.selectors\";\nimport { HubImage } from \"../../redux/hub/hub.types\";\nimport ImageCard from \"./ImageCard\";\nimport HubFilters from \"./HubFilters\";\nimport SpinningLoader from \"../Common/SpinningLoader\";\nimport { Filter, FilterMap } from \"./HubFilters\";\n\nexport const removeDuplicates = (arrayWithDuplicates: string[]): string[] =>\n  arrayWithDuplicates.filter((e, i) => {\n    return arrayWithDuplicates.indexOf(e) === i;\n  });\n\nexport const convertArrayToFilterObject = (\n  array: string[],\n  filter: Filter\n): FilterMap =>\n  array.reduce(\n    (acc, f) => ({\n      ...acc,\n      [f]: (filter?.values && filter.values[f]) || false,\n    }),\n    {} as FilterMap\n  );\n\nexport const getImageFilters = (images: HubImage[], filters: Filter[]) => {\n  return [\n    {\n      filterLabel: \"Type of image\",\n      values: convertArrayToFilterObject(\n        removeDuplicates(\n          images.reduce((acc, image) => [...acc, image.kind], [] as string[])\n        ),\n        filters[0]\n      ),\n    },\n    {\n      filterLabel: \"Key domain of the image\",\n      values: convertArrayToFilterObject(\n        removeDuplicates(\n          images.reduce(\n            (acc, image) => [...acc, ...image.keywords],\n            [] as string[]\n          )\n        ),\n        filters[1]\n      ),\n    },\n  ];\n};\n\nconst HubImagesList = () => {\n  const dispatch = useDispatch();\n  const hubImages = useSelector(selectHubImages);\n  const isHubImagesLoading = useSelector(selectIsHubImagesLoading);\n  let [filters, setFilters] = useState([] as Filter[]);\n  if (hubImages.length === 0 && !isHubImagesLoading) {\n    dispatch(fetchHubImages());\n  }\n\n  useEffect(() => {\n    hubImages && setFilters(getImageFilters(hubImages, filters));\n  }, [hubImages]); // eslint-disable-line react-hooks/exhaustive-deps\n\n  const getHubImages = useCallback(\n    (filters) => {\n      dispatch(fetchHubImages(filters));\n    },\n    [dispatch]\n  );\n\n  return (\n    <>\n      {isHubImagesLoading ? (\n        <SpinningLoader />\n      ) : (\n        <Row>\n          <Col md=\"2\">\n            <HubFilters\n              filters={filters}\n              setFilters={setFilters}\n              getHubImages={getHubImages}\n            />\n          </Col>\n          <Col md=\"10\">\n            <Row data-name=\"hubImagesList\">\n              {hubImages.map((image, index) => (\n                <Col\n                  key={`${image.name}.${image.version}.${image[\"jina-version\"]}`}\n                  md=\"4\"\n                  className=\"mb-4\"\n                >\n                  <ImageCard image={image} index={index} />\n                </Col>\n              ))}\n            </Row>\n          </Col>\n        </Row>\n      )}\n    </>\n  );\n};\n\nexport default HubImagesList;\n","import { saveAs } from \"file-saver\";\n\nfunction handleErrorMessage(msg: any, url: any, line: any) {\n  // @ts-ignore\n  logger.log(\"window.onerror - ERROR\", msg, url, `line: ${line}`);\n}\n\nfunction pushLog(data: any) {\n  (window as any).logs.push(data);\n}\n\nfunction clearLogs() {\n  (window as any).logs = [];\n}\n\nconst logger = {\n  log: function (...arg: any) {\n    if (!(window as any).logsEnabled) return;\n    let args = [...(arguments as any)];\n    console.log(...args);\n    pushLog(args);\n  },\n  isEnabled: function () {\n    return (window as any).logsEnabled;\n  },\n  enable: function () {\n    const _navigator: any = {};\n    for (let i in window.navigator)\n      _navigator[i] = (window as any).navigator[i];\n    clearLogs();\n    pushLog(_navigator);\n    window.addEventListener(\"error\", handleErrorMessage as any);\n    (window as any).logsEnabled = true;\n  },\n  disable: function () {\n    window.removeEventListener(\"error\", handleErrorMessage as any);\n    (window as any).logsEnabled = false;\n  },\n  setFormat: function (format = \"json\") {\n    (window as any).logsFormat = format;\n  },\n  exportLogs: function () {\n    const format = (window as any).logsFormat || \"json\";\n    const logs = (window as any).logs;\n    let content = \"[\\n\";\n    for (let i = 0; i < logs.length; ++i) {\n      let args = logs[i];\n      content += JSON.stringify(args) + `${i < logs.length - 1 ? \",\" : \"\"}\\n`;\n    }\n    content += \"]\";\n\n    let filename = `jina-dashboard-debug-output-${new Date()}.${format}`;\n    let blob = new Blob([content], { type: \"text,plain;charset=utf-8\" });\n    saveAs(blob, filename);\n  },\n};\n\nexport default logger;\n","import axios from \"axios\";\nimport {\n  FlowArgument,\n  FlowArguments,\n  FlowArgumentType,\n} from \"../redux/flows/flows.types\";\nimport { JinaApiMethodOption, JinaApiResponse } from \"./services.types\";\n\nconst JINA_API_ENDPOINT = process.env.REACT_APP_JINA_API!;\n\nexport const getJinaFlowArguments = async (): Promise<FlowArguments> => {\n  let response = await axios.get(JINA_API_ENDPOINT + \"/latest.json\");\n  let data: JinaApiResponse = response.data;\n  let flowArguments: FlowArguments = {\n    flow: parseFlowMethodOption(\n      data.methods.find((m) => m.name === \"flow\")?.options\n    ),\n    pea: parseFlowMethodOption(\n      data.methods.find((m) => m.name === \"pea\")?.options\n    ),\n    pod: parseFlowMethodOption(\n      data.methods.find((m) => m.name === \"pod\")?.options\n    ),\n    version: data.version,\n  };\n  return flowArguments;\n};\n\nconst typeMap: { [key: string]: FlowArgumentType } = {\n  str: \"string\",\n  bool: \"boolean\",\n  int: \"integer\",\n  \"typing.List[str]\": \"string\",\n};\n\nexport const parseFlowMethodOption = (\n  options?: JinaApiMethodOption[]\n): FlowArgument[] => {\n  if (!options) return [];\n  return options.map(\n    ({ name, help: description, default: defaultValue, type: itemType }) => {\n      const type = typeMap[itemType];\n      if (typeof defaultValue === \"undefined\" || defaultValue === null)\n        return { name, description, type };\n      return { name, description, defaultValue, type };\n    }\n  );\n};\n","import {\n  CLOSE_MODAL,\n  FETCH_ARGUMENTS_FROM_API,\n  FETCH_ARGUMENTS_FROM_DAEMON,\n  HANDLE_CONNECTION_STATUS,\n  HIDE_BANNER,\n  HIDE_BANNER_TIMEOUT,\n  SHOW_BANNER,\n  SHOW_ERROR,\n  SHOW_MODAL,\n  TOGGLE_SIDE_BAR,\n} from \"./global.constants\"\nimport {\n  CloseModalAction,\n  HandleConnectionStatusAction,\n  HideBannerAction,\n  Modal,\n  ShowBannerAction,\n  ShowErrorAction,\n  ShowModalAction,\n  ToggleSidebarAction,\n} from \"./global.types\"\nimport { AppThunk } from \"../index\"\nimport store from \"..\"\nimport jinadClient from \"../../services/jinad\"\nimport { getJinaFlowArguments } from \"../../services/jinaApi\"\nimport { setFlowArguments } from \"../flows/flows.actions\"\nimport logger from \"../../logger\"\n\nexport function handleConnectionStatus(\n  connected: boolean,\n  message: string\n): AppThunk {\n  return function (dispatch) {\n    dispatch(_handleConnectionStatus(connected, message))\n    if (connected) {\n      dispatch(showBanner(message, \"success\"))\n      dispatch(fetchArgumentsFromDaemon())\n    } else {\n      dispatch(fetchArgumentsFromApi())\n    }\n  }\n}\n\nexport function _handleConnectionStatus(\n  connected: boolean,\n  message: string\n): HandleConnectionStatusAction {\n  return {\n    type: HANDLE_CONNECTION_STATUS,\n    payload: {\n      connected,\n      message,\n    },\n  }\n}\n\nexport function fetchArgumentsFromApi(): AppThunk {\n  return async function (dispatch) {\n    dispatch({ type: FETCH_ARGUMENTS_FROM_API })\n    let flowArguments = await getJinaFlowArguments()\n    logger.log(\"loadFlowArgumentsFromApi | flowArguments:\", flowArguments)\n    return dispatch(setFlowArguments(flowArguments))\n  }\n}\n\nexport function fetchArgumentsFromDaemon(): AppThunk {\n  return async function (dispatch) {\n    dispatch({ type: FETCH_ARGUMENTS_FROM_DAEMON })\n    let flowArguments = await jinadClient.getJinaFlowArguments()\n    logger.log(\"loadFlowArgumentsFromDaemon | flowArguments:\", flowArguments)\n    return dispatch(setFlowArguments(flowArguments))\n  }\n}\n\nexport function toggleSidebar(): ToggleSidebarAction {\n  return {\n    type: TOGGLE_SIDE_BAR,\n  }\n}\n\nexport function _showBanner(message: string, theme: string): ShowBannerAction {\n  return {\n    type: SHOW_BANNER,\n    payload: {\n      message,\n      theme,\n    },\n  }\n}\n\nexport function _hideBanner(): HideBannerAction {\n  return {\n    type: HIDE_BANNER,\n  }\n}\n\nexport function showBanner(message: string, theme: string): AppThunk {\n  return function (dispatch) {\n    dispatch(_showBanner(message, theme))\n    setTimeout(() => {\n      dispatch(_hideBanner())\n    }, HIDE_BANNER_TIMEOUT)\n  }\n}\n\nexport function showError(message: string): ShowErrorAction {\n  return {\n    type: SHOW_ERROR,\n    payload: {\n      message,\n    },\n  }\n}\n\nexport function showModal(modal: Modal, modalParams?: any): ShowModalAction {\n  return {\n    type: SHOW_MODAL,\n    payload: {\n      modal,\n      modalParams: modalParams || null,\n    },\n  }\n}\n\nexport function closeModal(): CloseModalAction {\n  return {\n    type: CLOSE_MODAL,\n  }\n}\n\nexport function connectJinaD(): AppThunk {\n  return function (dispatch) {\n    const settings = store.getState().settingsState.settings\n    function onConnectionStatus({\n      connected,\n      message,\n    }: {\n      connected: boolean\n      message: string\n    }) {\n      dispatch(handleConnectionStatus(connected, message))\n    }\n    jinadClient.connect(settings, onConnectionStatus)\n  }\n}\n","import {\n  CREATE_NEW_FLOW,\n  DELETE_FLOW,\n  DELETE_NODE,\n  UPDATE_NODE,\n  DUPLICATE_FLOW,\n  LOAD_FLOW,\n  RERENDER,\n  UPDATE_SELECTED_FLOW,\n  IMPORT_FLOW,\n  SET_FLOW_ARGUMENTS,\n  ADD_NODE,\n  ADD_LINK,\n  DELETE_LINK,\n  UPDATE_NODE_DATA,\n} from \"./flows.constants\"\nimport {\n  CreateNewFlowAction,\n  DeleteFlowAction,\n  DeleteNodeAction,\n  DuplicateFlowAction,\n  FlowState,\n  LoadFlowAction,\n  NodeUpdate,\n  RerenderAction,\n  UpdateNodeAction,\n  UpdateSelectedFlowAction,\n  ImportFlowAction,\n  FlowArguments,\n  SetFlowArgumentsAction,\n  FlowUpdate,\n  NodeId,\n  AddNodeAction,\n  AddLinkAction,\n  DeleteLinkAction,\n  DeleteLinkProps,\n  NodeData,\n  UpdateNodePropertiesAction,\n  NodeDataUpdate,\n  Flow,\n} from \"./flows.types\"\n\nimport { ThunkAction } from \"redux-thunk\"\nimport { Action } from \"redux\"\n\nimport { showBanner } from \"../global/global.actions\"\nimport { initLogStream } from \"../logStream/logStream.actions\"\nimport store from \"..\"\nimport { formatAsYAML } from \"../../helpers\"\nimport logger from \"../../logger\"\nimport jinadClient from \"../../services/jinad\"\nimport { XYPosition } from \"react-flow-renderer/dist/types\"\nimport { ElementId } from \"react-flow-renderer/dist/nocss/types\"\n\nexport function loadFlow(flowId: string): LoadFlowAction {\n  return {\n    type: LOAD_FLOW,\n    payload: flowId,\n  }\n}\n\nexport function createNewFlow(): CreateNewFlowAction {\n  return {\n    type: CREATE_NEW_FLOW,\n  }\n}\n\nexport function setFlowArguments(\n  flowArguments: FlowArguments\n): SetFlowArgumentsAction {\n  return {\n    type: SET_FLOW_ARGUMENTS,\n    payload: flowArguments,\n  }\n}\n\nexport function updateSelectedFlow(\n  flowUpdate: FlowUpdate\n): UpdateSelectedFlowAction {\n  return {\n    type: UPDATE_SELECTED_FLOW,\n    payload: flowUpdate,\n  }\n}\n\nexport function duplicateFlow(flowYAML: string): DuplicateFlowAction {\n  return {\n    type: DUPLICATE_FLOW,\n    payload: flowYAML,\n  }\n}\n\nexport function importFlow(flowYAML: string): ImportFlowAction {\n  return {\n    type: IMPORT_FLOW,\n    payload: flowYAML,\n  }\n}\n\nexport function deleteFlow(flowId: string): DeleteFlowAction {\n  return {\n    type: DELETE_FLOW,\n    payload: flowId,\n  }\n}\n\nexport function addNode(\n  id: string,\n  position: XYPosition,\n  data?: NodeData\n): AddNodeAction {\n  return {\n    type: ADD_NODE,\n    payload: {\n      data,\n      id,\n      position,\n    },\n  }\n}\n\nexport function addLink(\n  source: NodeId,\n  target: NodeId,\n  sourceHandle: ElementId | null,\n  targetHandle: ElementId | null\n): AddLinkAction {\n  return {\n    type: ADD_LINK,\n    payload: {\n      source,\n      target,\n      sourceHandle,\n      targetHandle,\n    },\n  }\n}\n\nexport function deleteLink(deleteLinkProps: DeleteLinkProps): DeleteLinkAction {\n  return {\n    type: DELETE_LINK,\n    payload: deleteLinkProps,\n  }\n}\n\nexport function updateNode(\n  nodeId: string,\n  nodeUpdate: NodeUpdate\n): UpdateNodeAction {\n  return {\n    type: UPDATE_NODE,\n    payload: { nodeId, nodeUpdate },\n  }\n}\n\nexport function updateNodeProperties(\n  nodeId: string,\n  nodePropertiesUpdate: NodeDataUpdate\n): UpdateNodePropertiesAction {\n  return {\n    type: UPDATE_NODE_DATA,\n    payload: { nodeId, nodePropertiesUpdate },\n  }\n}\n\nexport function deleteNode(nodeId: string): DeleteNodeAction {\n  return {\n    type: DELETE_NODE,\n    payload: nodeId,\n  }\n}\n\nexport function rerender(): RerenderAction {\n  return {\n    type: RERENDER,\n  }\n}\n\nexport function startFlow(\n  selectedFlowId: string\n): ThunkAction<void, FlowState, unknown, Action<string>> {\n  return async function (dispatch) {\n    logger.log(\"starting flow: \", selectedFlowId)\n    const flow = store.getState().flowState.flows[selectedFlowId] as Flow\n    const flowArguments = store.getState().flowState\n      .flowArguments as FlowArguments\n    const { flowChart } = flow\n    logger.log(\"starting flow chart: \", flowChart)\n    const yaml = formatAsYAML(flowChart, flowArguments)\n    logger.log(\"starting flow yaml: \", flowChart)\n    const result = await jinadClient.startFlow(yaml)\n    const { status, message, flow_id } = result\n\n    dispatch(updateSelectedFlow({ flow_id }))\n\n    if (status === \"error\") return dispatch(showBanner(message, \"error\") as any)\n\n    dispatch(showBanner(message, \"success\") as any)\n\n    dispatch(initNetworkFlow(selectedFlowId))\n    //TODO: initialize flow (logs, etc)\n  }\n}\n\nexport function stopFlow(\n  selectedFlowId: string\n): ThunkAction<void, FlowState, unknown, Action<string>> {\n  return async function (dispatch) {\n    logger.log(\"stop flow: \", selectedFlowId)\n    const flowProperties = store.getState().flowState.flows[selectedFlowId]\n    const { flow_id } = flowProperties\n    logger.log(\"flowProperties:\", flowProperties)\n    logger.log(\"flow_id:\", flow_id)\n    if (!flow_id)\n      return dispatch(showBanner(\"Flow is not deployed\", \"error\") as any)\n\n    const result = await jinadClient.terminateFlow(flow_id)\n    const { status, message } = result\n\n    logger.log(\"stopFlow result: \", result)\n    if (status === \"error\") return dispatch(showBanner(message, \"error\") as any)\n\n    dispatch(showBanner(message, \"success\") as any)\n    //TODO: initialize flow (logs, etc)\n  }\n}\n\nexport function initNetworkFlow(\n  selectedFlowId: string\n): ThunkAction<void, FlowState, unknown, Action<string>> {\n  return async function (dispatch) {\n    const { flow_id } = store.getState().flowState.flows[selectedFlowId]\n    if (!flow_id) return\n    const flowResult = await jinadClient.getFlow(flow_id)\n    logger.log(\"got network flow:\", flowResult)\n    if (flowResult.status === \"error\") {\n      if (flowResult.message)\n        dispatch(showBanner(flowResult.message, \"error\") as any)\n      return\n    }\n    const { workspace_id } = flowResult.flow\n\n    dispatch(updateSelectedFlow({ workspace_id }))\n\n    //See: https://github.com/jina-ai/jina/issues/1812\n    setTimeout(() => dispatch(initLogStream(workspace_id, flow_id)), 5000)\n  }\n}\n","export const nodeOffset = {\n  x: 250,\n  y: 150,\n};\n","import { FlowChart } from \"./flows.types\"\n\nexport const LOAD_FLOW = \"LOAD_FLOW\"\nexport const CREATE_NEW_FLOW = \"CREATE_NEW_FLOW\"\nexport const UPDATE_SELECTED_FLOW = \"UPDATE_SELECTED_FLOW\"\nexport const DUPLICATE_FLOW = \"DUPLICATE_FLOW\"\nexport const ADD_NODE = \"ADD_NODE\"\nexport const DELETE_FLOW = \"DELETE_FLOW\"\nexport const UPDATE_NODE = \"UPDATE_NODE\"\nexport const UPDATE_NODE_DATA = \"UPDATE_NODE_DATA\"\nexport const DELETE_NODE = \"DELETE_NODE\"\nexport const ADD_LINK = \"ADD_LINK\"\nexport const DELETE_LINK = \"DELETE_LINK\"\nexport const RERENDER = \"RERENDER\"\nexport const START_FLOW = \"START_FLOW\"\nexport const STOP_FLOW = \"STOP_FLOW\"\nexport const IMPORT_FLOW = \"IMPORT_FLOW\"\nexport const SET_FLOW_ARGUMENTS = \"SET_FLOW_ARGUMENTS\"\n\nexport const initialFlowChart: FlowChart = {\n  elements: [\n    {\n      id: \"gateway\",\n      type: \"gateway\",\n      data: { label: \"gateway\" },\n      position: { x: 629, y: 72 },\n    },\n  ],\n}\n","import { ProcessedLog } from \"../redux/logStream/logStream.types\";\n\nconst toBlob = (content: string) => {\n  return new Blob([content], { type: \"text,plain;charset=utf-8\" });\n};\n\nconst serializeLogsToCSV = (logs: ProcessedLog[]): string => {\n  const columns =\n    \"created,formatted timestamp,name,process,level name,message,context,host,workspace\\n\";\n  const fileContent = logs.reduce((acc, log) => {\n    acc += `${log.uptime},\"${log.formattedTimestamp}\",${log.name},${log.process},${log.level},\"${log.message}\",${log.context},${log.host},${log.workspace_path}\\n`;\n    return acc;\n  }, columns);\n  return fileContent;\n};\n\nconst serializeLogsToJSON = (logs: ProcessedLog[]): string => {\n  const fileContent = logs.reduce((acc, log, i) => {\n    acc += JSON.stringify(log) + `${i < logs.length - 1 ? \",\" : \"\"}\\n`;\n    return acc;\n  }, \"\\n\");\n  return `[${fileContent}]`;\n};\n\nconst serializeLogsToText = (logs: ProcessedLog[]): string => {\n  const fileContent = logs.reduce((acc, log) => {\n    acc += `${log.formattedTimestamp} ${log.name}@${log.process} [${log.level}]: ${log.message}\\n`;\n    return acc;\n  }, \"\");\n  return fileContent;\n};\n\nexport const serializeLogsToCSVBlob = (logs: ProcessedLog[]) =>\n  toBlob(serializeLogsToCSV(logs));\n\nexport const serializeLogsToJSONBlob = (logs: ProcessedLog[]) =>\n  toBlob(serializeLogsToJSON(logs));\nexport const serializeLogsToTextBlob = (logs: ProcessedLog[]) =>\n  toBlob(serializeLogsToText(logs));\n","import { nanoid } from \"nanoid\";\nimport { ProcessedLog, RawLog } from \"../redux/logStream/logStream.types\";\nconst levels = [\n  \"INFO\",\n  \"SUCCESS\",\n  \"WARNING\",\n  \"ERROR\",\n  \"CRITICAL\",\n  \"DEBUG\",\n] as const;\nexport type Level = typeof levels[number];\n\nfunction transformLog(log: RawLog, idx: number): ProcessedLog {\n  const { uptime, type } = log;\n  const id = nanoid();\n  const timestamp = new Date(uptime);\n  const unixTime = Math.floor(timestamp.valueOf() / 1000);\n  const formattedTimestamp = timestamp.toLocaleString();\n  return {\n    ...log,\n    id,\n    idx,\n    unixTime,\n    timestamp,\n    formattedTimestamp,\n    level: type,\n  };\n}\n\nexport { transformLog };\n","import { State } from \"../index\"\n\nexport const selectSelectedFlow = (state: State) =>\n  state.flowState.flows[state.flowState.selectedFlowId]\n\nexport const selectRerender = (state: State) => state.flowState.rerender\n\nexport const selectTooltipConfig = (state: State) =>\n  state.flowState.tooltipConfig\n\nexport const selectFlows = (state: State) => state.flowState.flows\n\nexport const selectFlowArguments = (state: State) =>\n  state.flowState.flowArguments\n\nexport const selectExampleFlowsKeyEntryPairs = (state: State) => {\n  return Object.entries(state.flowState.flows).filter(\n    (flowKeyEntryPair) => flowKeyEntryPair[1].type === \"example\"\n  )\n}\n\nexport const selectSelectedFlowId = (state: State) =>\n  state.flowState.selectedFlowId\n","import React from \"react\";\nimport { Redirect } from \"react-router-dom\";\n\n// Layout Types\nimport { HubLayout } from \"../layouts\";\n\n// Route Views\nimport PackageView from \"../views/PackageView\";\nimport LogIn from \"../views/LogIn\";\nimport NotFound from \"../views/NotFound\";\nimport NavigateButton from \"../components/Common/NavigateButton\";\nimport HubImagesList from \"../components/Hub/HubImagesList\";\n\nexport const hubRoutes = [\n  {\n    path: \"/\",\n    exact: true,\n    layout: HubLayout,\n    component: () => <Redirect to=\"/home\" />,\n  },\n  {\n    path: \"/help\",\n    layout: HubLayout,\n    component: NotFound,\n    props: {\n      usesConnection: false,\n      usesAuth: false,\n    },\n  },\n  {\n    path: \"/home\",\n    layout: HubLayout,\n    component: HubImagesList,\n    props: {\n      usesConnection: false,\n      usesAuth: true,\n    },\n  },\n  {\n    path: \"/package/:packageId\",\n    layout: HubLayout,\n    component: PackageView,\n    props: {\n      navigateButton: () => <NavigateButton label={\"  Back\"} path={\"/home\"} />,\n    },\n  },\n  {\n    path: \"/login\",\n    layout: HubLayout,\n    component: LogIn,\n    props: {\n      usesConnection: false,\n      usesAuth: true,\n    },\n  },\n];\n","import { Theme } from \"@emotion/react\";\n\nexport const getLevels = (theme: Theme): { [key: string]: any } => {\n  const colorPalette = theme.palette;\n  return {\n    INFO: {\n      borderColor: colorPalette.info,\n      backgroundColor: \"rgba(0, 153, 153, 0.9)\",\n    },\n    SUCCESS: {\n      borderColor: colorPalette.success,\n      backgroundColor: \"rgba(50, 200, 205, 0.9)\",\n    },\n    WARNING: {\n      borderColor: colorPalette.warning,\n      backgroundColor: \"rgba(255, 204, 102, 0.9)\",\n    },\n    ERROR: {\n      borderColor: colorPalette.error,\n      backgroundColor: \"rgba(255, 102, 102, 0.9)\",\n    },\n    CRITICAL: {\n      borderColor: colorPalette.critical,\n      backgroundColor: \"rgba(255, 70, 64, 0.9)\",\n    },\n    DEBUG: {\n      borderColor: colorPalette.debug,\n      backgroundColor: \"rgba(110, 114, 120, 0.9)\",\n    },\n  };\n};\n","import React, { useRef, useEffect, useState, useCallback } from \"react\";\nimport ChartElement, {\n  ChartConfiguration,\n  ChartOptions,\n  ChartData,\n  ChartDataSets,\n} from \"chart.js\";\nimport { LogLevelSummaryChartData } from \"./types\";\nimport { getLevels } from \"./levels\";\nimport { Theme, useTheme } from \"@emotion/react\";\n\nconst DEFAULT_HEIGHT = 10;\nconst DEFAULT_WIDTH = 100;\n\nfunction getParsedDatasets(data: LogLevelSummaryChartData, theme: Theme) {\n  const levels = getLevels(theme);\n  const datasets = Object.keys(levels).map(\n    (level): ChartDataSets => {\n      const levelData = data.map((tick: any) => tick.levels[level]);\n      return {\n        barPercentage: 0.75,\n        categoryPercentage: 1,\n        label: level,\n        fill: \"start\",\n        backgroundColor: levels[level].backgroundColor,\n        data: levelData,\n      };\n    }\n  );\n  return datasets;\n}\n\nfunction getLabels(amount?: number): number[] {\n  const labels = [];\n  for (let i = 0; i < (amount || 0); ++i) {\n    labels.push(i);\n  }\n  return labels;\n}\n\ntype Props = {\n  width?: number;\n  height?: number;\n  numTicks?: number;\n  data: LogLevelSummaryChartData;\n  onClick: (activePoints: any) => void;\n  timeLabels: string[];\n};\n\nfunction ChartBase({\n  width,\n  height,\n  data,\n  numTicks,\n  onClick,\n  timeLabels,\n}: Props) {\n  const canvasRef = useRef<HTMLCanvasElement | null>(null);\n  const [chartInstance, setChartInstance] = useState<ChartElement | null>(null);\n  // Get theme from ThemeProvider (for usecases like dark mode)\n  const theme = useTheme();\n\n  function onClickChart(e: any) {\n    if (!chartInstance) return;\n    const activePoints = chartInstance.getElementsAtEvent(e);\n    onClick(activePoints);\n  }\n\n  const getXAxisLabel = useCallback(\n    (value: any, index: number, values: any) => {\n      if (index === 0) return timeLabels[0];\n      else if (index === Math.floor(values.length / 2)) return timeLabels[1];\n      return;\n    },\n    [timeLabels]\n  );\n\n  function getYAxisLabel(value: any) {\n    if (Number.isInteger(value)) {\n      return value;\n    }\n  }\n\n  function ChartLegend() {\n    return (\n      <div\n        className=\"chart-legend mt-1 mb-3\"\n        data-name=\"logOccurencesChartLegend\"\n      >\n        {Object.entries(getLevels(theme)).map(\n          ([level, style]: [string, any]) => (\n            <div className=\"chart-legend-item\" key={level}>\n              <div\n                className={`chart-legend-indicator mr-1 ${level.toLowerCase()}`}\n                style={{ backgroundColor: style.borderColor }}\n              />\n              <span className=\"chart-legend-caption mr-2\">{level}</span>\n            </div>\n          )\n        )}\n      </div>\n    );\n  }\n\n  useEffect(() => {\n    if (!canvasRef.current) return;\n    const chartOptions: ChartOptions = {\n      animation: { duration: 0 },\n      events: [\"click\"],\n      onClick: onClickChart,\n      maintainAspectRatio: true,\n      responsive: true,\n      legend: {\n        display: false,\n      },\n      tooltips: {\n        enabled: false,\n      },\n      elements: {\n        point: {\n          radius: 0,\n          hitRadius: 20,\n        },\n      },\n      scales: {\n        xAxes: [\n          {\n            stacked: true,\n            ticks: {\n              padding: 5,\n              maxRotation: 0,\n              autoSkip: false,\n              callback: getXAxisLabel,\n            },\n            gridLines: {\n              zeroLineColor: \"#cfd8dc\",\n              color: \"#cfd8dc\",\n            },\n          },\n        ],\n        yAxes: [\n          {\n            stacked: true,\n            scaleLabel: {\n              display: false,\n            },\n            gridLines: {\n              borderDash: [5, 5],\n              zeroLineColor: \"#cfd8dc\",\n              drawBorder: false,\n              color: \"#cfd8dc\",\n            },\n            ticks: {\n              padding: 5,\n              suggestedMin: 0,\n              autoSkip: true,\n              maxTicksLimit: 4,\n              callback: getYAxisLabel,\n            },\n          },\n        ],\n      },\n    };\n\n    const chartConfig: ChartConfiguration = {\n      type: \"bar\",\n      data: {\n        datasets: getParsedDatasets(data, theme),\n      },\n      options: chartOptions,\n    };\n\n    const newChartInstance = new ChartElement(canvasRef.current, chartConfig);\n    setChartInstance(newChartInstance);\n  }, []); // eslint-disable-line react-hooks/exhaustive-deps\n\n  useEffect(() => {\n    if (!chartInstance) return;\n    const chartData: ChartData = {\n      labels: getLabels(numTicks),\n      datasets: getParsedDatasets(data, theme),\n    };\n    chartInstance.data = chartData;\n    chartInstance.update();\n  }, [data, chartInstance, numTicks, theme]);\n\n  useEffect(() => {\n    if (\n      chartInstance &&\n      chartInstance.options.scales &&\n      chartInstance.options.scales.xAxes &&\n      chartInstance.options.scales.xAxes[0].ticks\n    ) {\n      chartInstance.options.scales.xAxes[0].ticks.callback = getXAxisLabel;\n      chartInstance.update();\n    }\n  }, [getXAxisLabel, chartInstance]);\n\n  return (\n    <>\n      <ChartLegend />\n      <canvas\n        height={height || DEFAULT_HEIGHT}\n        width={width || DEFAULT_WIDTH}\n        ref={canvasRef}\n      />\n    </>\n  );\n}\n\nexport default ChartBase;\n","import React from \"react\";\nimport Select, { Props as SelectProps } from \"react-select\";\n\nconst customStyles = {\n  dropdownIndicator: (styles: any) => ({\n    ...styles,\n    color: \"black\",\n  }),\n  indicatorSeparator: (styles: any) => ({\n    ...styles,\n    opacity: \"0\",\n  }),\n  container: (provided: any, { selectProps: { width } }: any) => ({\n    ...provided,\n    width: width,\n  }),\n  option: (styles: any) => ({\n    ...styles,\n    cursor: \"pointer\",\n  }),\n  control: (styles: any) => ({\n    ...styles,\n    cursor: \"pointer\",\n    border: \"none\",\n    background: \"#F6F8FA\",\n  }),\n};\n\nexport type Props = {\n  onFilterChange: (val: any[]) => void;\n  options: { value: string; label: string }[];\n  isMulti?: boolean;\n  isSearchable?: boolean;\n  clearAfter?: boolean;\n} & SelectProps;\n\nfunction MultiFilterSelect({\n  isMulti,\n  isSearchable,\n  clearAfter,\n  onFilterChange,\n  options,\n  ...rest\n}: Props) {\n  let value = clearAfter ? null : undefined;\n  return (\n    <Select\n      onChange={(val) => {\n        onFilterChange(Array.isArray(val) ? val : !val ? [] : [val]);\n      }}\n      value={value}\n      isMulti={isMulti}\n      options={options}\n      styles={customStyles}\n      readOnly={true}\n      isSearchable={isSearchable}\n      {...rest}\n    />\n  );\n}\n\nexport { MultiFilterSelect };\n","import React from \"react\";\nimport { Card, Row, Col } from \"react-bootstrap\";\nimport BarChart from \"./BarChartBase\";\nimport { MultiFilterSelect } from \"../Common/MultiFilterSelect\";\nimport { LogLevelSummaryChartData } from \"./types\";\n\nconst DEFAULT_HEIGHT = 10;\nconst DEFAULT_WIDTH = 70;\n\nconst DEFAULT_HEIGHT_SMALL = 20;\nconst DEFAULT_WIDTH_SMALL = 50;\n\ntype Props = {\n  data: {\n    data: LogLevelSummaryChartData;\n    lastTimestamp: number;\n    numSeconds: number;\n    numTicks: number;\n  };\n  showLog: (activePoints: any) => void;\n  setTimeSelection: (timeSelection: any) => void;\n  timeOptions: { [key: string]: { value: string; label: string } };\n  selectedTime: any;\n  timeLabels: any;\n};\n\nfunction LogLevelSummaryChart({\n  data: { data, numSeconds, numTicks },\n  showLog,\n  setTimeSelection,\n  timeOptions,\n  selectedTime,\n  timeLabels,\n}: Props) {\n  return (\n    <Card className=\"h-100\">\n      <Card.Header className=\"p-2 px-3\">\n        <Row>\n          <Col data-name=\"logOccurenceTitle\">Log Occurences by Level</Col>\n          <Col className=\"text-right\" data-name=\"logOccurenceDurationSelect\">\n            <MultiFilterSelect\n              clearAfter\n              options={Object.values(timeOptions)}\n              onFilterChange={(option: any[]) =>\n                setTimeSelection(option[0].value)\n              }\n              className=\"logstream-select text-left\"\n              placeholder={\n                <span data-name=\"logOccurenceDurationSelectedOption\">\n                  <i className=\"material-icons mr-2\">access_time</i>\n                  {timeOptions[selectedTime].label}\n                </span>\n              }\n              isSearchable={false}\n            />\n          </Col>\n        </Row>\n      </Card.Header>\n      <Card.Body className=\"d-none d-md-block p-0 pb-2 px-3\">\n        <BarChart\n          timeLabels={timeLabels}\n          data={data}\n          numTicks={numTicks}\n          height={DEFAULT_HEIGHT}\n          width={DEFAULT_WIDTH}\n          onClick={showLog}\n        />\n      </Card.Body>\n      <Card.Body className=\"d-md-none pb-2\">\n        <BarChart\n          timeLabels={timeLabels}\n          data={data}\n          numTicks={numTicks}\n          height={DEFAULT_HEIGHT_SMALL}\n          width={DEFAULT_WIDTH_SMALL}\n          onClick={showLog}\n        />\n      </Card.Body>\n    </Card>\n  );\n}\n\nexport { LogLevelSummaryChart };\n","import React, { useRef, useEffect, useState, useCallback } from \"react\";\nimport ChartElement, {\n  ChartConfiguration,\n  ChartOptions,\n  ChartData,\n} from \"chart.js\";\nimport { useTheme } from \"@emotion/react\";\nimport { getLevels } from \"./levels\";\nimport { LogLevels } from \"../../redux/logStream/logStream.types\";\n\nconst DEFAULT_HEIGHT = 50;\nconst DEFAULT_WIDTH = 50;\n\ntype Props = {\n  width?: number;\n  height?: number;\n  data: LogLevels;\n};\n\nfunction PieChartBase({ width, height, data }: Props) {\n  const canvasRef = useRef<HTMLCanvasElement | null>(null);\n  const [chartInstance, setChartInstance] = useState<ChartElement | null>(null);\n  const theme = useTheme();\n\n  const getColor = useCallback(\n    (key: string) => {\n      return getLevels(theme)[key];\n    },\n    [theme]\n  );\n\n  useEffect(() => {\n    if (!canvasRef.current) return;\n    const names = Object.keys(data);\n    const chartOptions: ChartOptions = {\n      animation: { duration: 0 },\n      legend: {\n        display: false,\n        position: \"bottom\",\n        labels: {\n          padding: 25,\n          boxWidth: 20,\n        },\n      },\n      tooltips: {\n        mode: \"index\",\n        position: \"nearest\",\n      },\n    };\n\n    const chartConfig: ChartConfiguration = {\n      type: \"pie\",\n      data: {\n        datasets: [\n          {\n            borderWidth: 1,\n            data: Object.values(data),\n            borderColor: names.map((name) => getColor(name).borderColor),\n            backgroundColor: names.map(\n              (name) => getColor(name).backgroundColor\n            ),\n          },\n        ],\n      },\n      options: chartOptions,\n    };\n\n    const newChartInstance = new ChartElement(canvasRef.current, chartConfig);\n    setChartInstance(newChartInstance);\n  }, []); // eslint-disable-line react-hooks/exhaustive-deps\n\n  useEffect(() => {\n    if (!chartInstance) return;\n    const names = Object.keys(data);\n    const chartData: ChartData = {\n      labels: names,\n      datasets: [\n        {\n          borderWidth: 1,\n          data: Object.values(data),\n          borderColor: names.map((name) => getColor(name).borderColor),\n          backgroundColor: names.map((name) => getColor(name).backgroundColor),\n        },\n      ],\n    };\n    chartInstance.data = chartData;\n    chartInstance.update();\n  }, [data, chartInstance, getColor]);\n\n  return (\n    <canvas\n      height={height || DEFAULT_HEIGHT}\n      width={width || DEFAULT_WIDTH}\n      ref={canvasRef}\n    />\n  );\n}\n\nexport default PieChartBase;\n","import React from \"react\";\nimport { Card } from \"react-bootstrap\";\nimport PieChart from \"./PieChartBase\";\nimport { LogLevels } from \"../../redux/logStream/logStream.types\";\n\ntype Props = {\n  data: LogLevels;\n};\n\nfunction LogLevelPieChart({ data }: Props) {\n  return (\n    <Card className=\"h-100\">\n      <Card.Header className=\"text-center p-2\">Log Levels</Card.Header>\n      <Card.Body className=\"px-3 pt-0 pb-3\">\n        <PieChart data={data} />\n      </Card.Body>\n    </Card>\n  );\n}\n\nexport { LogLevelPieChart };\n","/** @jsx jsx */\nimport { jsx } from \"@emotion/react\";\nimport { Row, Col } from \"react-bootstrap\";\nimport { memo } from \"react\";\nimport { areEqual } from \"react-window\";\nimport { ProcessedLog } from \"../../redux/logStream/logStream.types\";\n\ntype Props = {\n  index: number;\n  style: any;\n  data: {\n    columns: { firstCol: number; secondCol: number; thirdCol: number };\n    items: ProcessedLog[];\n    showLogDetails: (log: any) => void;\n  };\n};\n\nconst LogItem = memo(\n  ({ index, style, data: { columns, items, showLogDetails } }: Props) => {\n    const logData = items[index];\n    const { name, message, level, process, formattedTimestamp, idx } = logData;\n    let logName = String(name);\n    logName = logName.length > 20 ? logName.substring(0, 20) : logName;\n    let levelInitial = String(level)[0];\n    const { firstCol, secondCol, thirdCol } = columns;\n    return (\n      <div\n        data-name={`logItem-${index}`}\n        className={`log log-${String(\n          level\n        ).toLowerCase()} px-4 border-bottom py-1`}\n        css={{ maxHeight: 84 }}\n        style={style}\n        onClick={() => showLogDetails(logData)}\n      >\n        <Row>\n          <Col\n            className=\"log-prefix text-muted px-0 d-flex flex-row\"\n            css={{ maxWidth: firstCol }}\n          >\n            <div className=\"text-bold mr-2\">{idx}</div>\n            <div className=\"ml-auto\">{formattedTimestamp}</div>\n          </Col>\n          <Col\n            className=\"log-prefix px-0 text-left text-md-right text-bold cursor-pointer\"\n            css={{ maxWidth: secondCol }}\n          >\n            {logName}@{process}[{levelInitial}]:\n          </Col>\n          <Col\n            className=\"px-0\"\n            css={{\n              maxHeight: 84,\n              display: \"block\",\n              overflow: \"hidden\",\n              textOverflow: \"ellipsis\",\n              width: thirdCol,\n              whiteSpace: \"nowrap\",\n              paddingRight: 0,\n              marginRight: 0,\n            }}\n          >\n            {message}\n          </Col>\n        </Row>\n      </div>\n    );\n  },\n  areEqual\n);\n\nexport { LogItem };\n","/** @jsx jsx */\nimport { jsx } from \"@emotion/react\";\nimport { Row, Col } from \"react-bootstrap\";\n\ntype Props = {\n  columns: { firstCol: number; secondCol: number };\n  border?: boolean;\n};\n\nconst LogsTableHeader = ({\n  columns: { firstCol, secondCol },\n  border,\n}: Props) => {\n  return (\n    <div\n      className={`px-4 py-1 bg-light text-monospace ${\n        border ? \"border-top\" : \"\"\n      }`}\n      css={{ maxHeight: 84 }}\n    >\n      <Row>\n        <Col\n          className=\"log-prefix text-muted px-0 d-flex flex-row\"\n          css={{ maxWidth: firstCol }}\n        >\n          <div className=\"text-bold mr-2\">#</div>\n          <div className=\"ml-auto\">timestamp</div>\n        </Col>\n        <Col\n          className=\"log-prefix px-0 text-left text-md-right text-bold\"\n          css={{ maxWidth: secondCol }}\n        >\n          source@process[level]:\n        </Col>\n        <Col\n          className=\"px-0\"\n          css={{\n            maxHeight: 84,\n            display: \"block\",\n            overflow: \"hidden\",\n            textOverflow: \"ellipsis\",\n            // width: \"1\",\n            whiteSpace: \"nowrap\",\n            paddingRight: 0,\n            marginRight: 0,\n          }}\n        >\n          message\n        </Col>\n      </Row>\n    </div>\n  );\n};\n\nexport { LogsTableHeader };\n","import React from \"react\";\nimport { Form, InputGroup } from \"react-bootstrap\";\n\ntype Props = {\n  value: string | number;\n  placeholder?:string;\n  variant?:string;\n  onChange: (newValue: string) => void;\n};\n\nfunction ExpandingSearchbar({ value, onChange,placeholder,variant }: Props) {\n  return (\n    <div className={`expanding-searchbar expanding-searchbar-${variant||\"default\"}`}>\n      <InputGroup>\n        <InputGroup.Prepend className=\"ml-auto\">\n          <InputGroup.Text>\n            <i className=\"material-icons\">search</i>\n          </InputGroup.Text>\n        </InputGroup.Prepend>\n        <Form.Control\n          type=\"text\"\n          placeholder={placeholder}\n          value={value}\n          onChange={(e: any) => onChange(e.target.value)}\n        />\n        <InputGroup.Append>\n          <InputGroup.Text>\n            <i className={`cursor-pointer text-muted material-icons mr-3 ${!value?'d-invisible':\"\"}`} onClick={()=>onChange(\"\")}>cancel</i>\n          </InputGroup.Text>\n        </InputGroup.Append>\n      </InputGroup>\n    </div>\n  );\n}\n\nexport { ExpandingSearchbar };\n","import React, { useState } from \"react\";\nimport { Collapse } from \"react-bootstrap\";\nimport logger from \"../../logger\";\n\nconst _icons: { [key: string]: any } = {\n  success: {\n    name: \"check_circle\",\n    color: \"success\",\n  },\n  pending: {\n    name: \"pending\",\n    color: \"muted\",\n  },\n  warning: {\n    name: \"error\",\n    color: \"warning\",\n  },\n  failed: {\n    name: \"cancel\",\n    color: \"critical\",\n  },\n};\n\ntype StatusString = \"success\" | \"pending\" | \"warning\" | \"failed\";\n\ntype CountSummaryProps = {\n  levels?: any[];\n  numItems: number;\n  title: string;\n};\n\nfunction CountSummary({ levels, numItems }: CountSummaryProps) {\n  logger.log(\"levels:\", levels);\n  return <span className=\"ml-2 text-muted\">({numItems})</span>;\n}\n\nfunction getStatusFromLevels(levels: any): StatusString {\n  const keys = Object.keys(levels);\n  if (\n    keys.find((k) => k.toLowerCase() === \"critical\") ||\n    keys.find((k) => k.toLowerCase() === \"error\")\n  )\n    return \"failed\";\n  if (keys.find((k) => k.toLowerCase() === \"warning\")) return \"warning\";\n  return \"success\";\n}\n\nfunction StatusIcon({ levels }: { levels: any }) {\n  const status = getStatusFromLevels(levels);\n  const icon = _icons[status];\n  return (\n    <i className={`no-select material-icons log-${icon.color} mr-2`}>\n      {icon.name}\n    </i>\n  );\n}\n\ntype ExpandIndicator = {\n  expanded: boolean;\n};\n\nfunction ExpandController({ expanded }: ExpandIndicator) {\n  return (\n    <i\n      className={`no-select material-icons text-muted cursor-pointer ${\n        expanded ? \"rotate-90\" : \"\"\n      } mr-2`}\n    >\n      arrow_forward_ios\n    </i>\n  );\n}\n\ntype Props = {\n  title: string;\n  body: any;\n  numItems: number;\n  group: string;\n  levels?: string[];\n};\n\nfunction LogGroup({ title, body, levels, numItems, group }: Props) {\n  const [expanded, setExpanded] = useState(false);\n  return (\n    <div className={`log-group-item m-2 ${expanded ? \"bg-light\" : \"\"}`}>\n      <div\n        className=\"log-group-header cursor-pointer p-2\"\n        onClick={() => setExpanded((prev) => !prev)}\n      >\n        <ExpandController expanded={expanded} />\n        {levels && <StatusIcon levels={levels} />}\n        <span\n          className={\n            group === \"group-level\" ? `log-${title.toLowerCase()}` : \"\"\n          }\n        >\n          {title}\n        </span>\n        {!levels && (\n          <CountSummary levels={levels} numItems={numItems} title={title} />\n        )}\n      </div>\n      <Collapse in={expanded} timeout={100}>\n        <div className=\"log-group-body p-3\">\n          <div className=\"bg-white border\">{body}</div>\n        </div>\n      </Collapse>\n    </div>\n  );\n}\n\nexport { LogGroup };\n","import React, { useState, useCallback, useEffect, useRef } from \"react\";\nimport _ from \"lodash\";\nimport { FixedSizeList as List } from \"react-window\";\nimport { Card, Row, Col } from \"react-bootstrap\";\nimport AutoSizer from \"react-virtualized-auto-sizer\";\nimport FlexSearch from \"flexsearch\";\nimport { saveAs } from \"file-saver\";\n\nimport { MultiFilterSelect } from \"../Common/MultiFilterSelect\";\nimport { LogItem } from \"./LogItem\";\nimport { LogsTableHeader } from \"./LogsTableHeader\";\nimport { ProcessedLog } from \"../../redux/logStream/logStream.types\";\nimport { ExpandingSearchbar } from \"../Common/ExpandingSearchbar\";\nimport { LogGroup } from \"./LogGroup\";\n\nimport {\n  serializeLogsToCSVBlob,\n  serializeLogsToJSONBlob,\n  serializeLogsToTextBlob,\n} from \"../../helpers\";\n\nconst ROW_SIZE = 30;\nconst DEFAULT_VIEW = \"table\";\nconst VIEW_PREFERENCE_NAME = \"logs-view-preference\";\nconst POD_NAME_SPLIT_CHAR = \"-\";\n\nconst SEARCH_FIELDS = [\n  \"filename\",\n  \"funcName\",\n  \"module\",\n  \"message\",\n  \"pathname\",\n  \"name\",\n];\n\nconst levels = [\n  \"INFO\",\n  \"SUCCESS\",\n  \"WARNING\",\n  \"ERROR\",\n  \"CRITICAL\",\n  \"DEBUG\",\n] as const;\n\nconst saveOptions = [\n  { value: \"csv\", label: \"CSV\" },\n  { value: \"json\", label: \"JSON\" },\n  { value: \"txt\", label: \"TXT\" },\n];\n\nconst viewOptions: { [key: string]: { value: string; label: string } } = {\n  table: {\n    value: \"table\",\n    label: \"Table View\",\n  },\n  \"group-pod\": {\n    value: \"group-pod\",\n    label: \"Group by Pod\",\n  },\n  \"group-level\": {\n    value: \"group-level\",\n    label: \"Group by Level\",\n  },\n};\n\nfunction getUserViewPreference() {\n  const preference = localStorage.getItem(VIEW_PREFERENCE_NAME);\n  if (preference && viewOptions[preference]) return preference;\n  return false;\n}\n\nfunction setUserViewPreference(preference: string) {\n  localStorage.setItem(VIEW_PREFERENCE_NAME, preference);\n}\n\nfunction getInitialView() {\n  return getUserViewPreference() || DEFAULT_VIEW;\n}\n\nlet _lastNumLogs = 0;\nlet _searchIndex = FlexSearch.create({\n  doc: {\n    id: \"id\",\n    field: SEARCH_FIELDS,\n  },\n});\n\nconst applyFilters = <T extends Record<string, any>>(\n  item: T,\n  filters: { [key in keyof T]: any }\n) =>\n  Object.entries(filters).reduce((acc, curr) => {\n    const [key, value] = curr;\n    return acc && Array.isArray(value)\n      ? value.length === 0\n        ? true\n        : value.includes(item[key] as any)\n      : value === item[key];\n  }, true as boolean);\n\ntype Format = \"json\" | \"csv\" | \"txt\";\n\ntype View = \"group-pod\" | \"group-level\" | \"table\";\n\nconst generateFileName = (format: Format) =>\n  `jina-logs-${new Date()}.${format}`;\n\nconst saveLogData = (data: any, format: Format) => {\n  const filename = generateFileName(format);\n  if (format === \"csv\") return saveAs(serializeLogsToCSVBlob(data), filename);\n  if (format === \"json\") return saveAs(serializeLogsToJSONBlob(data), filename);\n  if (format === \"txt\") return saveAs(serializeLogsToTextBlob(data), filename);\n};\n\ntype Props = {\n  data: ProcessedLog[];\n  showLogDetails: (log: ProcessedLog) => void;\n};\n\nconst itemKey = (index: number, data: { items: ProcessedLog[] }) =>\n  data.items[index].id;\n\nconst arrayLikeToArray = (arrayLike: Readonly<any[]> | Set<any>) =>\n  Array.isArray(arrayLike) ? arrayLike : Array.from(arrayLike);\n\nconst toOption = (list: Readonly<any[]> | Set<any>) =>\n  arrayLikeToArray(list).map((item) => ({ label: item, value: item }));\n\nfunction LogsList({ data, firstCol, secondCol, showLogDetails, small }: any) {\n  const listRef = useRef<any>();\n  const [scrolledToBottom, setScrolledToBottom] = useState(true);\n\n  useEffect(() => {\n    if (listRef.current && scrolledToBottom) {\n      listRef.current.scrollToItem(data.length);\n    }\n  }, [data.length, scrolledToBottom]);\n\n  return (\n    <div>\n      {!scrolledToBottom && (\n        <div\n          onClick={() => listRef.current.scrollToItem(data.length)}\n          className={`back-to-bottom active`}\n        >\n          <i className=\"material-icons\">arrow_downward</i> Back to Bottom\n        </div>\n      )}\n      <LogsTableHeader columns={{ firstCol, secondCol }} border={!small} />\n      <div\n        className={`log-stream-container${\n          small ? \"-small\" : \"\"\n        } p-0 border-top`}\n      >\n        <AutoSizer>\n          {({ height, width }) => {\n            const thirdCol = width - (firstCol + secondCol);\n            return (\n              <List\n                onScroll={({ scrollOffset }) => {\n                  setScrolledToBottom(\n                    (scrollOffset + height) / ROW_SIZE - data.length === 0\n                  );\n                }}\n                height={height}\n                width={width}\n                itemCount={data.length}\n                itemSize={ROW_SIZE}\n                itemKey={itemKey}\n                itemData={{\n                  items: data,\n                  columns: { firstCol, secondCol, thirdCol },\n                  showLogDetails,\n                }}\n                ref={listRef}\n              >\n                {LogItem}\n              </List>\n            );\n          }}\n        </AutoSizer>\n      </div>\n    </div>\n  );\n}\n\ntype GroupedLogProps = {\n  groupedData: any;\n  grouping: string;\n  firstCol: any;\n  secondCol: any;\n  showLogDetails: any;\n};\n\nfunction GroupedLogs({\n  groupedData,\n  grouping,\n  firstCol,\n  secondCol,\n  showLogDetails,\n}: GroupedLogProps) {\n  return (\n    <Card.Body className=\"log-stream-container p-0 border-top\">\n      {Object.keys(groupedData).length && (\n        <div className=\"log-group-container\">\n          {Object.entries(groupedData).map(([key, data]: any, idx: number) => (\n            <LogGroup\n              group={grouping}\n              key={idx}\n              title={key}\n              levels={data.levels}\n              numItems={data.data.length}\n              body={\n                <LogsList\n                  firstCol={firstCol}\n                  secondCol={secondCol}\n                  data={data.data}\n                  showLogDetails={showLogDetails}\n                  small\n                />\n              }\n            />\n          ))}\n        </div>\n      )}\n    </Card.Body>\n  );\n}\n\nfunction LogsTable({ data, showLogDetails }: Props) {\n  const [currentView, setCurrentView] = useState(() => getInitialView());\n\n  const [selectedSources, setSelectedSources] = useState<any[]>([]);\n  const [selectedLevels, setSelectedLevels] = useState<any[]>([]);\n\n  const [searchResults, setSearchResults] = useState<any[]>([]);\n  const [searchString, setSearchString] = useState(\"\");\n\n  const search = useCallback(async () => {\n    const newData = data.slice(_lastNumLogs, data.length);\n    _searchIndex.add(newData);\n    _lastNumLogs = data.length;\n    const searchResults = await _searchIndex.search(searchString);\n    setSearchResults(searchResults);\n    // @ts-ignore\n  }, [searchString, data.length]); // eslint-disable-line react-hooks/exhaustive-deps\n\n  useEffect(() => {\n    if (searchString && data.length) search();\n  }, [data.length, searchString, search]);\n\n  function setView(view: View) {\n    setCurrentView(view);\n    setUserViewPreference(view);\n  }\n\n  const unfiltered = searchString ? searchResults : data;\n  const sources = data.reduce((acc, curr) => acc.add(curr.name), new Set());\n\n  let groupedData: any;\n\n  let resultData = (unfiltered || []).filter((result) =>\n    applyFilters(result as any, {\n      level: selectedLevels.map(({ value }) => value),\n      name: selectedSources.map(({ value }) => value),\n    })\n  );\n\n  if (currentView === \"group-pod\") {\n    const podNames = arrayLikeToArray(sources).map(\n      (name: string) => name.toLowerCase().split(POD_NAME_SPLIT_CHAR)[0]\n    );\n    groupedData = {};\n    podNames.forEach((podName: string) => {\n      const pod: any = {};\n\n      pod.data = (resultData || []).filter(\n        (log: any) => log.name && log.name.toLowerCase().startsWith(podName)\n      );\n\n      if (!pod.data.length) return;\n      pod.levels = _.countBy(pod.data, \"level\");\n      groupedData[podName] = pod;\n    });\n  } else if (currentView === \"group-level\") {\n    groupedData = {};\n    levels.forEach((level: string) => {\n      const levelItem: any = {};\n\n      levelItem.data = (resultData || []).filter(\n        (log: any) => log.level === level\n      );\n\n      if (!levelItem.data.length) return;\n      groupedData[level] = levelItem;\n    });\n  }\n\n  const firstCol = 300;\n  const secondCol = 300;\n\n  return (\n    <Card className=\"mb-4\">\n      <Card.Header className=\"p-0\">\n        <Row className=\"p-3\">\n          <Col md=\"8\">\n            <MultiFilterSelect\n              clearAfter\n              options={Object.values(viewOptions)}\n              onFilterChange={(option: any[]) => setView(option[0].value)}\n              className=\"logstream-select mb-2 mr-0 mb-md-0 mr-md-2\"\n              placeholder={\n                currentView === \"table\" ? (\n                  <span>\n                    <i className=\"material-icons mr-2\">table_rows</i>Table View\n                  </span>\n                ) : (\n                  <span>\n                    <i className=\"material-icons mr-2\">view_list</i>\n                    {viewOptions[currentView].label}\n                  </span>\n                )\n              }\n              isSearchable={false}\n            />\n            {currentView === \"table\" && (\n              <MultiFilterSelect\n                isMulti\n                options={toOption(sources)}\n                onFilterChange={setSelectedSources}\n                className=\"logstream-select mb-2 mr-0 mb-md-0 mr-md-2\"\n                placeholder={\n                  <span>\n                    <i className=\"material-icons mr-2\">mediation</i>All Sources\n                  </span>\n                }\n              />\n            )}\n            <MultiFilterSelect\n              isMulti\n              options={toOption(levels as any) as any}\n              onFilterChange={setSelectedLevels}\n              className=\"logstream-select mb-2 mr-0 mb-md-0 mr-md-2\"\n              placeholder={\n                <span>\n                  <i className=\"material-icons mr-2\">bar_chart</i>All Levels\n                </span>\n              }\n            />\n            <MultiFilterSelect\n              clearAfter\n              options={saveOptions}\n              onFilterChange={(option: any[]) =>\n                saveLogData(data, option[0].value)\n              }\n              className=\"logstream-select mb-2 mr-0 mb-md-0 mr-md-2\"\n              placeholder={\n                <span>\n                  <i className=\"material-icons mr-2\">download</i>Download Logs\n                </span>\n              }\n              isSearchable={false}\n            />\n          </Col>\n          <Col md=\"4\">\n            <ExpandingSearchbar\n              placeholder=\"search logs...\"\n              value={searchString}\n              onChange={setSearchString}\n            />\n          </Col>\n        </Row>\n      </Card.Header>\n      {currentView === \"table\" ? (\n        <LogsList\n          firstCol={firstCol}\n          secondCol={secondCol}\n          data={resultData}\n          showLogDetails={showLogDetails}\n        />\n      ) : (\n        <GroupedLogs\n          firstCol={firstCol}\n          secondCol={secondCol}\n          grouping={currentView}\n          groupedData={groupedData}\n          showLogDetails={showLogDetails}\n        />\n      )}\n    </Card>\n  );\n}\n\nexport { LogsTable };\n","import { State } from \"../index\";\n\nexport const selectLogs = (state: State) => state.logStreamState.logs;\nexport const selectLogLevels = (state: State) => state.logStreamState.logLevels;\nexport const selectLogLevelOccurrences = (state: State) =>\n  state.logStreamState.logLevelOccurrences;\n","import React, { useEffect, useState } from \"react\";\nimport { Container, Row, Col } from \"react-bootstrap\";\nimport { LogLevelSummaryChart } from \"../components/LogStream/LogLevelSummaryChart\";\nimport { LogLevelPieChart } from \"../components/LogStream/LogLevelPieChart\";\nimport { PageTitle } from \"../components/Common/PageTitle\";\nimport { LogsTable } from \"../components/LogStream/LogsTable\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { showLogAtIndex } from \"../redux/logStream/logStream.actions\";\nimport {\n  selectLogLevelOccurrences,\n  selectLogLevels,\n  selectLogs,\n} from \"../redux/logStream/logStream.selectors\";\n\nimport { getLogLevelCharts } from \"../helpers/format\";\nimport { showModal } from \"../redux/global/global.actions\";\n\ntype TimePreference = \"60second\" | \"15minute\" | \"1hour\";\n\nconst DEFAULT_TIME_SELECTION: TimePreference = \"60second\";\n\nconst MAX_CHART_TICKS = 60;\n\nconst TIME_PREFERENCE_NAME = \"logs-time-preference\";\n\nconst timeOptions: {\n  [key: string]: { value: string; label: string; chartLabels: string[] };\n} = {\n  \"60second\": {\n    value: \"60second\",\n    label: \"60 Seconds\",\n    chartLabels: [\"60s ago\", \"30s ago\", \"\"],\n  },\n  \"15minute\": {\n    value: \"15minute\",\n    label: \"15 Minutes\",\n    chartLabels: [\"15m ago\", \"7m 30s ago\", \"\"],\n  },\n  \"1hour\": {\n    value: \"1hour\",\n    label: \"1 Hour\",\n    chartLabels: [\"1h ago\", \"30m ago\", \"\"],\n  },\n};\n\nconst numSeconds: { [key: string]: number } = {\n  \"60second\": 60,\n  \"15minute\": 900,\n  \"1hour\": 3600,\n};\n\nfunction getUserTimePreference() {\n  const preference = localStorage.getItem(TIME_PREFERENCE_NAME);\n  if (preference && timeOptions[preference]) return preference;\n  return false;\n}\n\nfunction setUserTimePreference(preference: string) {\n  localStorage.setItem(TIME_PREFERENCE_NAME, preference);\n}\n\nfunction getInitialTimeSelection() {\n  return getUserTimePreference() || DEFAULT_TIME_SELECTION;\n}\n\nfunction LogsView() {\n  const dispatch = useDispatch();\n\n  const logLevelOccurrences = useSelector(selectLogLevelOccurrences);\n  const logs = useSelector(selectLogs);\n  const logLevels = useSelector(selectLogLevels);\n  const [selectedTime, setSelectedTime] = useState(() =>\n    getInitialTimeSelection()\n  );\n\n  const [logLevelCharts, setLogLevelCharts] = useState(() =>\n    getLogLevelCharts(\n      numSeconds[selectedTime],\n      MAX_CHART_TICKS,\n      logLevelOccurrences,\n      new Date()\n    )\n  );\n\n  function showLogDetails(log: any) {\n    dispatch(showModal(\"logDetails\", { log }));\n  }\n\n  function setTimeSelection(time: TimePreference) {\n    setSelectedTime(time);\n    setUserTimePreference(time);\n  }\n\n  useEffect(() => {\n    const currentDate = new Date();\n    const newCharts = getLogLevelCharts(\n      numSeconds[selectedTime],\n      MAX_CHART_TICKS,\n      logLevelOccurrences,\n      currentDate\n    );\n    setLogLevelCharts({ ...newCharts });\n  }, [selectedTime, logLevelOccurrences]);\n\n  function showLog(activePoints: any) {\n    const { data } = logLevelCharts;\n    let index = activePoints[0] && activePoints[0]._index;\n    if (index && typeof index !== \"undefined\") {\n      const { lastLog } = data[index];\n      dispatch(showLogAtIndex(lastLog));\n    }\n  }\n\n  const timeSelection = timeOptions[selectedTime];\n\n  return (\n    <Container fluid className=\"main-content-container px-0\">\n      <div className=\"px-4\">\n        <Row noGutters className=\"page-header mb-4\">\n          <PageTitle title=\"Log Stream\" className=\"text-sm-left mb-3\" />\n        </Row>\n        <Row>\n          <Col md=\"10\" className=\"mb-4\">\n            <LogLevelSummaryChart\n              data={logLevelCharts}\n              showLog={showLog}\n              setTimeSelection={setTimeSelection}\n              timeOptions={timeOptions}\n              selectedTime={selectedTime}\n              timeLabels={timeSelection.chartLabels}\n            />\n          </Col>\n          <Col md=\"2\" className=\"mb-4\">\n            <LogLevelPieChart data={logLevels} />\n          </Col>\n        </Row>\n        <LogsTable data={logs} showLogDetails={showLogDetails} />\n      </div>\n    </Container>\n  );\n}\n\nexport { LogsView };\n","import React from \"react\";\nimport { Card } from \"shards-react\";\n\ntype Props = {\n  elapsed: {\n    task_name: string;\n    seconds: string | number;\n  };\n};\n\nexport default function ElapsedCard({ elapsed }: Props) {\n  return (\n    <Card className=\"p-3 h-100\">\n      <h6 className=\"stats-small__label text-uppercase text-center mb-0\">\n        <b>{elapsed.task_name}</b>\n      </h6>\n      <h2 className=\"my-3 mx-auto\">{elapsed.seconds}</h2>\n      <h6 className=\"stats-small__label text-uppercase text-center\">\n        Elapsed Time\n      </h6>\n    </Card>\n  );\n}\n","import React, { useEffect, useState, useRef } from \"react\";\nimport { Card } from \"shards-react\";\n\nimport ChartElement from \"chart.js\";\n\ntype Props = {\n  progress: any;\n};\n\nfunction ProgressCard({ progress }: Props) {\n  const canvasRef = useRef<HTMLCanvasElement | null>(null);\n  const [chartInstance, setChartInstance] = useState<ChartElement | null>(null);\n\n  useEffect(() => {\n    if (!canvasRef.current) return;\n    const newChartInstance = new ChartElement(canvasRef.current, {\n      type: \"doughnut\",\n      data: {\n        datasets: [\n          {\n            hoverBorderColor: \"#fff\",\n            data: [0, 100],\n            backgroundColor: [\"#32c8cd\", \"#E9ECEF\"],\n          },\n        ],\n        labels: [\"Label 1\", \"Label 2\"],\n      },\n      options: {\n        legend: { display: false },\n        responsive: false,\n        cutoutPercentage: 70,\n        animation: { duration: 0 },\n        tooltips: {\n          enabled: false,\n        },\n      },\n    });\n    setChartInstance(newChartInstance);\n  }, []);\n\n  useEffect(() => {\n    if (!chartInstance) return;\n    const percent = (progress.num_bars / progress.bar_len || 1) * 100;\n    let newData = {\n      datasets: [\n        {\n          hoverBorderColor: \"#fff\",\n          data: [percent, 100 - percent],\n          backgroundColor: [\"#32c8cd\", \"#E9ECEF\"],\n        },\n      ],\n      labels: [\"Label 1\", \"Label 2\"],\n    };\n    chartInstance.data = newData;\n    chartInstance.update();\n  }, [JSON.stringify(progress), chartInstance]); // eslint-disable-line react-hooks/exhaustive-deps\n\n  return (\n    <Card className=\"p-3 h-100\">\n      <h6 className=\"stats-small__label text-uppercase text-center\">\n        <b>Progress</b>\n      </h6>\n      <div className=\"go-stats__chart mx-auto d-flex flex-row\">\n        <div className=\"mr-4 mt-3\">\n          <h6 className=\"stats-small__label text-uppercase text-center\">\n            Request\n          </h6>\n          <h4 className=\"mb-0\">{progress.currentRequest}</h4>\n        </div>\n\n        <canvas\n          ref={canvasRef}\n          style={{ width: \"100px\", height: \"100px\" }}\n          className=\"my-auto\"\n        />\n      </div>\n    </Card>\n  );\n}\n\nexport default ProgressCard;\n","import React, { useRef, useState, useCallback, useEffect } from \"react\";\nimport { Card } from \"shards-react\";\nimport { useTheme } from \"@emotion/react\";\nimport ChartElement, { ChartOptions } from \"chart.js\";\n\ntype Props = {\n  speed: {\n    history: any;\n    current: any;\n    unit: any;\n  };\n};\n\nfunction SpeedCard({ speed }: Props) {\n  const canvasRef = useRef<HTMLCanvasElement | null>(null);\n  const [chartInstance, setChartInstance] = useState<ChartElement | null>(null);\n  const { history } = speed;\n  const { palette } = useTheme();\n\n  let maxValue = Math.max(...history);\n  let minValue = Math.min(...history);\n\n  const getChartOptions = useCallback((): ChartOptions => {\n    const difference = maxValue - minValue;\n    return {\n      maintainAspectRatio: true,\n      responsive: true,\n      animation: { duration: 0 },\n      legend: {\n        display: false,\n      },\n      tooltips: {\n        enabled: false,\n      },\n      layout: {\n        padding: {\n          bottom: -10,\n          left: -10,\n        },\n      },\n      elements: {\n        point: {\n          radius: 0,\n        },\n        line: {\n          tension: 0.33,\n        },\n      },\n      scales: {\n        xAxes: [\n          {\n            gridLines: {\n              display: false,\n            },\n            ticks: {\n              display: false,\n            },\n          },\n        ],\n        yAxes: [\n          {\n            gridLines: {\n              display: false,\n            },\n            scaleLabel: {\n              padding: 0,\n              display: false,\n            },\n            ticks: {\n              display: false,\n              // Avoid getting the graph line cut of at the top of the canvas.\n              // Chart.js bug link: https://github.com/chartjs/Chart.js/issues/4790\n              suggestedMax: maxValue + difference * 0.1,\n              suggestedMin: minValue - difference * 0.1,\n            },\n          },\n        ],\n      },\n    };\n  }, [maxValue, minValue]);\n\n  const getChartConfig = useCallback(\n    (chartOptions) => {\n      return {\n        type: \"line\",\n        data: {\n          labels: new Array(history.length).fill(null),\n          datasets: [\n            {\n              label: \"Today\",\n              fill: \"start\",\n              borderWidth: 1.5,\n              backgroundColor: \"rgba(0, 153, 153, 0.25)\",\n              borderColor: palette.primary,\n              data: history,\n            },\n          ],\n        },\n        options: chartOptions,\n      };\n    },\n    [history, palette.primary]\n  );\n\n  useEffect(() => {\n    if (!canvasRef.current) return;\n    const chartOptions = getChartOptions();\n    const chartConfig = getChartConfig(chartOptions);\n    const newChartInstance = new ChartElement(canvasRef.current, chartConfig);\n    setChartInstance(newChartInstance);\n  }, []); // eslint-disable-line react-hooks/exhaustive-deps\n\n  useEffect(() => {\n    if (!chartInstance) return;\n    let newChartData = {\n      ...chartInstance.data,\n      ...{\n        datasets: [\n          {\n            label: \"Today\",\n            fill: \"start\",\n            borderWidth: 1.5,\n            backgroundColor: \"rgba(0, 153, 153, 0.25)\",\n            borderColor: palette.primary,\n            data: history,\n          },\n        ],\n      },\n    };\n    chartInstance.options = getChartOptions();\n    chartInstance.data = newChartData;\n    chartInstance.update();\n  }, [\n    history,\n    chartInstance,\n    getChartOptions,\n    getChartConfig,\n    palette.primary,\n  ]);\n\n  return (\n    <Card className=\"pt-0 h-100 stats-small\">\n      <div className=\"stats-small__data mx-auto\">\n        <h6 className=\"stats-small__label text-uppercase text-center mb-0 pt-0 mt-0\">\n          <b>Speed</b>\n        </h6>\n        <h2 className=\"my-3 mx-auto\">{speed.current}</h2>\n        <h6 className=\"stats-small__label under text-uppercase text-center\">\n          {speed.unit}/Second\n        </h6>\n      </div>\n      <canvas height=\"100\" ref={canvasRef} className=\"stats-small-1\" />\n    </Card>\n  );\n}\n\nexport default SpeedCard;\n","import React, { useRef, useEffect, useState, useCallback } from \"react\";\nimport ChartElement, {\n  ChartConfiguration,\n  ChartOptions,\n  ChartData,\n} from \"chart.js\";\nimport {\n  Card,\n  CardHeader,\n  CardBody,\n  Row,\n  Col,\n  ButtonGroup,\n  Button,\n} from \"shards-react\";\nimport { formatBytes } from \"../../helpers\";\nimport { useTheme } from \"@emotion/react\";\n\nfunction BarChartCard(props: any) {\n  const canvasRef = useRef<HTMLCanvasElement | null>(null);\n  const [chartInstance, setChartInstance] = useState<ChartElement | null>(null);\n  const [currentTab, setCurrentTab] = useState(\"messages\");\n  const { palette } = useTheme();\n\n  const chartData = props[currentTab];\n\n  const getChartOptions = useCallback((): ChartOptions => {\n    return {\n      animation: { duration: 0 },\n      tooltips: {\n        callbacks: {\n          title: function (tooltipItem: any) {\n            return `Pod: ${tooltipItem[0].xLabel}`;\n          },\n          label: (tooltipItem: any, data: any) => {\n            let label = `${data.datasets[tooltipItem.datasetIndex].label}: ${\n              currentTab === \"bytes\"\n                ? formatBytes(tooltipItem.value)\n                : tooltipItem.value\n            }`;\n            return label;\n          },\n          afterLabel: (tooltipItem: any) => {\n            let text = \"\\nProcess ID: \" + chartData[tooltipItem.index].process;\n            return text;\n          },\n        },\n      },\n      scales: {\n        xAxes: [\n          {\n            stacked: true,\n          },\n        ],\n        yAxes: [\n          {\n            stacked: true,\n            ticks: {\n              callback: (label: number) => {\n                if (currentTab === \"bytes\") return formatBytes(label);\n                return label > 999 ? `${(label / 1000).toFixed(0)}k` : label;\n              },\n            },\n          },\n        ],\n      },\n      maintainAspectRatio: false,\n    };\n  }, [chartData, currentTab]);\n\n  const getChartConfig = useCallback(\n    (chartOptions: ChartOptions): ChartConfiguration => {\n      return {\n        type: \"bar\",\n        options: chartOptions,\n        data: {\n          labels: chartData.map((d: any) => d.node),\n          datasets: [\n            {\n              label: \"msg sent\",\n              fill: \"start\",\n              data: chartData.map((d: any) => d.sent),\n              backgroundColor: palette.primary,\n              borderColor: palette.primary,\n              pointBackgroundColor: palette.background,\n              pointHoverBackgroundColor: palette.primary,\n              borderWidth: 1.5,\n            },\n            {\n              label: \"msg received\",\n              fill: \"start\",\n              data: chartData.map((d: any) => d.received),\n              backgroundColor: palette.success,\n              borderColor: palette.success,\n              pointBackgroundColor: palette.background,\n              pointHoverBackgroundColor: palette.success,\n              borderWidth: 1.5,\n            },\n          ],\n        },\n      };\n    },\n    [chartData, palette.success, palette.primary, palette.background]\n  );\n\n  const getChartData = useCallback(() => {\n    return {\n      labels: chartData.map((d: any) => d.node),\n      datasets: [\n        {\n          label: `${currentTab} sent`,\n          fill: \"start\",\n          data: chartData.map((d: any) => d.sent),\n          backgroundColor: palette.primary,\n          borderColor: palette.primary,\n          pointBackgroundColor: palette.background,\n          pointHoverBackgroundColor: palette.primary,\n          borderWidth: 1.5,\n        },\n        {\n          label: `${currentTab} received`,\n          fill: \"start\",\n          data: chartData.map((d: any) => d.received),\n          backgroundColor: palette.success,\n          borderColor: palette.success,\n          pointBackgroundColor: palette.background,\n          pointHoverBackgroundColor: palette.success,\n          borderWidth: 1.5,\n        },\n      ],\n    };\n  }, [\n    chartData,\n    currentTab,\n    palette.success,\n    palette.primary,\n    palette.background,\n  ]);\n\n  useEffect(() => {\n    if (!canvasRef.current) return;\n    const chartOptions: ChartOptions = getChartOptions();\n    const chartConfig: ChartConfiguration = getChartConfig(chartOptions);\n    const newChartInstance = new ChartElement(canvasRef.current, chartConfig);\n    setChartInstance(newChartInstance);\n  }, []); // eslint-disable-line react-hooks/exhaustive-deps\n\n  useEffect(() => {\n    if (!chartInstance) return;\n    const newData: ChartData = getChartData();\n    const newOptions: ChartOptions = getChartOptions();\n    chartInstance.options = newOptions;\n    chartInstance.data = newData;\n    chartInstance.update();\n  }, [chartData, chartInstance, currentTab, getChartData, getChartOptions]);\n\n  return (\n    <Card small className=\"h-100 mb-4\">\n      <CardHeader className=\"border-bottom\">\n        <h6 className=\"m-0\">Network Load</h6>\n      </CardHeader>\n\n      <CardBody className=\"pt-0\">\n        <Row className=\"border-bottom py-2 bg-light\">\n          <Col sm=\"6\" className=\"col d-flex mb-2 mb-sm-0\">\n            <ButtonGroup>\n              <Button\n                theme=\"white\"\n                active={currentTab === \"messages\"}\n                onClick={() => setCurrentTab(\"messages\")}\n              >\n                Messages\n              </Button>\n              <Button\n                theme=\"white\"\n                active={currentTab === \"bytes\"}\n                onClick={() => setCurrentTab(\"bytes\")}\n              >\n                Bytes\n              </Button>\n            </ButtonGroup>\n          </Col>\n        </Row>\n        <div style={{ position: \"relative\", height: 300 }}>\n          <canvas ref={canvasRef} />\n        </div>\n      </CardBody>\n    </Card>\n  );\n}\n\nexport default BarChartCard;\n","import React, { useRef, useState, useCallback, useEffect } from \"react\";\nimport { Card } from \"shards-react\";\n\nimport ChartElement, { ChartOptions } from \"chart.js\";\n\ntype Props = {\n  qps: {\n    history: any;\n    current: any;\n  };\n};\n\nfunction QueriesPerSecondCard({ qps }: Props) {\n  const canvasRef = useRef<HTMLCanvasElement | null>(null);\n  const [chartInstance, setChartInstance] = useState<ChartElement | null>(null);\n  const { history } = qps;\n\n  let maxValue = Math.max(...history);\n  let minValue = Math.min(...history);\n\n  const getChartOptions = useCallback((): ChartOptions => {\n    const difference = maxValue - minValue;\n    return {\n      maintainAspectRatio: true,\n      responsive: true,\n      animation: { duration: 0 },\n      legend: {\n        display: false,\n      },\n      tooltips: {\n        enabled: false,\n      },\n      elements: {\n        point: {\n          radius: 0,\n        },\n        line: {\n          tension: 0.33,\n        },\n      },\n      layout: {\n        padding: {\n          bottom: -10,\n          left: -10,\n        },\n      },\n      scales: {\n        xAxes: [\n          {\n            gridLines: {\n              display: false,\n            },\n            ticks: {\n              display: false,\n            },\n          },\n        ],\n        yAxes: [\n          {\n            gridLines: {\n              display: false,\n            },\n            scaleLabel: {\n              display: false,\n            },\n            ticks: {\n              display: false,\n              // Avoid getting the graph line cut of at the top of the canvas.\n              // Chart.js bug link: https://github.com/chartjs/Chart.js/issues/4790\n              suggestedMax: maxValue + difference * 0.1,\n              suggestedMin: minValue - difference * 0.1,\n            },\n          },\n        ],\n      },\n    };\n  }, [maxValue, minValue]);\n\n  const getChartConfig = useCallback(\n    (chartOptions) => {\n      return {\n        type: \"line\",\n        data: {\n          labels: new Array(history.length).fill(null),\n          datasets: [\n            {\n              label: \"Today\",\n              fill: \"start\",\n              borderWidth: 1.5,\n              backgroundColor: \"rgba(50, 200, 205, 0.25)\",\n              borderColor: \"#32c8cd\",\n              data: history,\n            },\n          ],\n        },\n        options: chartOptions,\n      };\n    },\n    [history]\n  );\n\n  useEffect(() => {\n    if (!canvasRef.current) return;\n    const chartOptions = getChartOptions();\n    const chartConfig = getChartConfig(chartOptions);\n    const newChartInstance = new ChartElement(canvasRef.current, chartConfig);\n    setChartInstance(newChartInstance);\n  }, []); // eslint-disable-line react-hooks/exhaustive-deps\n\n  useEffect(() => {\n    if (!chartInstance) return;\n    let newChartData = {\n      ...chartInstance.data,\n      ...{\n        datasets: [\n          {\n            label: \"Today\",\n            fill: \"start\",\n            borderWidth: 1.5,\n            backgroundColor: \"rgba(50, 200, 205, 0.25)\",\n            borderColor: \"#32c8cd\",\n            data: history,\n          },\n        ],\n      },\n    };\n    chartInstance.options = getChartOptions();\n    chartInstance.data = newChartData;\n    chartInstance.update();\n  }, [history, chartInstance, getChartOptions, getChartConfig]);\n\n  return (\n    <Card className=\"pt-0 h-100 stats-small\">\n      <div className=\"stats-small__data mx-auto\">\n        <h6 className=\"stats-small__label text-uppercase text-center mb-0 pt-0 mt-0\">\n          <b>QPS</b>\n        </h6>\n        <h2 className=\"my-3 mx-auto\">{qps.current}</h2>\n        <h6 className=\"stats-small__label under text-uppercase text-center\">\n          Queries/Second\n        </h6>\n      </div>\n      <canvas height=\"100\" ref={canvasRef} className=\"stats-small-1\" />\n    </Card>\n  );\n}\n\nexport default QueriesPerSecondCard;\n","import { State } from \"../index\";\n\nexport const selectTaskData = (state: State) => state.taskState.taskData;\n","import React from \"react\";\nimport { Container, Row, Col } from \"react-bootstrap\";\nimport { PageTitle } from \"../components/Common/PageTitle\";\nimport ElapsedCard from \"../components/Task/ElapsedCard\";\nimport ProgressCard from \"../components/Task/ProgressCard\";\nimport SpeedCard from \"../components/Task/SpeedCard\";\nimport BarChartCard from \"../components/Task/BarChartCard\";\nimport QueriesPerSecond from \"../components/Task/QueriesPerSecond\";\nimport { useSelector } from \"react-redux\";\nimport { selectTaskData } from \"../redux/task/task.selectors\";\n\nfunction TaskView() {\n  const taskData = useSelector(selectTaskData);\n\n  return (\n    <Container fluid className=\"main-content-container px-0\">\n      <div className=\"px-4\">\n        <Row noGutters className=\"page-header mb-4\">\n          <PageTitle title=\"Task\" className=\"text-sm-left mb-3\" />\n        </Row>\n        <Row>\n          <Col md=\"6\" lg=\"6\" xl=\"3\" className=\"mb-4\">\n            <ElapsedCard elapsed={taskData.elapsed} />\n          </Col>\n          <Col md=\"6\" lg=\"6\" xl=\"3\" className=\"mb-4\">\n            <ProgressCard progress={taskData.progress} />\n          </Col>\n          <Col md=\"6\" lg=\"6\" xl=\"3\" className=\"mb-4\">\n            <QueriesPerSecond qps={taskData.qps} />\n          </Col>\n          <Col md=\"6\" lg=\"6\" xl=\"3\" className=\"mb-4\">\n            <SpeedCard speed={taskData.speed} />\n          </Col>\n        </Row>\n        <BarChartCard\n          messages={taskData.messages}\n          bytes={taskData.bytes}\n          lastUpdate={taskData.lastUpdateChart}\n        />\n      </div>\n    </Container>\n  );\n}\n\nexport default TaskView;\n","import { SettingName } from \"../../redux/settings/settings.types\";\n\ntype LabelName =\n  | \"Host\"\n  | \"Log\"\n  | \"Profile\"\n  | \"YAML\"\n  | \"Shutdown\"\n  | \"Ready\"\n  | \"Port\";\n\ntype Option = {\n  label: LabelName;\n  placeholder: string;\n  value: SettingName;\n};\n\nexport const baseOptions: Option[] = [\n  {\n    label: \"Host\",\n    placeholder: \"0.0.0.0\",\n    value: \"host\",\n  },\n  {\n    label: \"Port\",\n    placeholder: \"5000\",\n    value: \"port\",\n  },\n];\n\nexport const advancedOptions: Option[] = [\n  {\n    label: \"Log\",\n    placeholder: \"/stream/log\",\n    value: \"log\",\n  },\n  {\n    label: \"Profile\",\n    placeholder: \"/stream/profile\",\n    value: \"profile\",\n  },\n  {\n    label: \"YAML\",\n    placeholder: \"/data/yaml\",\n    value: \"yaml\",\n  },\n  {\n    label: \"Shutdown\",\n    placeholder: \"/action/shutdown\",\n    value: \"shutdown\",\n  },\n  {\n    label: \"Ready\",\n    placeholder: \"/status/isready\",\n    value: \"ready\",\n  },\n];\n","import React from \"react\";\nimport { Col, FormInput } from \"shards-react\";\nimport { SettingName } from \"../../redux/settings/settings.types\";\n\ntype Props = {\n  colSpan?: number;\n  label: string;\n  value: SettingName;\n  placeholder: string;\n  onChange: (e: any) => void;\n};\n\nexport default function FormItem({\n  colSpan = 6,\n  label,\n  value,\n  placeholder,\n  onChange,\n}: Props) {\n  return (\n    <Col md={colSpan} className=\"form-group\">\n      <label>{label}</label>\n      <FormInput placeholder={placeholder} value={value} onChange={onChange} />\n    </Col>\n  );\n}\n","import { State } from \"../index\";\n\nexport const selectSettings = (state: State) => state.settingsState.settings;\n","import React, { useState } from \"react\";\nimport {\n  Button,\n  Card,\n  CardBody,\n  CardHeader,\n  Col,\n  Form,\n  Row,\n} from \"shards-react\";\nimport { Collapse } from \"react-bootstrap\";\n\nimport { advancedOptions, baseOptions } from \"./options\";\nimport FormItem from \"./FormItem\";\nimport {\n  SettingName,\n  SettingUpdate,\n} from \"../../redux/settings/settings.types\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { updateSettings } from \"../../redux/settings/settings.actions\";\nimport { selectSettings } from \"../../redux/settings/settings.selectors\";\n\nfunction SettingsCard() {\n  const [updates, setUpdates] = useState<SettingUpdate>({});\n  const [expanded, setExpanded] = useState(false);\n\n  const settings = useSelector(selectSettings);\n\n  const dispatch = useDispatch();\n\n  function changeSetting(setting: SettingName, value: string) {\n    const newUpdates: SettingUpdate = { ...updates };\n    newUpdates[setting] = value;\n    setUpdates(newUpdates);\n  }\n\n  function saveChanges() {\n    dispatch(updateSettings(updates));\n  }\n\n  function toggleExpand() {\n    setExpanded(!expanded);\n  }\n\n  return (\n    <Card small className=\"mb-4\">\n      <CardHeader className=\"border-bottom\">\n        <h6 className=\"m-0\">Connection Preferences</h6>\n      </CardHeader>\n      <CardBody>\n        <Form>\n          <Row form>\n            {baseOptions.map(({ label, placeholder, value }) => (\n              <FormItem\n                key={value as string}\n                label={label}\n                placeholder={placeholder}\n                value={\n                  (value in updates\n                    ? updates[value]\n                    : settings[value]) as SettingName\n                }\n                onChange={(e) => changeSetting(value, e.target.value)}\n              />\n            ))}\n          </Row>\n          <Row>\n            <Col xs=\"6\">\n              <strong\n                aria-controls=\"collapsed-form\"\n                aria-expanded={expanded}\n                onClick={toggleExpand}\n                className=\"text-primary d-inline-block mb-3 cursor-pointer\"\n              >\n                Advanced{\" \"}\n                <i className=\"material-icons\">\n                  {expanded ? \"arrow_drop_up\" : \"arrow_drop_down\"}\n                </i>\n              </strong>\n            </Col>\n            <Col xs=\"6\" className=\"text-right\">\n              <Button onClick={saveChanges}>Save Changes</Button>\n            </Col>\n          </Row>\n          <Collapse in={expanded}>\n            <div id=\"collapsed-form\">\n              <strong className=\"text-muted d-block mb-3\">Endpoints</strong>\n              <Row form>\n                {advancedOptions.map(({ label, placeholder, value }) => (\n                  <FormItem\n                    key={value}\n                    label={label}\n                    placeholder={placeholder}\n                    value={\n                      (value in updates\n                        ? updates[value]\n                        : settings[value]) as SettingName\n                    }\n                    onChange={(e) =>\n                      changeSetting(value as SettingName, e.target.value)\n                    }\n                  />\n                ))}\n              </Row>\n            </div>\n          </Collapse>\n        </Form>\n      </CardBody>\n    </Card>\n  );\n}\n\nexport default SettingsCard;\n","import { updateSettingsAction, SettingUpdate } from \"./settings.types\";\nimport { UPDATE_SETTINGS } from \"./settings.constants\";\n\nexport function updateSettings(settings: SettingUpdate): updateSettingsAction {\n  return {\n    type: UPDATE_SETTINGS,\n    payload: settings,\n  };\n}\n","import React from \"react\";\nimport { Container, Row } from \"react-bootstrap\";\nimport { PageTitle } from \"../components/Common/PageTitle\";\nimport SettingsCard from \"../components/Settings/Settings\";\n\nclass SettingsView extends React.Component {\n  render = () => {\n    return (\n      <Container fluid className=\"main-content-container px-4\">\n        <Row noGutters className=\"page-header mb-4\">\n          <PageTitle\n            title=\"Settings\"\n            className=\"text-sm-left mb-3\"\n          />\n        </Row>\n        <SettingsCard />\n      </Container>\n    );\n  };\n}\n\nexport default SettingsView;\n","import React from \"react\"\nimport styled from \"@emotion/styled\"\n\nconst ActionItemContainer = styled.div`\n  display: flex;\n  flex-direction: column;\n  align-items: flex-start;\n  justify-content: space-between;\n  border-radius: 0.75rem;\n  padding: 1.5rem;\n  width: 35%;\n`\n\nconst ActionItemTitle = styled.span`\n  font-weight: 600;\n  font-size: 1.5rem;\n`\n\nconst ActionButton = styled.button`\n  background: ${(props) => props.theme.palette.primary};\n  border-radius: 10px;\n  border: none;\n  padding: 1rem 1.5rem;\n  font-size: 1rem;\n  font-weight: 600;\n  color: ${(props) => props.theme.palette.background};\n`\n\ntype overviewActionType = {\n  title: string\n  description: string\n  buttonLabel: string\n  buttonAction: () => void\n}\n\ntype HubOverviewActionProps = {\n  overviewAction: overviewActionType\n}\n\nconst HubOverviewAction = ({ overviewAction }: HubOverviewActionProps) => {\n  const { title, description, buttonLabel, buttonAction } = overviewAction\n  return (\n    <ActionItemContainer>\n      <>\n        <ActionItemTitle data-name=\"hubOverviewActionTitle\">\n          {title}\n        </ActionItemTitle>\n        <p>{description}</p>\n      </>\n      <ActionButton\n        data-name=\"hubOverviewActionButtonLabel\"\n        onClick={buttonAction}\n      >\n        {buttonLabel}\n      </ActionButton>\n    </ActionItemContainer>\n  )\n}\n\nexport default HubOverviewAction\n","import React from \"react\";\nimport { useHistory } from \"react-router-dom\";\nimport HubOverviewAction from \"./HubOverviewAction\";\n\ntype HubOverviewActionDataType = {\n  title: string;\n  description: string;\n  buttonLabel: string;\n  buttonAction: () => void;\n};\n\nconst HubOverviewActionsContainer = () => {\n  const history = useHistory();\n\n  const hubOverviewActionsData: HubOverviewActionDataType[] = [\n    {\n      title: \"Explore\",\n      description:\n        \"Find out what you can do in Jina hub and how you platform works.\",\n      buttonLabel: \"Read more\",\n      buttonAction: () => history.push(\"/hub/explore\"),\n    },\n    {\n      title: \"Create\",\n      // design is not final. Description will probably change.\n      description: \"Create flow\",\n      buttonLabel: \"Let's Go\",\n      buttonAction: () => history.push(\"/flow\"),\n    },\n  ];\n\n  return (\n    <>\n      {hubOverviewActionsData.map((overviewAction) => (\n        <HubOverviewAction\n          overviewAction={overviewAction}\n          key={overviewAction.title}\n        />\n      ))}\n    </>\n  );\n};\n\nexport default HubOverviewActionsContainer;\n","import React from \"react\";\nimport ImageCard from \"./ImageCard\";\nimport styled from \"@emotion/styled\";\nimport { useSelector } from \"react-redux\";\nimport { Row, Col } from \"react-bootstrap\";\nimport {\n  selectHubImages,\n  selectIsHubImagesLoading,\n} from \"../../redux/hub/hub.selectors\";\nimport SpinningLoader from \"../Common/SpinningLoader\";\n\nconst SubTitle = styled.span`\n  font-weight: 500;\n  font-size: 1.5rem;\n`;\n\nconst HubImagesListPreview = () => {\n  const hubImages = useSelector(selectHubImages).slice(0, 6);\n  const isHubImagesLoading = useSelector(selectIsHubImagesLoading);\n\n  return (\n    <>\n      {isHubImagesLoading ? (\n        <SpinningLoader />\n      ) : (\n        <>\n          <SubTitle data-name=\"hubImagesPreviewSubtitle\">Latest</SubTitle>\n          <Row>\n            {hubImages.map((image, index) => (\n              <Col\n                key={`${image.name}.${image.version}.${image[\"jina-version\"]}`}\n                md=\"4\"\n                className=\"mb-4\"\n              >\n                <ImageCard image={image} index={index} />\n              </Col>\n            ))}\n          </Row>\n        </>\n      )}\n    </>\n  );\n};\n\nexport default HubImagesListPreview;\n","import React, { useEffect } from \"react\";\nimport { Switch, Route, useRouteMatch } from \"react-router-dom\";\nimport { Container, Row } from \"react-bootstrap\";\nimport { useDispatch } from \"react-redux\";\nimport { fetchHubImages } from \"../redux/hub/hub.actions\";\nimport { PageTitle } from \"../components/Common/PageTitle\";\nimport HubOverviewActionsContainer from \"../components/Hub/HubOverviewActionsContainer\";\nimport HubImagesListPreview from \"../components/Hub/HubImagesListPreview\";\nimport HubImagesList from \"../components/Hub/HubImagesList\";\n\nconst HubView = () => {\n  const { path } = useRouteMatch();\n  const dispatch = useDispatch();\n  useEffect(() => {\n    dispatch(fetchHubImages());\n  }, [dispatch]);\n\n  return (\n    <Container fluid className=\"main-content-container px-0\">\n      <div className=\"px-4\">\n        <Row className=\"page-header\">\n          <PageTitle title=\"Jina Hub\" className=\"text-sm-left mb-3\" />\n        </Row>\n        <Switch>\n          <Route exact path={path}>\n            <Row>\n              <HubOverviewActionsContainer />\n            </Row>\n            <HubImagesListPreview />\n          </Route>\n          <Route path={`${path}/explore`}>\n            <HubImagesList />\n          </Route>\n        </Switch>\n      </div>\n    </Container>\n  );\n};\n\nexport default HubView;\n","import React from \"react\"\nimport styled from \"@emotion/styled\"\nimport { useTheme } from \"@emotion/react\"\nimport { useDispatch, useSelector } from \"react-redux\"\nimport {\n  selectFlows,\n  selectSelectedFlowId,\n} from \"../../redux/flows/flows.selectors\"\nimport { selectConnectionStatus } from \"../../redux/global/global.selectors\"\nimport { showModal } from \"../../redux/global/global.actions\"\nimport { deleteFlow, loadFlow } from \"../../redux/flows/flows.actions\"\n\nconst FALLBACK_FLOW_NAME = \"untitled flow\"\n\ntype ConnectionIndicatorProps = {\n  connected: boolean\n  show: boolean\n}\n\nfunction ConnectionIndicator({ connected, show }: ConnectionIndicatorProps) {\n  if (!show) return null\n  return connected ? (\n    <i className=\"material-icons ml-2 text-success\">wifi</i>\n  ) : (\n    <i className=\"material-icons ml-2 text-warning\">wifi_off</i>\n  )\n}\n\nfunction TitleConnectionIndicator({\n  connected,\n  show,\n}: ConnectionIndicatorProps) {\n  if (!show) return null\n  return connected ? (\n    <i className=\"material-icons text-white ml-1 mr-2\">wifi</i>\n  ) : (\n    <i className=\"material-icons text-warning ml-1 mr-2\">wifi_off</i>\n  )\n}\n\ntype DeleteFlowProps = {\n  deleteFlow: (e: any) => void\n}\n\nfunction DeleteFlowButton({ deleteFlow }: DeleteFlowProps) {\n  const Delete = styled.div`\n    font-size: 1.15rem;\n    position: absolute;\n    top: 0;\n    right: 0;\n  `\n  return (\n    <Delete>\n      <i onClick={deleteFlow} className=\"material-icons\">\n        delete\n      </i>\n    </Delete>\n  )\n}\n\nexport default function FlowSelection() {\n  const flows = useSelector(selectFlows)\n  const selectedFlowId = useSelector(selectSelectedFlowId)\n  const connected = useSelector(selectConnectionStatus)\n  const { palette } = useTheme()\n\n  const dispatch = useDispatch()\n\n  const FlowSelectionMenu = styled.div`\n    font-family: \"Montserrat\", serif;\n    min-width: 12rem;\n    margin-right: 3rem;\n  `\n\n  const SelectedFlowHeader = styled.div`\n    position: relative;\n    font-weight: 600;\n    font-size: 20px;\n    color: ${palette.headerTextColor};\n    margin-bottom: 1rem;\n    white-space: nowrap;\n    overflow: hidden;\n  `\n\n  type FlowTapProps = {\n    selected: boolean\n  }\n\n  const FlowTap = styled.div`\n    cursor: pointer;\n    font-weight: ${(props: FlowTapProps) => (props.selected ? \"bold\" : 500)};\n    font-size: 14px;\n    display: flex;\n    align-items: center;\n    justify-content: space-between;\n    margin-left: 1rem;\n    margin-bottom: 1rem;\n    white-space: nowrap;\n    overflow: hidden;\n    position: relative;\n    padding-top: 0.15rem;\n    padding-bottom: 0.15rem;\n  `\n\n  const FlowTapOverflowHider = styled.div`\n    position: absolute;\n    height: 1.75rem;\n    width: 2rem;\n    top: 0;\n    right: 0;\n    background: linear-gradient(\n      to right,\n      transparent 0%,\n      ${palette.bodyBackground} 40%\n    );\n  `\n\n  const FlowHeader = styled.div`\n    cursor: pointer;\n    font-weight: 600;\n    font-size: 14px;\n    margin-bottom: 1rem;\n    color: ${palette.headerTextColor};\n  `\n\n  function FlowSettingsButton() {\n    const Settings = styled.div`\n      cursor: pointer;\n      position: absolute;\n      top: 0;\n      right: 0;\n      background: linear-gradient(\n        to right,\n        transparent 0%,\n        ${palette.bodyBackground} 40%\n      );\n      padding-left: 1rem;\n      color: ${palette.mutedText};\n    `\n    return (\n      <Settings\n        data-name={\"settingsButton\"}\n        onClick={() => {\n          dispatch(showModal(\"flowSettings\"))\n        }}\n      >\n        <i\n          className=\"material-icons\"\n          onClick={() => {\n            dispatch(showModal(\"flowSettings\"))\n          }}\n        >\n          settings\n        </i>\n      </Settings>\n    )\n  }\n\n  const userFlows = Object.entries(flows).filter(\n    ([id, flow]) => flow.type !== \"example\"\n  )\n\n  const exampleFlows = Object.entries(flows).filter(\n    ([id, flow]) => flow.type === \"example\"\n  )\n\n  const currentFlow = flows[selectedFlowId]\n\n  return (\n    <FlowSelectionMenu>\n      <SelectedFlowHeader>\n        {currentFlow.name || <i>{FALLBACK_FLOW_NAME}</i>}\n        {currentFlow.type !== \"example\" && <FlowSettingsButton />}\n        <TitleConnectionIndicator\n          show={currentFlow.type === \"remote\"}\n          connected={connected}\n        />\n      </SelectedFlowHeader>\n\n      <FlowTap selected={false} onClick={() => dispatch(showModal(\"newFlow\"))}>\n        New Flow <i className=\"material-icons plus-icon\">add</i>\n      </FlowTap>\n\n      <FlowHeader>My Flows </FlowHeader>\n\n      {userFlows.map(([flowId, flow], idx) => (\n        <FlowTap\n          selected={selectedFlowId === flowId}\n          onClick={() => dispatch(loadFlow(flowId))}\n          key={idx}\n        >\n          {flow.name || <i>{FALLBACK_FLOW_NAME}</i>}\n          <ConnectionIndicator\n            show={flow.type === \"remote\"}\n            connected={connected}\n          />\n          <FlowTapOverflowHider />\n          {flowId !== \"_userFlow\" && (\n            <DeleteFlowButton\n              deleteFlow={(e: any) => dispatch(deleteFlow(flowId))}\n            />\n          )}\n        </FlowTap>\n      ))}\n      <FlowHeader>Example Flows</FlowHeader>\n      {exampleFlows.map(([flowId, flow], idx) => (\n        <FlowTap\n          selected={selectedFlowId === flowId}\n          onClick={() => loadFlow(flowId)}\n          key={idx}\n        >\n          {flow.name}\n        </FlowTap>\n      ))}\n    </FlowSelectionMenu>\n  )\n}\n","export default __webpack_public_path__ + \"static/media/Play.bef61d4b.svg\";","export default __webpack_public_path__ + \"static/media/Save.fb5eb30a.svg\";","export default __webpack_public_path__ + \"static/media/Stop.484e40df.svg\";","export default __webpack_public_path__ + \"static/media/Upload.3efa525a.svg\";","export default __webpack_public_path__ + \"static/media/Yaml.010ee2a0.svg\";","import React from \"react\";\nimport styled from \"@emotion/styled\";\nimport Play from \"../../assets/icons/Play.svg\";\nimport Save from \"../../assets/icons/Save.svg\";\nimport Stop from \"../../assets/icons/Stop.svg\";\nimport Upload from \"../../assets/icons/Upload.svg\";\nimport Yaml from \"../../assets/icons/Yaml.svg\";\n\ntype Props = {\n  importChart: () => void;\n  copyChart: () => void;\n  exportImage: (format: string) => void;\n  startFlow: () => void;\n  stopFlow: () => void;\n};\n\nconst ButtonGroup = styled.div`\n  height: 3.125rem;\n  background: #009999;\n  border-radius: 8px;\n  display: flex;\n`;\n\nconst Button = styled.button`\n  background: #009999;\n  border: 0;\n  margin-right: 1rem;\n  cursor: pointer;\n  :focus {\n    outline: 0px;\n  }\n`;\n\nconst PlayButton = styled(Button)`\n  margin: 0 2rem;\n`;\n\nexport default function CommandBar({\n  startFlow,\n  stopFlow,\n  importChart,\n  copyChart,\n  exportImage,\n}: Props) {\n  return (\n    <div className=\"command-bar-container\">\n      <div className=\"command-bar\">\n        <ButtonGroup>\n          <PlayButton data-name={\"playButton\"} onClick={startFlow}>\n            <img alt=\"Play\" src={Play} />\n          </PlayButton>\n          <Button data-name={\"stopButton\"} onClick={stopFlow}>\n            <img alt=\"Stop\" src={Stop} />\n          </Button>\n          <Button onClick={() => exportImage(\"png\")}>\n            <img alt=\"Save\" src={Save} />\n          </Button>\n          <Button onClick={importChart}>\n            <img alt=\"Upload\" src={Upload} />\n          </Button>\n          <Button onClick={copyChart}>\n            <img\n              style={{\n                width: \"3rem\",\n                height: \"auto\",\n                marginLeft: \"-0.5rem\",\n                marginTop: \"0.15rem\",\n              }}\n              alt=\"Upload\"\n              src={Yaml}\n            />\n          </Button>\n        </ButtonGroup>\n      </div>\n    </div>\n  );\n}\n","import React from \"react\"\nimport { Handle, Node, Position } from \"react-flow-renderer\"\nimport { showModal } from \"../../redux/global/global.actions\"\nimport { useDispatch, useSelector } from \"react-redux\"\nimport { selectSelectedFlow } from \"../../redux/flows/flows.selectors\"\nimport styled from \"@emotion/styled\"\n\nexport const ChartNodeElement = styled.div`\n  min-width: 16rem;\n  cursor: move;\n  text-align: center;\n  font-size: 14px;\n  background: #fff;\n  font-weight: 500;\n  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);\n  border-radius: 0.25em;\n  transition: 0.2s;\n  border: 1px solid rgba(0, 153, 153, 0.3);\n`\n\ntype NodePortProps = {\n  type: \"source\" | \"target\"\n}\n\nfunction NodePort({ type }: NodePortProps) {\n  const NodePortTop = styled(Handle)`\n    margin-top: -0.2rem;\n    background-color: white;\n    width: 1rem;\n    height: 1rem;\n    border-radius: 0.5rem;\n    border: 1px solid rgba(0, 153, 153, 0.3); //todo use theming\n    display: flex;\n    align-items: center;\n    justify-content: center;\n\n    &:after {\n      display: block;\n\n      content: \"\";\n      background-color: #099;\n      color: white;\n      border-radius: 0.25rem;\n      width: 0.5rem;\n      height: 0.5rem;\n    }\n  `\n\n  const NodePortBottom = styled(NodePortTop)`\n    bottom: -0.45rem;\n  `\n  switch (type) {\n    case \"source\":\n      return <NodePortTop type={type} position={Position.Top} />\n    case \"target\":\n      return <NodePortBottom type={type} position={Position.Bottom} />\n  }\n}\n\ntype SidebarProps = {\n  label: string | undefined\n}\ntype ChartNodeProps = Node | SidebarProps\n\nexport default function ChartNode(props: ChartNodeProps) {\n  const flowType = useSelector(selectSelectedFlow).type\n  const dispatch = useDispatch()\n\n  function isNode(prop: ChartNodeProps): prop is Node {\n    return (prop as Node).id !== undefined\n  }\n\n  if (isNode(props)) {\n    const node = props\n    return (\n      <ChartNodeElement\n        onDoubleClick={() => {\n          flowType === \"user-generated\" &&\n            dispatch(showModal(\"podEdit\", { nodeId: node?.id }))\n        }}\n      >\n        {node.id !== \"gateway\" && <NodePort type=\"source\" />}\n        <div id={`chart-node-${node.data.label}`}>\n          <div className=\"node-header\">\n            <div className={`p-1`}>\n              <p className=\"m-1\">\n                <span className=\"text-bold\">\n                  {node.data.label || (\n                    <span className=\"text-warning\">Empty Pod</span>\n                  )}\n                </span>\n              </p>\n            </div>\n          </div>\n        </div>{\" \"}\n        <NodePort type=\"target\" />\n      </ChartNodeElement>\n    )\n  } else\n    return (\n      <ChartNodeElement id={`chart-node-${props.label}`}>\n        <div className=\"node-header\">\n          <div className={`p-1`}>\n            <p className=\"m-1\">\n              <span className=\"text-bold\">\n                {props.label || <span className=\"text-warning\">Empty Pod</span>}\n              </span>\n            </p>\n          </div>\n        </div>\n      </ChartNodeElement>\n    )\n}\n","import * as React from \"react\"\nimport { NodeData } from \"../../redux/flows/flows.types\"\nimport ChartNode from \"./ChartNode\"\n\ntype Props = {\n  label: string\n  data: NodeData\n  idx: number\n}\n\nexport default function SidebarItem({ label, data, idx }: Props) {\n  const onDragStart = (event: React.DragEvent<HTMLDivElement>) => {\n    const dataString = JSON.stringify({ label, ...data })\n    event.dataTransfer.setData(\"application/reactflow\", dataString)\n    event.dataTransfer.effectAllowed = \"move\"\n  }\n\n  const ref: React.RefObject<HTMLInputElement> = React.createRef()\n  return (\n    <div\n      data-name={`SideBarItem-${idx}`}\n      ref={ref}\n      className=\"mb-3 draggable-container\"\n      draggable={true}\n      onDragStart={onDragStart}\n    >\n      <ChartNode label={label} />\n    </div>\n  )\n}\n","const dedaultPods = [\n  {},\n  {\n    name: \"reader\",\n    yaml_path: \"pods/extract.yml\",\n  },\n  {\n    name: \"loader\",\n    yaml_path: \"yaml/craft-load.yml\",\n    parallel: 3,\n    read_only: \"true\",\n  },\n  {\n    name: \"splittor\",\n    yaml_path: \"pods/craft-split.yml\",\n    parallel: 3,\n    read_only: \"true\",\n  },\n  {\n    name: \"encoder\",\n    yaml_path: \"pods/encode.yml\",\n    parallel: 3,\n    timeout_ready: 1200000,\n    read_only: \"true\",\n  },\n  {\n    name: \"chunk_indexer\",\n    yaml_path: \"pods/index-chunk.yml\",\n    parallel: 3,\n    separated_workspace: \"true\",\n  },\n  {\n    name: \"doc_indexer\",\n    yaml_path: \"pods/index-doc.yml\",\n  },\n  {\n    name: \"join_all\",\n    yaml_path: \"_merge\",\n    read_only: \"true\",\n  },\n  {\n    name: \"ranker\",\n    yaml_path: \"MinRanker\",\n  },\n  {\n    name: \"flipper\",\n    yaml_path: \"yaml/craft-flip.yml\",\n    parallel: 3,\n    read_only: \"true\",\n  },\n  {\n    name: \"normalizer\",\n    yaml_path: \"yaml/craft-normalize.yml\",\n    parallel: 3,\n    read_only: \"true\",\n  },\n  {\n    name: \"crafter\",\n    yaml_path: \"pods/craft.yml\",\n    read_only: \"true\",\n  },\n  {\n    name: \"chunk_seg\",\n    yaml_path: \"pods/craft.yml\",\n    parallel: 3,\n  },\n];\n\nexport default dedaultPods;\n","import React from \"react\"\nimport SidebarItem from \"./SidebarItem\"\nimport defaultPods from \"../../data/defaultPods\"\nimport { Button, Card } from \"react-bootstrap\"\nimport { FlowArgument } from \"../../redux/flows/flows.types\"\nimport { Elements } from \"react-flow-renderer\"\n\nfunction ReadOnly({ duplicateFlow }: { duplicateFlow: () => void }) {\n  return (\n    <div className=\"readonly-overlay py-4 px-4 text-center\">\n      <h4 className=\"my-4\">\n        <b>\n          This flow is <span className=\"text-muted\">readonly</span>\n        </b>\n      </h4>\n      <p className=\"my-4\">To edit this flow, please duplicate it.</p>\n      <Button onClick={duplicateFlow}>Duplicate Flow</Button>\n    </div>\n  )\n}\n\nfunction PodMenu() {\n  return (\n    <div className=\"d-flex flex-column h-100\">\n      <h5 className=\"px-3 py-2 mb-0 border-bottom\">\n        <b>Add Pods</b>\n      </h5>\n      <div className=\"p-3 scrollable flex-fill\">\n        {defaultPods.map((pod, idx) => {\n          return (\n            <SidebarItem\n              label={pod.name || \"Empty Pod\"}\n              idx={idx}\n              key={idx}\n              properties={pod}\n            />\n          )\n        })}\n      </div>\n    </div>\n  )\n}\n\ntype FlowChartSidebarProps = {\n  readonly: boolean\n  elements: Elements\n  duplicateFlow: () => void\n  deleteSelection: () => void\n  arguments: FlowArgument[]\n}\n\nfunction FlowChartSidebar({ readonly, duplicateFlow }: FlowChartSidebarProps) {\n  return (\n    <Card className=\"flowchart-sidebar mb-4\">\n      {readonly ? <ReadOnly duplicateFlow={duplicateFlow} /> : <PodMenu />}\n    </Card>\n  )\n}\n\nexport default FlowChartSidebar\n","import ReactFlow, { Elements, isEdge, OnLoadParams } from \"react-flow-renderer\"\nimport React, { MouseEvent, useRef, useState } from \"react\"\nimport { Connection, Edge } from \"react-flow-renderer/dist/types\"\nimport { useDispatch, useSelector } from \"react-redux\"\nimport {\n  addLink,\n  addNode,\n  deleteLink,\n  deleteNode,\n  updateNode,\n} from \"../../redux/flows/flows.actions\"\nimport { isNode, Node } from \"react-flow-renderer\"\nimport ChartNode from \"./ChartNode\"\nimport { selectSelectedFlow } from \"../../redux/flows/flows.selectors\"\n\ntype Props = {\n  elements: Elements\n}\n\nconst nodeTypes = {\n  pod: ChartNode,\n  gateway: ChartNode,\n}\n\nexport default function FlowChart(props: Props) {\n  const dispatch = useDispatch()\n  const flow = useSelector(selectSelectedFlow)\n  const [\n    reactFlowInstance,\n    setReactFlowInstance,\n  ] = useState<OnLoadParams | null>(null)\n\n  const reactFlowWrapper = useRef<HTMLElement>(null)\n\n  const onConnect = (params: Edge | Connection) => {\n    if (params.source && params.target)\n      dispatch(addLink(params.source, params.target, null, null))\n  }\n\n  const onElementsRemove = (elements: Elements) => {\n    elements.forEach((element) => {\n      if (isEdge(element)) dispatch(deleteLink(element.id))\n      if (isNode(element)) dispatch(deleteNode(element.id))\n    })\n  }\n\n  const onLoad = (_reactFlowInstance: OnLoadParams) =>\n    setReactFlowInstance(_reactFlowInstance)\n\n  const onDragOver = (event: React.DragEvent<HTMLDivElement>) => {\n    event.preventDefault()\n    event.dataTransfer.dropEffect = \"move\"\n  }\n  const onDrop = (event: React.DragEvent<HTMLDivElement>) => {\n    event.preventDefault()\n    const reactFlowBounds =\n      reactFlowWrapper?.current?.getBoundingClientRect() || new DOMRect()\n    const data = JSON.parse(event.dataTransfer.getData(\"application/reactflow\"))\n    const position = reactFlowInstance?.project({\n      x: event.clientX - reactFlowBounds.left,\n      y: event.clientY - reactFlowBounds.top,\n    }) || { x: 0, y: 0 }\n    dispatch(addNode(data.label, position, data))\n  }\n\n  const onNodeDragStop = (event: MouseEvent, node: Node) => {\n    dispatch(updateNode(node.id, { position: node.position }))\n  }\n\n  return (\n    <div\n      className=\"reactflow-wrapper\"\n      ref={reactFlowWrapper as React.RefObject<HTMLDivElement>}\n      style={{ height: \"100%\", width: \"100%\" }}\n    >\n      <ReactFlow\n        elements={props.elements}\n        onConnect={onConnect}\n        onElementsRemove={onElementsRemove}\n        onLoad={onLoad}\n        onDrop={onDrop}\n        onDragOver={onDragOver}\n        onNodeDragStop={onNodeDragStop}\n        nodeTypes={nodeTypes}\n        nodesDraggable={flow.type !== \"example\"}\n      />\n    </div>\n  )\n}\n","import React, { useCallback, useState } from \"react\"\nimport { Card, Container, Row } from \"shards-react\"\nimport { PageTitle } from \"../components/Common/PageTitle\"\nimport FlowSelection from \"../components/FlowChart/FlowSelection\"\nimport {\n  duplicateFlow,\n  startFlow,\n  stopFlow,\n} from \"../redux/flows/flows.actions\"\nimport CommandBar from \"../components/FlowChart/CommandBar\"\n\nimport Sidebar from \"../components/FlowChart/Sidebar\"\nimport styled from \"@emotion/styled\"\nimport { useDispatch, useSelector } from \"react-redux\"\nimport {\n  selectFlowArguments,\n  selectSelectedFlow,\n  selectRerender,\n  selectSelectedFlowId,\n} from \"../redux/flows/flows.selectors\"\nimport { showModal } from \"../redux/global/global.actions\"\nimport logger from \"../logger\"\nimport { copyToClipboard, formatAsYAML } from \"../helpers\"\nimport html2canvas from \"html2canvas\"\nimport FlowChart from \"../components/FlowChart/FlowChart\"\nimport { Flow } from \"../redux/flows/flows.types\"\n\nconst FlowViewContainer = styled.div`\n  display: flex;\n  min-height: 58rem;\n`\n\nexport default function FlowView() {\n  const dispatch = useDispatch()\n  useState(useSelector(selectRerender))\n  const selectedFlowId = useSelector(selectSelectedFlowId)\n  const flowArguments = useSelector(selectFlowArguments)\n  const flow = useSelector(selectSelectedFlow) as Flow\n  const { flowChart, type: flowType } = flow\n\n  const copyChartAsYAML = useCallback(() => {\n    logger.log(\"copyChartAsYAML | chart:\", flowChart)\n    copyToClipboard(formatAsYAML(flowChart, flowArguments))\n    alert(\"Chart copied to clipboard as YAML\")\n  }, [flowChart, flowArguments])\n\n  const [showOverlay, setShowOverlay] = useState<boolean>(false)\n  //todo fix overlay\n  console.log(showOverlay)\n  const showCaptureOverlay = (showOverlay = true) => {\n    setShowOverlay(showOverlay)\n  }\n\n  const exportImage = (extension = \"png\") => {\n    const chartContainer = document.querySelector(\".chart-container\")\n    const captureOverlay = document.querySelector(\".capture-overlay\")\n    if (!chartContainer) return\n    if (captureOverlay) captureOverlay.classList.add(\"fade-out\")\n\n    showCaptureOverlay()\n    setTimeout(() => showCaptureOverlay(false), 500)\n\n    let canvasParams = {\n      foreignObjectRendering: true,\n      logging: true,\n      x: 0,\n      y: 0,\n      scrollX: 0,\n      scrollY: 0,\n      scale: 5,\n    }\n\n    html2canvas(chartContainer as HTMLElement, canvasParams).then((canvas) => {\n      var image = canvas.toDataURL(`image/${extension}`)\n      var link = document.getElementById(\"download-link\")\n      if (!link) return\n      link.setAttribute(\"download\", `jina-flow-visual.${extension}`)\n      link.setAttribute(\"href\", image)\n      link.click()\n    })\n  }\n\n  const handleDuplicateFlow = () => {\n    const flowYAML = formatAsYAML(flowChart, flowArguments)\n    dispatch(duplicateFlow(flowYAML))\n  }\n\n  return (\n    <Container fluid className=\"main-content-container px-0\">\n      <div className=\"px-4\">\n        <a href=\"/#\" id=\"download-link\" style={{ display: \"none\" }}>\n          download\n        </a>\n        <Row noGutters className=\"page-header mb-4\">\n          <PageTitle title=\"FlowChart Design\" className=\"text-sm-left mb-3\" />\n        </Row>\n\n        <FlowViewContainer>\n          <FlowSelection />\n\n          <Card className=\"chart-section-container mr-md-4 mb-4\">\n            <CommandBar\n              startFlow={() => dispatch(startFlow(selectedFlowId))}\n              stopFlow={() => dispatch(stopFlow(selectedFlowId))}\n              copyChart={copyChartAsYAML}\n              importChart={() => dispatch(showModal(\"import\"))}\n              exportImage={exportImage}\n            />\n\n            <FlowChart elements={flowChart.elements} />\n          </Card>\n\n          <Sidebar\n            arguments={flowArguments.pod}\n            duplicateFlow={handleDuplicateFlow}\n            readonly={flowType !== \"user-generated\"}\n            elements={flowChart.elements}\n            deleteSelection={() => {}}\n          />\n        </FlowViewContainer>\n      </div>\n    </Container>\n  )\n}\n","import React from \"react\"\nimport { Redirect } from \"react-router-dom\"\n\n// Layout Types\nimport { IconSidebar } from \"../layouts\"\n\n// Route Views\nimport { LogsView } from \"../views/LogsView\"\nimport TaskView from \"../views/TaskView\"\nimport Settings from \"../views/Settings\"\nimport HubView from \"../views/HubView\"\nimport PackageView from \"../views/PackageView\"\nimport LogIn from \"../views/LogIn\"\n\nimport NotFound from \"../views/NotFound\"\nimport NavigateButton from \"../components/Common/NavigateButton\"\nimport FlowView from \"../views/FlowView\"\n\nexport const dashboardRoutes = [\n  {\n    path: \"/\",\n    exact: true,\n    layout: IconSidebar,\n    component: () => <Redirect to=\"/logs\" />,\n  },\n  {\n    path: \"/logs\",\n    layout: IconSidebar,\n    component: LogsView,\n    props: {\n      usesConnection: true,\n      usesAuth: false,\n    },\n  },\n  {\n    path: \"/flow\",\n    layout: IconSidebar,\n    component: FlowView,\n    props: {\n      usesConnection: true,\n      usesAuth: false,\n    },\n  },\n  {\n    path: \"/task\",\n    layout: IconSidebar,\n    component: TaskView,\n    props: {\n      usesConnection: true,\n      usesAuth: false,\n    },\n  },\n  {\n    path: \"/settings\",\n    layout: IconSidebar,\n    component: Settings,\n    props: {\n      usesConnection: true,\n      usesAuth: false,\n    },\n  },\n  {\n    path: \"/help\",\n    layout: IconSidebar,\n    component: NotFound,\n    props: {\n      usesConnection: false,\n      usesAuth: false,\n    },\n  },\n  {\n    path: \"/home\",\n    layout: IconSidebar,\n    component: NotFound,\n    props: {\n      usesConnection: false,\n      usesAuth: false,\n    },\n  },\n  {\n    path: \"/hub\",\n    layout: IconSidebar,\n    component: HubView,\n    props: {\n      usesConnection: false,\n      usesAuth: true,\n    },\n  },\n  {\n    path: \"/package/:packageId\",\n    layout: IconSidebar,\n    component: PackageView,\n    props: {\n      navigateButton: () => (\n        <NavigateButton label={\"  Back\"} path={\"/hub/explore\"} />\n      ),\n    },\n  },\n  {\n    path: \"/login\",\n    layout: IconSidebar,\n    component: LogIn,\n    props: {\n      usesConnection: false,\n      usesAuth: true,\n    },\n  },\n]\n","export const { dashboardRoutes } = require(\"./Dashboard\");\nexport const { hubRoutes } = require(\"./Hub\");\n","import React from \"react\";\nimport GoogleAnalytics from \"react-ga\";\n\nGoogleAnalytics.initialize(process.env.REACT_APP_GAID || \"UA-164627626-1\");\n\nconst withTracker = (WrappedComponent: any, options = {}) => {\n  const trackPage = (page: any) => {\n    if (process.env.NODE_ENV !== \"production\") {\n      return;\n    }\n\n    GoogleAnalytics.set({\n      page,\n      ...options,\n    });\n    GoogleAnalytics.pageview(page);\n  };\n\n  const BASENAME = process.env.REACT_APP_BASENAME || \"\";\n\n  // eslint-disable-next-line\n  const HOC = class extends React.Component<any, any> {\n    componentDidMount() {\n      // eslint-disable-next-line\n      const page = this.props.location.pathname + this.props.location.search;\n      trackPage(`${BASENAME}${page}`);\n    }\n\n    componentDidUpdate(prevProps: any) {\n      const currentPage =\n        prevProps.location.pathname + prevProps.location.search;\n      const nextPage =\n        this.props.location.pathname + this.props.location.search;\n\n      if (currentPage !== nextPage) {\n        trackPage(`${BASENAME}${nextPage}`);\n      }\n    }\n\n    render() {\n      return <WrappedComponent {...this.props} />;\n    }\n  };\n\n  return HOC;\n};\n\nexport default withTracker;\n","import React from \"react\";\nimport { Container, Row, Col } from \"react-bootstrap\";\nimport { FallbackProps } from \"react-error-boundary\";\nimport { PageTitle } from \"../components/Common/PageTitle\";\nimport { Button } from \"shards-react\";\n\nfunction FallbackPage({ error, resetErrorBoundary }: FallbackProps) {\n  return (\n    <Container fluid className=\"main-content-container p-5\">\n      <Row noGutters className=\"page-header mb-4\">\n        <PageTitle\n          title=\"Error\"\n          subtitle=\"This should not have happened\"\n          className=\"text-sm-left my-3\"\n        />\n      </Row>\n      <Row noGutters className=\"page-header mb-4\">\n        <Col xs=\"12\" sm=\"3\">\n          <p>Something went wrong:</p>\n          <pre>\n            <code className=\"text-warning\">{error!.message}</code>\n          </pre>\n        </Col>\n      </Row>\n      <Row noGutters className=\"page-header\">\n        <Col>\n          <Button onClick={resetErrorBoundary}>Try again</Button>\n        </Col>\n      </Row>\n    </Container>\n  );\n}\n\nexport { FallbackPage };\n","import React from \"react\";\nimport { HashRouter as Router, Route } from \"react-router-dom\";\n\nimport { dashboardRoutes as routes } from \"../routes\";\nimport withTracker from \"../withTracker\";\n\nimport { ErrorBoundary } from \"react-error-boundary\";\nimport { FallbackPage } from \"../views/FallbackPage\";\n\nconst Dashboard = () => {\n  document.title = \"Jina Dashboard\";\n  return (\n    <Router basename={\"/\"}>\n      <div>\n        {routes.map((route: any, index: number) => {\n          return (\n            <Route\n              key={index}\n              path={route.path}\n              exact={route.exact}\n              component={withTracker((props: any) => {\n                return (\n                  <route.layout {...props} {...route.props}>\n                    <ErrorBoundary FallbackComponent={FallbackPage}>\n                      <route.component {...props} />\n                    </ErrorBoundary>\n                  </route.layout>\n                );\n              })}\n            />\n          );\n        })}\n      </div>\n    </Router>\n  );\n};\n\nexport { Dashboard };\n","import React from \"react\"\nimport ReactDOM from \"react-dom\"\nimport { ThemeProvider } from \"@emotion/react\"\nimport { Provider } from \"react-redux\"\nimport { theme } from \"./theme\"\nimport * as Sentry from \"@sentry/react\"\nimport { Integrations } from \"@sentry/tracing\"\n\nimport \"bootstrap/dist/css/bootstrap.min.css\"\n// Todo: Remove shards and associated styles when we stop using it\nimport \"./styles/shards-dashboards.scss\"\nimport \"./App.css\"\nimport store from \"./redux\"\n\nlet App\n\nif (process.env.REACT_APP_TARGET === \"hub\") {\n  const { Hub } = require(\"./apps/Hub\")\n  App = Hub\n} else if (process.env.REACT_APP_TARGET === \"styleguide\") {\n  const { Styleguide } = require(\"./apps/Styleguide\")\n  App = Styleguide\n} else {\n  const { Dashboard } = require(\"./apps/Dashboard\")\n  App = Dashboard\n}\n\nSentry.init({\n  dsn:\n    \"https://085edd94ec3e479cb20f2c65f7b8cb82@o525420.ingest.sentry.io/5639443\",\n  integrations: [new Integrations.BrowserTracing()],\n  tracesSampleRate: 1.0,\n})\n\nReactDOM.render(\n  // HOC to make theme available as a prop in all components\n  <ThemeProvider theme={theme}>\n    <Provider store={store}>\n      <App />\n    </Provider>\n  </ThemeProvider>,\n  document.getElementById(\"root\")\n)\n","const PERSIAN_GREEN = \"#009999\"\nconst GOLDEN_TANOI = \"#FFCC66\"\nconst BITTER_SWEET = \"#ff6666\"\nconst SCOOTER_GREEN = \"#32C8CD\"\nconst WHITE = \"#FFFFFF\"\nconst DADGREY = \"#DAD7FE\"\nconst SKY_DIVING_IN_THE_BLUE = \"#007AFF\"\nconst QUICK_SILVER = \"#A6A6A6\"\nconst HONEYBEE = \"#FFCC66\"\nconst BLACK = \"#000000\"\nconst BODY_BACKGROUND = \"#f5f6f8\"\n\nconst theme = {\n  palette: {\n    bodyBackground: BODY_BACKGROUND,\n    background: WHITE,\n    headerTextColor: BLACK,\n    primary: PERSIAN_GREEN,\n    secondary: GOLDEN_TANOI,\n    warning: GOLDEN_TANOI,\n    error: BITTER_SWEET,\n    success: SCOOTER_GREEN,\n    info: PERSIAN_GREEN,\n    critical: \"#ff4540\",\n    debug: \"#7E7278\",\n    tagBackground: DADGREY,\n    tagPlatformBackground: HONEYBEE,\n    mutedText: QUICK_SILVER,\n    highlight: SKY_DIVING_IN_THE_BLUE,\n  },\n}\n\nexport { theme }\n","import { GlobalState, TNavItem } from \"./global.types\";\n\nexport const HANDLE_CONNECTION_STATUS = \"HANDLE_CONNECTION_STATUS\";\nexport const TOGGLE_SIDE_BAR = \"TOGGLE_SIDE_BAR\";\nexport const SHOW_BANNER = \"SHOW_BANNER\";\nexport const HIDE_BANNER = \"HIDE_BANNER\";\nexport const SHOW_ERROR = \"SHOW_ERROR\";\nexport const SHOW_MODAL = \"SHOW_MODAL\";\nexport const CLOSE_MODAL = \"CLOSE_MODAL\";\nexport const CONNECT_JINAD = \"CONNECT_JINAD\";\nexport const FETCH_ARGUMENTS_FROM_API = \"FETCH_ARGUMENTS_FROM_API\";\nexport const FETCH_ARGUMENTS_FROM_DAEMON = \"FETCH_ARGUMENTS_FROM_DAEMON\";\n\nexport const HIDE_BANNER_TIMEOUT = 5000;\n\nconst navItems: TNavItem[] = [\n  {\n    title: \"Home\",\n    to: \"/home\",\n    iconName: \"home\",\n    matches: [\"home\"],\n  },\n  {\n    title: \"Log Stream\",\n    to: \"/logs\",\n    iconName: \"insert_comment\",\n    matches: [\"logs\"],\n  },\n  {\n    title: \"Flow Design\",\n    to: \"/flow\",\n    iconName: \"device_hub\",\n    matches: [\"flow\"],\n  },\n  {\n    title: \"Hub\",\n    to: \"/hub\",\n    iconName: \"store\",\n    matches: [\"hub\", \"package\"],\n  },\n  {\n    title: \"Settings\",\n    to: \"/settings\",\n    iconName: \"settings\",\n    matches: [\"settings\"],\n  },\n  {\n    title: \"Help\",\n    to: \"/help\",\n    iconName: \"help\",\n    matches: [\"help\"],\n  },\n];\n\nexport const initialGlobalState: GlobalState = {\n  user: null,\n  banner: null,\n  connected: false,\n  currentTab: \"logStream\",\n  loading: true,\n  menuVisible: false,\n  modal: null,\n  modalParams: null,\n  navItems,\n  processes: {},\n};\n","import React from \"react\";\n\nfunction NavbarSpacer() {\n  return (\n    <div className=\"main-navbar__search w-100 d-none d-md-flex d-lg-flex\"></div>\n  );\n}\n\nexport { NavbarSpacer };\n","import React from \"react\";\n// @ts-ignore\nimport { NavItem, NavLink, Badge } from \"shards-react\";\n\ntype Props = {\n  connected?: boolean;\n  reconnect?: () => void;\n};\n\nfunction ConnectionIndicator({ connected, reconnect }: Props) {\n  return (\n    <NavItem\n      className=\"dropdown notifications\"\n      onClick={reconnect}\n    >\n      <NavLink className=\"nav-link-icon text-center\">\n        <div className=\"nav-link-icon__wrapper\">\n          <i className=\"material-icons\">language</i>\n          {connected ? (\n            <Badge pill theme=\"success\" className=\"connection-indicator p-1\">\n              <i className=\"material-icons\">done</i>\n            </Badge>\n          ) : (\n            <Badge pill theme=\"danger\" className=\"connection-indicator p-1\">\n              <i className=\"material-icons\">close</i>\n            </Badge>\n          )}\n        </div>\n      </NavLink>\n    </NavItem>\n  );\n}\n\nexport { ConnectionIndicator };\n","import React from \"react\";\n// @ts-ignore\nimport { NavbarBrand } from \"shards-react\";\n\nfunction NavLogo() {\n  return (\n    <NavbarBrand href=\"#\" style={{ lineHeight: \"25px\" }}>\n      <div className=\"d-table m-auto\">\n        <img\n          id=\"main-logo\"\n          className=\"d-inline-block align-top mr-1 ml-3\"\n          style={{ maxWidth: \"25px\" }}\n          src=\"/icon.png\"\n          alt=\"Jina\"\n        />\n      </div>\n    </NavbarBrand>\n  );\n}\n\nexport { NavLogo };\n","import React from \"react\";\nimport { Container, Navbar, Nav } from \"shards-react\";\nimport { NavbarSpacer } from \"./NavbarSpacer\";\nimport { ConnectionIndicator } from \"./ConnectionIndicator\";\nimport { NavLogo } from \"./NavLogo\";\n\nexport type User = {\n  displayName: string;\n  emails: [{ value: string }];\n  id: string;\n  nodeId: string;\n  photos: [{ value: string }];\n  profileUrl: string;\n  provider: string;\n  username: string;\n  _json: any;\n  _raw: any;\n};\n\ntype Props = {\n  usesAuth: boolean;\n  usesConnection: boolean;\n  connected?: boolean;\n  logOut: () => void;\n  toggleSidebar?: () => void;\n  reconnect?: () => void;\n  user: User | null;\n  hideSidebarToggle?: boolean;\n  showLogo?: boolean;\n  navigateButton?: () => React.ReactNode;\n};\n\nfunction MainNavbar({\n  usesConnection,\n  toggleSidebar,\n  reconnect,\n  connected,\n  showLogo,\n  navigateButton,\n}: Props) {\n  return (\n    <div className=\"main-navbar\">\n      <Container fluid className=\"p-0\">\n        <Navbar\n          type=\"light\"\n          className=\"align-items-stretch flex-md-nowrap p-0 px-2\"\n        >\n          {showLogo && <NavLogo />}\n          {navigateButton && navigateButton()}\n          <NavbarSpacer />\n          <Nav navbar className=\"flex-row\">\n            {usesConnection && (\n              <ConnectionIndicator\n                reconnect={reconnect}\n                connected={connected}\n              />\n            )}\n          </Nav>\n        </Navbar>\n      </Container>\n    </div>\n  );\n}\n\nexport { MainNavbar };\n","import React from \"react\";\nimport { Navbar, NavbarBrand } from \"shards-react\";\n\ntype Props = {\n  toggleSidebar: () => void;\n};\n\nconst SidebarMainNavbar = ({ toggleSidebar }: Props) => {\n  return (\n    <div className=\"main-navbar\">\n      <Navbar\n        className=\"align-items-stretch bg-white flex-md-nowrap p-0\"\n        type=\"light\"\n      >\n        <NavbarBrand\n          className=\"w-100 mr-0\"\n          href=\"#\"\n          style={{ lineHeight: \"25px\" }}\n        >\n          <div className=\"d-table m-auto\">\n            <img\n              id=\"main-logo\"\n              className=\"d-inline-block align-top\"\n              style={{ maxWidth: \"50px\" }}\n              src=\"/jina-light.svg\"\n              alt=\"Jina Dashboard\"\n            />\n          </div>\n        </NavbarBrand>\n        <span\n          className=\"toggle-sidebar d-sm-inline d-md-none d-lg-none\"\n          onClick={toggleSidebar}\n        >\n          <i className=\"material-icons\">&#xE5C4;</i>\n        </span>\n      </Navbar>\n    </div>\n  );\n};\n\nexport default SidebarMainNavbar;\n","import React from \"react\";\nimport { NavLink as RouteNavLink, useLocation } from \"react-router-dom\";\nimport { NavItem, NavLink } from \"shards-react\";\nimport { TNavItem } from \"../../../redux/global/global.types\";\n\ntype Props = {\n  item: TNavItem;\n  toggleSidebar: () => void;\n};\n\nconst SidebarNavItem = ({ item, toggleSidebar }: Props) => {\n  const path = useLocation()?.pathname?.substring(1);\n  let active = false;\n  item.matches.forEach((match) => {\n    if (path === match) active = true;\n  });\n\n  return (\n    <NavItem style={{ position: \"relative\" }}>\n      <NavLink\n        tag={RouteNavLink}\n        to={item.to}\n        active={active}\n        onClick={toggleSidebar}\n      >\n        {item.iconName && (\n          <div className=\"d-inline-block item-icon-wrapper\">\n            <i className=\"material-icons\">{item.iconName}</i>\n          </div>\n        )}\n        {item.title && <span>{item.title}</span>}\n      </NavLink>\n    </NavItem>\n  );\n};\n\nexport default SidebarNavItem;\n","import React from \"react\";\nimport { Nav } from \"shards-react\";\n\nimport SidebarNavItem from \"./SidebarNavItem\";\nimport { TNavItem } from \"../../../redux/global/global.types\";\n\ntype Props = {\n  navItems: TNavItem[];\n  toggleSidebar: () => void;\n};\n\nconst SidebarNavItems = ({ navItems: items, toggleSidebar }: Props) => {\n  return (\n    <div className=\"nav-wrapper\">\n      {typeof items !== \"undefined\" && items.length && (\n        <Nav className=\"nav--no-borders flex-column\">\n          {items.map((item, idx) => (\n            <SidebarNavItem\n              key={idx}\n              item={item}\n              toggleSidebar={toggleSidebar}\n            />\n          ))}\n        </Nav>\n      )}\n    </div>\n  );\n};\n\nexport default SidebarNavItems;\n","import React from \"react\";\nimport classNames from \"classnames\";\nimport { Col } from \"shards-react\";\n\nimport SidebarMainNavbar from \"./SidebarMainNavbar\";\nimport SidebarNavItems from \"./SidebarNavItems\";\nimport { TNavItem } from \"../../../redux/global/global.types\";\n\ntype Props = {\n  menuVisible: boolean;\n  sidebarNavItems: TNavItem[];\n  toggleSidebar: () => void;\n};\n\nfunction MainSidebar({ menuVisible, sidebarNavItems, toggleSidebar }: Props) {\n  const classes = classNames(\n    \"main-sidebar\",\n    \"px-0\",\n    \"col-12\",\n    menuVisible && \"open\"\n  );\n\n  return (\n    <Col tag=\"aside\" className={classes} lg={{ size: 2 }} md={{ size: 3 }}>\n      <SidebarMainNavbar toggleSidebar={toggleSidebar} />\n      <SidebarNavItems\n        navItems={sidebarNavItems}\n        toggleSidebar={toggleSidebar}\n      />\n    </Col>\n  );\n}\n\nexport default MainSidebar;\n","import React from \"react\";\nimport { Container, Row, Nav } from \"shards-react\";\n\ntype MenuItems = {\n  title: string;\n  to: string;\n};\n\ntype Props = {\n  menuItems: MenuItems[];\n  copyright: string;\n  loggerEnabled: boolean;\n  enableLogger: () => void;\n  disableLogger: () => void;\n  exportLogs: () => void;\n};\n\nconst MainFooter = ({\n  menuItems,\n  copyright,\n  loggerEnabled,\n  enableLogger,\n  disableLogger,\n  exportLogs,\n}: Props) => (\n  <footer className=\"main-footer d-flex p-2 px-3\">\n    <Container fluid>\n      <Row>\n        <Nav>\n          {menuItems.map((item, idx) => (\n            <a key={idx} href={item.to} className=\"nav-link\">\n              {item.title}\n            </a>\n          ))}\n          {loggerEnabled ? (\n            <>\n              <span\n                className=\"nav-link text-warning cursor-pointer\"\n                onClick={disableLogger}\n              >\n                Exit Debug Mode\n              </span>\n              <span\n                className=\"nav-link text-warning cursor-pointer\"\n                onClick={exportLogs}\n              >\n                Export Debug Data\n              </span>\n            </>\n          ) : (\n            <span\n              className=\"nav-link text-warning cursor-pointer\"\n              onClick={enableLogger}\n            >\n              Debug Mode\n            </span>\n          )}\n        </Nav>\n        <span className=\"copyright ml-auto my-auto mr-2\">{copyright}</span>\n      </Row>\n    </Container>\n  </footer>\n);\n\nMainFooter.defaultProps = {\n  contained: false,\n  copyright: \"Copyright  Jina AI Limited\",\n  menuItems: [\n    {\n      title: \"Home\",\n      to: \"https://jina.ai\",\n    },\n    {\n      title: \"Open Source\",\n      to: \"https://opensource.jina.ai\",\n    },\n    {\n      title: \"Learn\",\n      to: \"https://docs.jina.ai\",\n    },\n    {\n      title: \"Community\",\n      to: \"https://twitter.com/JinaAI_\",\n    },\n    {\n      title: \"Jobs\",\n      to: \"https://www.linkedin.com/company/jinaai/jobs/\",\n    },\n    {\n      title: \"Privacy & Terms\",\n      to: \"https://github.com/jina-ai/legal\",\n    },\n  ],\n};\n\nexport default MainFooter;\n","import React from \"react\";\nimport { Button } from \"react-bootstrap\";\n\ntype Props = {\n  acceptCookies: () => void;\n};\n\nfunction CookiesBanner({ acceptCookies }: Props) {\n  return (\n    <div className=\"cookies-banner\">\n      <p className=\"mb-2\">\n        We and third parties use cookies or similar technologies (\"Cookies\") as\n        described below to collect and process personal data, such as your IP\n        address or browser information. You can learn more about how this site\n        uses Cookies by reading our privacy policy linked below. By clicking \"I\n        consent to cookies\", you accept the placement and use of these Cookies\n        for these purposes. You can change your mind and revisit your\n        preferences at any time by accessing the Cookie Preferences link in\n        the footer of this site.\n      </p>\n      <Button className=\"ml-auto d-block\" onClick={acceptCookies}>\n        I consent to cookies\n      </Button>\n    </div>\n  );\n}\n\nexport { CookiesBanner };\n","import React from \"react\";\nimport { Toast } from \"react-bootstrap\";\nimport { Banner } from \"../../redux/global/global.types\";\n\ntype Props = {\n  data: Banner;\n};\n\nfunction getIcon(theme: string) {\n  if (theme === \"success\")\n    return <i className=\"material-icons mr-1\">check_circle_outline</i>;\n  else if (theme === \"error\")\n    return <i className=\"material-icons mr-1\">cerror_outline</i>;\n  return <i className=\"material-icons mr-1\">warning</i>;\n}\n\nfunction InfoToast({ data }: Props) {\n  if (!data) return null;\n  const icon = getIcon(data.theme);\n  return (\n    <div\n      data-name=\"connection-notification-online\"\n      className=\"notifications-container\"\n    >\n      <Toast className={`toast-${data.theme} text-white`}>\n        <Toast.Header className=\"text-white\" closeButton={false}>\n          <strong className=\"mr-auto\">\n            {icon}\n            <span className=\"text-uppercase\">{data.theme}</span>\n          </strong>\n        </Toast.Header>\n        <Toast.Body className=\"text-white\">{data.message}</Toast.Body>\n      </Toast>\n    </div>\n  );\n}\n\nexport { InfoToast };\n","import React from \"react\";\nimport { Toast, Button, Row, Col } from \"react-bootstrap\";\n\ntype Props = {\n  reconnect: () => void;\n};\n\nfunction ConnectionToast({ reconnect }: Props) {\n  return (\n    <div\n      className=\"notifications-container\"\n      data-name=\"connection-notification-offline\"\n    >\n      <Toast className=\"bg-warning\">\n        <Toast.Header className=\"bg-warning text-white\" closeButton={false}>\n          <strong className=\"mr-auto\">\n            <i className=\"material-icons mr-1\">warning</i>Could not connect to\n            Jina instance\n          </strong>\n        </Toast.Header>\n        <Toast.Body className=\"text-white\">\n          <Row>\n            <Col xs=\"6\" className=\"pr-2\">\n              <a\n                href=\"https://github.com/jina-ai/dashboard#getting-started\"\n                target=\"_blank\"\n                rel=\"noopener noreferrer\"\n                className=\"mr-2\"\n              >\n                <Button variant=\"light\" className=\"w-100\">\n                  <i className=\"material-icons mr-1\">text_snippet</i>View Docs\n                </Button>\n              </a>\n            </Col>\n            <Col xs=\"6\" className=\"pl-2\">\n              <Button variant=\"primary\" className=\"w-100\" onClick={reconnect}>\n                <i className=\"material-icons mr-1\">refresh</i>Refresh\n              </Button>\n            </Col>\n          </Row>\n        </Toast.Body>\n      </Toast>\n    </div>\n  );\n}\n\nexport { ConnectionToast };\n","import React from \"react\";\nimport { Button, Form } from \"react-bootstrap\";\nimport ReactModal, { Styles } from \"react-modal\";\nconst style: Styles = {\n  overlay: {\n    backgroundColor: \"rgba(38, 50, 56, 0.5)\",\n  },\n  content: {\n    border: \"none\",\n    bottom: \"auto\",\n    maxHeight: \"80%\", // set height\n    left: \"50%\",\n    padding: \"2rem\",\n    position: \"fixed\",\n    right: \"auto\",\n    top: \"50%\", // start from center\n    transform: \"translate(-50%,-50%)\", // adjust top \"up\" based on height\n    width: \"90%\",\n    maxWidth: \"800px\",\n    overflow: \"hidden\",\n  },\n};\n\ntype Props = {\n  open: boolean;\n  closeModal: () => void;\n  importYAML: (yamlString: string) => void;\n};\n\nconst PasteYAML = ({ open, closeModal, importYAML }: Props) => {\n  let inputRef: any;\n  return (\n    <ReactModal\n      ariaHideApp={false}\n      isOpen={open}\n      contentLabel=\"Action Modal\"\n      className=\"modal-content tiny-modal px-4 pt-3 pb-4\"\n      shouldCloseOnOverlayClick={true}\n      style={style}\n      onRequestClose={closeModal}\n      closeTimeoutMS={100}\n    >\n      <div className=\"modal-header p-0\">\n        <h4>\n          <b>Import YAML</b>\n        </h4>\n        <h4>\n          <span className=\"float-right close-icon\">\n            <i className=\"material-icons\" onClick={closeModal}>\n              close\n            </i>\n          </span>\n        </h4>\n      </div>\n      <div className=\"modal-body px-0 pb-0\">\n        <Form.Group>\n          <Form.Label>Custom YAML:</Form.Label>\n          <Form.Control\n            placeholder=\"Paste Here\"\n            ref={(ref: any) => (inputRef = ref)}\n            as=\"textarea\"\n            rows={10}\n          />\n        </Form.Group>\n      </div>\n      <Button\n        className=\"btn-primary\"\n        onClick={() => importYAML(inputRef.value)}\n      >\n        Continue\n      </Button>\n    </ReactModal>\n  );\n};\n\nexport default PasteYAML;\n","import React from \"react\";\nimport { Button, Form } from \"react-bootstrap\";\nimport ReactModal, { Styles } from \"react-modal\";\n\nconst style: Styles = {\n  overlay: {\n    backgroundColor: \"rgba(38, 50, 56, 0.5)\",\n  },\n  content: {\n    border: \"none\",\n    bottom: \"auto\",\n    maxHeight: \"80%\", // set height\n    left: \"50%\",\n    padding: \"2rem\",\n    position: \"fixed\",\n    right: \"auto\",\n    top: \"50%\", // start from center\n    transform: \"translate(-50%,-50%)\", // adjust top \"up\" based on height\n    width: \"90%\",\n    maxWidth: \"800px\",\n    overflow: \"hidden\",\n  },\n};\n\ntype Props = {\n  open: boolean;\n  closeModal: () => void;\n  submitReview: (content: any) => void;\n};\n\nconst WriteReviewModal = ({ open, closeModal, submitReview }: Props) => {\n  let inputRef: any;\n  return (\n    <ReactModal\n      ariaHideApp={false}\n      isOpen={open}\n      contentLabel=\"Action Modal\"\n      className=\"modal-content tiny-modal px-4 pt-3 pb-4\"\n      shouldCloseOnOverlayClick={true}\n      style={style}\n      onRequestClose={closeModal}\n      closeTimeoutMS={100}\n    >\n      <div className=\"modal-header p-0\">\n        <h4>\n          <b>Write a Review</b>\n        </h4>\n        <h4>\n          <span className=\"float-right close-icon\">\n            <i className=\"material-icons\" onClick={closeModal}>\n              close\n            </i>\n          </span>\n        </h4>\n      </div>\n      <div className=\"modal-body px-0 pb-0\">\n        <Form.Group>\n          <Form.Control\n            placeholder=\"Tell the world about your experience\"\n            ref={(ref: any) => (inputRef = ref)}\n            as=\"textarea\"\n            rows={10}\n          />\n        </Form.Group>\n      </div>\n      <Button\n        className=\"btn-primary\"\n        onClick={() => submitReview(inputRef.value)}\n      >\n        Submit\n      </Button>\n    </ReactModal>\n  );\n};\n\nexport default WriteReviewModal;\n","import React from \"react\";\nimport ReactModal, { Styles } from \"react-modal\";\nimport { Row, Col } from \"react-bootstrap\";\n\nconst style: Styles = {\n  overlay: {\n    backgroundColor: \"rgba(38, 50, 56, 0.5)\",\n  },\n  content: {\n    border: \"none\",\n    bottom: \"auto\",\n    maxHeight: \"80%\", // set height\n    left: \"50%\",\n    padding: \"2rem\",\n    position: \"fixed\",\n    right: \"auto\",\n    top: \"50%\", // start from center\n    transform: \"translate(-50%,-50%)\", // adjust top \"up\" based on height\n    width: \"90%\",\n    maxWidth: \"800px\",\n    overflow: \"hidden\",\n  },\n};\n\nconst hiddenKeys = [\"message\", \"unixTime\"];\n\ntype Props = {\n  open: boolean;\n  closeModal: () => void;\n  modalParams: any;\n};\n\nconst LogDetails = ({ open, closeModal, modalParams }: Props) => {\n  const log = modalParams?.log || {};\n  return (\n    <ReactModal\n      ariaHideApp={false}\n      isOpen={open}\n      contentLabel=\"Action Modal\"\n      className=\"modal-content tiny-modal px-4 pt-3 pb-4\"\n      shouldCloseOnOverlayClick={true}\n      style={style}\n      onRequestClose={closeModal}\n      closeTimeoutMS={100}\n    >\n      <div className=\"modal-header p-0\">\n        <h4>\n          <b>Log Details</b>\n        </h4>\n        <h4>\n          <span className=\"float-right close-icon\">\n            <i className=\"material-icons\" onClick={closeModal}>\n              close\n            </i>\n          </span>\n        </h4>\n      </div>\n      <div className=\"modal-body px-0 pb-0 pt-1\">\n        <Row className=\"px-3\">\n          <Col xs=\"3\" className=\"border-bottom pb-1 px-0\">\n            <span className=\"text-bold\">msg</span>\n          </Col>\n          <Col xs=\"9\" className=\"border-bottom pb-1 px-0\">\n            {log.message}\n          </Col>\n        </Row>\n        {Object.entries(log)\n          .filter(([key, value]) => !hiddenKeys.includes(key))\n          .map(([key, value]) =>\n            key === \"message\" ? (\n              \"\"\n            ) : (\n              <Row className=\"px-3\" key={key}>\n                <Col xs=\"3\" className=\"border-bottom pb-1 px-0\">\n                  <span className=\"text-bold\">{key}</span>\n                </Col>\n                <Col xs=\"9\" className=\"border-bottom pb-1 px-0\">\n                  {JSON.stringify(value)}\n                </Col>\n              </Row>\n            )\n          )}\n      </div>\n    </ReactModal>\n  );\n};\n\nexport default LogDetails;\n","import React from \"react\"\nimport ReactModal, { Styles } from \"react-modal\"\nimport styled from \"@emotion/styled\"\nimport { useDispatch, useSelector } from \"react-redux\"\nimport { closeModal, showModal } from \"../redux/global/global.actions\"\nimport { createNewFlow, duplicateFlow } from \"../redux/flows/flows.actions\"\nimport { selectExampleFlowsKeyEntryPairs } from \"../redux/flows/flows.selectors\"\n\nconst style: Styles = {\n  overlay: {\n    backgroundColor: \"rgba(38, 50, 56, 0.5)\",\n  },\n  content: {\n    backgroundColor: \"#EBE8E8\",\n    border: \"none\",\n    bottom: \"auto\",\n    maxHeight: \"80%\", // set height\n    left: \"50%\",\n    position: \"fixed\",\n    right: \"auto\",\n    top: \"50%\", // start from center\n    transform: \"translate(-50%,-50%)\", // adjust top \"up\" based on height\n    maxWidth: \"44rem\",\n    overflow: \"hidden\",\n  },\n}\n\nconst CloseModal = styled.div`\n  cursor: pointer;\n  margin: 0;\n  padding: 0;\n  font-size: 2rem;\n  color: #ffffff;\n  float: right;\n  line-height: 100%;\n`\nconst CreateOptionsContainer = styled.div`\n  display: flex;\n  flex-wrap: wrap;\n  padding: 0 1rem 0 1rem;\n  margin-bottom: 1rem;\n`\n\nconst CreateOption = styled.div`\n  cursor: pointer;\n  background-color: #ffffff;\n  width: 12rem;\n  height: 12rem;\n  margin: 0.5rem;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n`\nconst CreateOptionAdd = () => {\n  return (\n    <i\n      style={{\n        fontSize: \"6rem\",\n        color: \"#C4C4C4\",\n        marginBottom: \"-1rem\",\n      }}\n      className=\"material-icons\"\n    >\n      add\n    </i>\n  )\n}\n\nconst OptionName = styled.span`\n  color: black;\n  font-size: 18px;\n  font-weight: 600;\n  text-align: center;\n`\n\ntype Props = {\n  open: boolean\n}\n\ntype NewFlowAction =\n  | \"close\"\n  | \"create empty\"\n  | \"create from yaml\"\n  | \"create from template\"\n\nconst NewFlow = ({ open }: Props) => {\n  const dispatch = useDispatch()\n\n  const exampleFlowsKeyEntryPairs = useSelector(selectExampleFlowsKeyEntryPairs)\n\n  const handleAction = (action: NewFlowAction, yaml?: string) => {\n    switch (action) {\n      case \"close\":\n        dispatch(closeModal())\n        break\n      case \"create from yaml\":\n        dispatch(showModal(\"import\"))\n        break\n      case \"create from template\":\n        if (yaml) dispatch(duplicateFlow(yaml))\n        dispatch(closeModal())\n        break\n      case \"create empty\":\n        dispatch(createNewFlow())\n        dispatch(closeModal())\n        break\n    }\n  }\n\n  return (\n    <ReactModal\n      ariaHideApp={false}\n      isOpen={open}\n      contentLabel=\"Action Modal\"\n      className=\"modal-content tiny-modal px-4 pt-3 pb-4\"\n      shouldCloseOnOverlayClick={true}\n      style={style}\n      onRequestClose={() => handleAction(\"close\")}\n      closeTimeoutMS={100}\n    >\n      <div>\n        <CloseModal onClick={() => handleAction(\"close\")}>\n          <i className=\"material-icons\" onClick={closeModal}>\n            close\n          </i>\n        </CloseModal>\n      </div>\n\n      <CreateOptionsContainer>\n        <CreateOption onClick={() => handleAction(\"create empty\")}>\n          <CreateOptionAdd />\n          <OptionName>empty flow</OptionName>\n        </CreateOption>\n\n        <CreateOption onClick={() => handleAction(\"create from yaml\")}>\n          <CreateOptionAdd />\n          <OptionName>from yaml</OptionName>\n        </CreateOption>\n\n        {exampleFlowsKeyEntryPairs.map((exampleFlowsKeyEntryPair, idx) => (\n          <CreateOption\n            key={idx}\n            onClick={() =>\n              handleAction(\n                \"create from template\",\n                exampleFlowsKeyEntryPair[1].yaml\n              )\n            }\n          >\n            <OptionName>{exampleFlowsKeyEntryPair[1].name}</OptionName>\n          </CreateOption>\n        ))}\n      </CreateOptionsContainer>\n    </ReactModal>\n  )\n}\n\nexport default NewFlow\n","import styled from \"@emotion/styled\"\nimport { useDispatch, useSelector } from \"react-redux\"\nimport {\n  selectFlowArguments,\n  selectSelectedFlow,\n} from \"../redux/flows/flows.selectors\"\nimport React, { useEffect, useState } from \"react\"\nimport { ModalParams } from \"../redux/global/global.types\"\nimport ReactModal, { Styles } from \"react-modal\"\nimport {\n  deleteNode,\n  rerender,\n  updateNode,\n  updateNodeProperties,\n} from \"../redux/flows/flows.actions\"\nimport { Button } from \"react-bootstrap\"\nimport { NodeDataUpdate } from \"../redux/flows/flows.types\"\n\nconst style: Styles = {\n  overlay: {\n    backgroundColor: \"rgba(38, 50, 56, 0.5)\",\n  },\n  content: {\n    border: \"none\",\n    bottom: \"auto\",\n    left: \"50%\",\n    position: \"fixed\",\n    right: \"auto\",\n    top: \"50%\", // start from center\n    transform: \"translate(-50%,-50%)\", // adjust top \"up\" based on height\n    maxWidth: \"30rem\",\n    overflow: \"hidden\",\n    display: \"flex\",\n    alignItems: \"center\",\n    justifyContent: \"center\",\n  },\n}\n\nconst PodEditContainer = styled.div`\n  width: 25rem;\n  margin-right: -1rem;\n`\n\nconst Header1 = styled.header`\n  font-weight: 600;\n  font-size: 30px;\n  color: #009999;\n  margin-bottom: 0.5rem;\n`\n\nconst Header2 = styled.header`\n  font-weight: 600;\n  font-size: 20px;\n  color: #009999;\n  margin-bottom: 0.5rem;\n`\n\nconst PropertyTable = styled.div`\n  width: 104%;\n  margin-bottom: 1rem;\n  border: 0;\n  overflow: hidden;\n  overflow-y: scroll;\n  height: 20rem;\n  border-radius: 0.25em;\n\n  ::-webkit-scrollbar {\n    width: 1rem;\n  }\n\n  ::-webkit-scrollbar * {\n    background: transparent;\n  }\n\n  ::-webkit-scrollbar-thumb {\n    background: #099 !important;\n    border-radius: 1rem;\n  }\n`\nconst Input = styled.input`\n  width: 97%;\n  background: #f1f3f4;\n  border-radius: 5px;\n  padding: 0.5em;\n  border: 0;\n  margin-bottom: 0.5rem;\n`\n\nconst DeleteButton = styled(Button)`\n  width: 97%;\n`\n\ntype Props = {\n  open: boolean\n  closeModal: () => void\n  modalParams: ModalParams\n}\n\nfunction PodEditComponent({ open, closeModal, modalParams }: Props) {\n  const nodeId = modalParams?.nodeId || \"\"\n  const flowChart = useSelector(selectSelectedFlow)\n  const flowArguments = useSelector(selectFlowArguments)\n  const node = flowChart.flowChart.elements.find(\n    (element) => element.id === nodeId\n  )\n  const [searchQuery, setSearchQuery] = useState(\"\")\n  const [filteredArguments, setFilteredArguments] = useState(flowArguments.pod)\n  const dispatch = useDispatch()\n\n  useEffect(() => {\n    const results = flowArguments.pod.filter((argument: any) =>\n      argument.name.toLowerCase().includes(searchQuery.toLowerCase())\n    )\n    setFilteredArguments(results)\n  }, [searchQuery, flowArguments])\n\n  const _updateLabel = (label: string) => {\n    if (node?.id) {\n      const nodeUpdate = { data: { label } }\n      dispatch(updateNode(node.id, nodeUpdate))\n      dispatch(rerender())\n    }\n  }\n  const _updateNodeProp = (name: string, value: string) => {\n    if (node?.id) {\n      const nodePropertiesUpdate: NodeDataUpdate = { [name]: value }\n      dispatch(updateNodeProperties(node.id, nodePropertiesUpdate))\n    }\n  }\n  const _deleteNode = () => {\n    if (node?.id) {\n      dispatch(deleteNode(node.id))\n      closeModal()\n      dispatch(rerender())\n    }\n  }\n\n  const label = node?.data?.label || node?.data?.name || \"Empty Pod\"\n  console.log(\"node\")\n  console.log(node)\n\n  return (\n    <ReactModal\n      ariaHideApp={false}\n      isOpen={open}\n      contentLabel=\"Action Modal\"\n      className=\"modal-content tiny-modal px-4 pt-3 pb-4\"\n      shouldCloseOnOverlayClick={true}\n      onRequestClose={closeModal}\n      closeTimeoutMS={100}\n      style={style}\n    >\n      <PodEditContainer>\n        <Header1>pods name</Header1>\n\n        <Input\n          value={label}\n          onChange={(e: { target: { value: string } }) =>\n            _updateLabel(e.target.value)\n          }\n          className=\"pod-name-input\"\n        />\n\n        <Header1>properties</Header1>\n\n        <Input\n          placeholder=\"search properties...\"\n          value={searchQuery}\n          onChange={(e) => setSearchQuery(e.target.value)}\n        />\n        <PropertyTable>\n          {filteredArguments.map((argument) => {\n            const { name, type } = argument\n            return (\n              <>\n                <Header2>{name}</Header2>\n                <Input\n                  placeholder={type}\n                  type={type === \"integer\" ? \"number\" : \"text\"}\n                  value={node?.data ? node?.data[name] : \"\"}\n                  onChange={(e) => _updateNodeProp(name, e.target.value)}\n                  className=\"property-value-input\"\n                />\n              </>\n            )\n          })}\n        </PropertyTable>\n\n        <DeleteButton variant=\"danger\" onClick={_deleteNode}>\n          Delete Pod\n        </DeleteButton>\n      </PodEditContainer>\n    </ReactModal>\n  )\n}\n\nexport default PodEditComponent\n","export const globalArguments = {\n  rest_api: {\n    name: \"rest_api\",\n    description: \"Whether to enable REST interface\",\n    type: \"boolean\",\n  },\n  port_expose: {\n    name: \"port_expose\",\n    description: \"Which port to expose gRPC or REST interface\",\n    type: \"integer\",\n  },\n}\n","import styled from \"@emotion/styled/macro\"\nimport { useDispatch, useSelector } from \"react-redux\"\nimport {\n  selectSelectedFlow,\n  selectSelectedFlowId,\n} from \"../redux/flows/flows.selectors\"\nimport React from \"react\"\nimport { ModalParams } from \"../redux/global/global.types\"\nimport ReactModal, { Styles } from \"react-modal\"\nimport {\n  deleteFlow,\n  rerender,\n  updateSelectedFlow,\n} from \"../redux/flows/flows.actions\"\nimport { Button } from \"react-bootstrap\"\nimport { globalArguments } from \"../data/globalArguments\"\nimport { FlowUpdate } from \"../redux/flows/flows.types\"\n\nconst style: Styles = {\n  overlay: {\n    backgroundColor: \"rgba(38, 50, 56, 0.5)\",\n  },\n  content: {\n    border: \"none\",\n    bottom: \"auto\",\n    left: \"50%\",\n    position: \"fixed\",\n    right: \"auto\",\n    top: \"50%\", // start from center\n    transform: \"translate(-50%,-50%)\", // adjust top \"up\" based on height\n    maxWidth: \"30rem\",\n    overflow: \"hidden\",\n    display: \"flex\",\n    alignItems: \"center\",\n    justifyContent: \"center\",\n  },\n}\n\nconst FlowSettingsContainer = styled.div`\n  width: 100%;\n  padding-left: 1rem;\n  padding-right: 1rem;\n`\n\nconst Header1 = styled.header`\n  font-weight: 600;\n  font-size: 30px;\n  color: #009999;\n  margin-bottom: 0.5rem;\n`\n\nconst Header2 = styled.header`\n  font-weight: 600;\n  font-size: 20px;\n  margin-bottom: 0.5rem;\n`\n\nconst PropertyTable = styled.div`\n  margin-bottom: 1rem;\n  overflow-y: auto;\n  height: 20rem;\n  border-radius: 0.25em;\n`\nconst PropertyItem = styled.div`\n  position: relative;\n  width: 100%;\n`\n\nconst Input = styled.input`\n  width: 100%;\n  background: #f1f3f4;\n  border-radius: 5px;\n  padding: 0.5em;\n  border: 0;\n  margin-bottom: 0.5rem;\n`\n\nconst DeleteButton = styled(Button)`\n  width: 100%;\n`\n\nconst CheckBoxWrapper = styled.div`\n  position: relative;\n`\nconst CheckBoxLabel = styled.label`\n  position: absolute;\n  top: 0;\n  left: 0;\n  width: 41px;\n  height: 22px;\n  border-radius: 20px;\n  background: #a6a6a6;\n  cursor: pointer;\n  &::after {\n    content: \"\";\n    display: block;\n    border-radius: 50%;\n    width: 18px;\n    height: 18px;\n    margin: 2px;\n    background: #ffffff;\n    transition: 0.2s;\n  }\n`\nconst CheckBox = styled.input`\n  opacity: 0;\n  z-index: 1;\n  border-radius: 15px;\n  width: 42px;\n  height: 26px;\n  &:checked + ${CheckBoxLabel} {\n    background: #32c8cd;\n    &::after {\n      content: \"\";\n      display: block;\n      border-radius: 50%;\n      width: 18px;\n      height: 18px;\n      margin-left: 21px;\n      transition: 0.2s;\n    }\n  }\n`\n\ntype Props = {\n  open: boolean\n  closeModal: () => void\n  modalParams: ModalParams\n}\n\ntype SwitchInputProps = {\n  checked: boolean\n  setChecked: (checked: boolean) => void\n}\n\nfunction SwitchInput({ checked, setChecked }: SwitchInputProps) {\n  return (\n    <CheckBoxWrapper>\n      <CheckBox\n        id=\"checkbox\"\n        type=\"checkbox\"\n        checked={checked}\n        onChange={(e) => setChecked(e.target.checked)}\n      />\n      <CheckBoxLabel htmlFor=\"checkbox\" />\n    </CheckBoxWrapper>\n  )\n}\n\nfunction FlowSettingsComponent({ open, closeModal }: Props) {\n  const flowId = useSelector(selectSelectedFlowId)\n  const flow = useSelector(selectSelectedFlow)\n  const dispatch = useDispatch()\n\n  const _updateFlowName = (name: string) => {\n    const flowUpdate = { ...flow, name }\n    dispatch(updateSelectedFlow(flowUpdate))\n    dispatch(rerender())\n  }\n\n  const _updateFlowWith = (key: string, value: string) => {\n    const flowUpdate = { ...flow } as FlowUpdate\n    if (!flowUpdate?.flowChart?.with && flowUpdate.flowChart) {\n      flowUpdate.flowChart.with = {}\n    }\n    if (flowUpdate.flowChart?.with) flowUpdate.flowChart.with[key] = value\n    dispatch(updateSelectedFlow(flowUpdate))\n  }\n\n  const _deleteFlow = () => {\n    dispatch(deleteFlow(flowId))\n    closeModal()\n    dispatch(rerender())\n  }\n\n  return (\n    <ReactModal\n      ariaHideApp={false}\n      isOpen={open}\n      contentLabel=\"Action Modal\"\n      className=\"modal-content tiny-modal px-4 pt-3 pb-4\"\n      shouldCloseOnOverlayClick={true}\n      onRequestClose={closeModal}\n      closeTimeoutMS={100}\n      style={style}\n    >\n      <FlowSettingsContainer data-name={\"settingsModal\"}>\n        <Header1>Flow Name</Header1>\n        <Input\n          value={flow.name}\n          onChange={(e: { target: { value: string } }) =>\n            _updateFlowName(e.target.value)\n          }\n          className=\"pod-name-input\"\n        />\n        <Header1>Settings</Header1>\n        <PropertyTable>\n          {Object.values(globalArguments).map((argument, idx) => {\n            const { name, type } = argument\n            return (\n              <PropertyItem key={idx}>\n                <Header2>{name}</Header2>\n                {type === \"boolean\" ? (\n                  <SwitchInput\n                    checked={\n                      flow.flowChart.with ? flow.flowChart.with[name] : false\n                    }\n                    setChecked={(checked: any) =>\n                      _updateFlowWith(name, checked)\n                    }\n                  />\n                ) : (\n                  <Input\n                    placeholder={type}\n                    type={type === \"integer\" ? \"number\" : \"text\"}\n                    value={flow.flowChart.with ? flow.flowChart.with[name] : \"\"}\n                    onChange={(e) => _updateFlowWith(name, e.target.value)}\n                    className=\"property-value-input\"\n                  />\n                )}\n              </PropertyItem>\n            )\n          })}\n        </PropertyTable>\n\n        <DeleteButton variant=\"danger\" onClick={_deleteFlow}>\n          Delete Flow\n        </DeleteButton>\n      </FlowSettingsContainer>\n    </ReactModal>\n  )\n}\n\nexport default FlowSettingsComponent\n","import React, { useState } from \"react\"\nimport { Container, Row, Col } from \"shards-react\"\n\nimport { MainNavbar } from \"../components/Layout/MainNavbar/MainNavbar\"\nimport MainSidebar from \"../components/Layout/MainSidebar/MainSidebar\"\nimport MainFooter from \"../components/Layout/MainFooter\"\nimport { CookiesBanner } from \"../components/Common/CookiesBanner\"\nimport { InfoToast } from \"../components/Common/InfoToast\"\nimport { ConnectionToast } from \"../components/Common/ConnectionToast\"\n\nimport PasteYAML from \"../modals/PasteYAML\"\nimport WriteReview from \"../modals/WriteReview\"\nimport LogDetails from \"../modals/LogDetails\"\n\nimport logger from \"../logger\"\n\nimport { useDispatch, useSelector } from \"react-redux\"\nimport {\n  selectBanner,\n  selectConnectionStatus,\n  selectLoading,\n  selectMenuState,\n  selectModal,\n  selectModalParams,\n  selectSidebarItems,\n  selectUser,\n} from \"../redux/global/global.selectors\"\nimport store from \"../redux\"\nimport NewFlow from \"../modals/NewFlow\"\nimport PodEdit from \"../modals/PodEdit\"\nimport {\n  showBanner,\n  toggleSidebar,\n  closeModal,\n  connectJinaD,\n} from \"../redux/global/global.actions\"\nimport { importFlow } from \"../redux/flows/flows.actions\"\nimport FlowSettings from \"../modals/FlowSettings\"\n\ntype IconSideBarLayoutProps = {\n  children: React.ReactNode\n  usesAuth: boolean\n  usesConnection: boolean\n  navigateButton?: () => React.ReactNode\n}\n\nconst IconSidebarLayout = (props: IconSideBarLayoutProps) => {\n  const modal = useSelector(selectModal)\n  const modalParams = useSelector(selectModalParams)\n  const loading = useSelector(selectLoading)\n  const banner = useSelector(selectBanner)\n  const connected = useSelector(selectConnectionStatus)\n  const loggerEnabled = logger.isEnabled()\n  const menuVisible = useSelector(selectMenuState)\n  const sidebarNavItems = useSelector(selectSidebarItems)\n  const user = useSelector(selectUser)\n  const [acceptedCookies, setAcceptedCookies] = useState<boolean>(\n    localStorage.getItem(\"accepted-cookies\") === \"true\"\n  )\n\n  const dispatch = useDispatch()\n  const acceptCookies = () => {\n    localStorage.setItem(\"accepted-cookies\", String(true))\n    setAcceptedCookies(true)\n  }\n\n  const _closeModal = () => {\n    dispatch(closeModal())\n  }\n\n  const importYAML = (yamlString: string) => {\n    dispatch(importFlow(yamlString))\n    _closeModal()\n  }\n\n  const submitReview = () => {\n    if (modalParams) {\n    }\n  }\n\n  const reconnect = () => {\n    dispatch(connectJinaD())\n  }\n\n  const logOut = () => {}\n\n  const _toggleSidebar = () => {\n    dispatch(toggleSidebar())\n  }\n\n  const enableLogger = () => {\n    logger.enable()\n    const storeCopy = store.getState()\n    logger.log(\"Store Snapshot\", storeCopy)\n    dispatch(\n      showBanner(\n        'Debug Mode Enabled. Click \"Export Debug Data\" to download Debug JSON.',\n        \"warning\"\n      )\n    )\n  }\n\n  const disableLogger = () => {\n    logger.disable()\n    dispatch(showBanner(\"Debug Mode Disabled.\", \"warning\"))\n  }\n\n  const exportLogs = () => {\n    const storeCopy = store.getState()\n    logger.log(\"Store Snapshot\", storeCopy)\n    logger.exportLogs()\n  }\n\n  const { children, usesAuth, usesConnection, navigateButton } = props\n  return (\n    <Container fluid className=\"icon-sidebar-nav\">\n      <Row>\n        <MainSidebar\n          sidebarNavItems={sidebarNavItems}\n          menuVisible={menuVisible}\n          toggleSidebar={_toggleSidebar}\n        />\n        <Col className=\"main-content col\" tag=\"main\">\n          <MainNavbar\n            user={user}\n            usesAuth={usesAuth}\n            usesConnection={usesConnection}\n            logOut={logOut}\n            toggleSidebar={_toggleSidebar}\n            reconnect={reconnect}\n            connected={connected}\n            navigateButton={navigateButton}\n          />\n          <InfoToast data={banner} />\n          {usesConnection && !loading && !connected && (\n            <ConnectionToast reconnect={reconnect} />\n          )}\n          {children}\n          {!acceptedCookies && <CookiesBanner acceptCookies={acceptCookies} />}\n          <MainFooter\n            loggerEnabled={loggerEnabled}\n            enableLogger={enableLogger}\n            disableLogger={disableLogger}\n            exportLogs={exportLogs}\n          />\n        </Col>\n      </Row>\n      <LogDetails\n        open={modal === \"logDetails\"}\n        closeModal={_closeModal}\n        modalParams={modalParams}\n      />\n      <PasteYAML\n        open={modal === \"import\"}\n        closeModal={_closeModal}\n        importYAML={importYAML}\n      />\n      <NewFlow open={modal === \"newFlow\"} />\n      <WriteReview\n        open={modal === \"review\"}\n        closeModal={_closeModal}\n        submitReview={submitReview}\n      />\n      {modal === \"podEdit\" && (\n        <PodEdit\n          open={modal === \"podEdit\"}\n          closeModal={_closeModal}\n          modalParams={modalParams}\n        />\n      )}\n      {modal === \"flowSettings\" && (\n        <FlowSettings\n          open={modal === \"flowSettings\"}\n          closeModal={_closeModal}\n          modalParams={modalParams}\n        />\n      )}\n    </Container>\n  )\n}\n\nexport default IconSidebarLayout\n","import React, { useState } from \"react\";\nimport { Container, Row, Col } from \"shards-react\";\n\nimport { MainNavbar, User } from \"../components/Layout/MainNavbar/MainNavbar\";\nimport MainFooter from \"../components/Layout/MainFooter\";\nimport { CookiesBanner } from \"../components/Common/CookiesBanner\";\nimport { InfoToast } from \"../components/Common/InfoToast\";\n\nimport WriteReview from \"../modals/WriteReview\";\n\nimport logger from \"../logger\";\n\nimport { useDispatch, useSelector } from \"react-redux\";\nimport store from \"../redux\";\nimport { showBanner } from \"../redux/global/global.actions\";\nimport { selectBanner, selectModal } from \"../redux/global/global.selectors\";\n\ntype HubLayoutProps = {\n  children: React.ReactNode;\n  usesAuth: boolean;\n  usesConnection: boolean;\n  navigateButton?: () => React.ReactNode;\n};\n\nconst HubLayout = (props: HubLayoutProps) => {\n  const modal = useSelector(selectModal);\n  const banner = useSelector(selectBanner);\n  const loggerEnabled = logger.isEnabled();\n  const user: User = {\n    displayName: \"dummyUser\",\n    emails: [{ value: \"dummyUser@dummy.com\" }],\n    id: \"idDummy\",\n    nodeId: \"idDummy_node\",\n    photos: [{ value: \"dummyPhoto\" }],\n    profileUrl: \"dummyUrl\",\n    provider: \"dummyProvider\",\n    username: \"dummyUsername\",\n    _json: \"dummyJSON\",\n    _raw: \"dummyRaw\",\n  };\n  const [acceptedCookies, setAcceptedCookies] = useState<boolean>(\n    localStorage.getItem(\"accepted-cookies\") === \"true\"\n  );\n\n  const dispatch = useDispatch();\n  const acceptCookies = () => {\n    localStorage.setItem(\"accepted-cookies\", String(true));\n    setAcceptedCookies(true);\n  };\n\n  const closeModal = () => {\n    dispatch(closeModal());\n  };\n\n  const submitReview = (content: any) => {};\n\n  const logOut = () => {};\n\n  const enableLogger = () => {\n    logger.enable();\n    const storeCopy = store.getState();\n    logger.log(\"Store Snapshot\", storeCopy);\n    dispatch(\n      showBanner(\n        'Debug Mode Enabled. Click \"Export Debug Data\" to download Debug JSON.',\n        \"warning\"\n      )\n    );\n  };\n\n  const disableLogger = () => {\n    logger.disable();\n    dispatch(showBanner(\"Debug Mode Disabled.\", \"warning\"));\n  };\n\n  const exportLogs = () => {};\n\n  const { children, usesAuth, usesConnection, navigateButton } = props;\n  return (\n    <Container>\n      <Row>\n        <Col className=\"main-content col\" tag=\"main\">\n          <MainNavbar\n            usesAuth={usesAuth}\n            usesConnection={usesConnection}\n            logOut={logOut}\n            hideSidebarToggle={true}\n            showLogo\n            user={user}\n            navigateButton={navigateButton}\n          />\n          <InfoToast data={banner} />\n          {children}\n          {!acceptedCookies && <CookiesBanner acceptCookies={acceptCookies} />}\n          <MainFooter\n            loggerEnabled={loggerEnabled}\n            enableLogger={enableLogger}\n            disableLogger={disableLogger}\n            exportLogs={exportLogs}\n          />\n        </Col>\n      </Row>\n      <WriteReview\n        open={modal === \"review\"}\n        closeModal={closeModal}\n        submitReview={submitReview}\n      />\n    </Container>\n  );\n};\n\nexport default HubLayout;\n","const exampleFlows = {\n  pokedex: {\n    name: \"Pokedex Query\",\n    type: \"example\",\n    yaml: `!Flow\n    with:\n      read_only: true\n      rest_api: true\n      port_expose: $JINA_PORT\n      board:\n        canvas:\n          gateway:\n            x: 250\n            y: 150\n          chunk_seg:\n            x: 250\n            y: 268\n          tf_encode:\n            x: 250\n            y: 420\n          chunk_idx:\n            x: 250\n            y: 600\n          ranker:\n            x: 250\n            y: 836\n          doc_idx:\n            x: 249\n            y: 985\n    pods:\n      gateway: {}\n      chunk_seg:\n        uses: pods/craft.yml\n        parallel: $PARALLEL\n        needs: gateway\n      tf_encode:\n        uses: pods/encode.yml\n        parallel: $PARALLEL\n        timeout_ready: 600000\n        needs: chunk_seg\n      chunk_idx:\n        uses: pods/chunk.yml\n        separated_workspace: true\n        polling: all\n        uses_reducing: _merge_all\n        timeout_ready: 100000\n        needs: tf_encode\n      ranker:\n        uses: BiMatchRanker\n        needs: chunk_idx\n      doc_idx:\n        uses: pods/doc.yml\n        needs: ranker\n    \n    `,\n  },\n  flower: {\n    name: \"Flower Search Query\",\n    type: \"example\",\n    yaml: `!Flow\n    with:\n      read_only: true\n      port_expose: $JINA_PORT\n      board:\n        canvas:\n          gateway:\n            x: 250\n            y: 150\n          loader:\n            x: 250\n            y: 257\n          flipper:\n            x: 252\n            y: 407\n          normalizer:\n            x: 239\n            y: 563\n          encoder:\n            x: 252\n            y: 712\n          chunk_indexer:\n            x: 250\n            y: 872\n          ranker:\n            x: 252\n            y: 1066\n          doc_indexer:\n            x: 253\n            y: 1199\n    pods:\n      gateway: {}\n      loader:\n        uses: yaml/craft-load.yml\n        read_only: true\n        needs: gateway\n      flipper:\n        uses: yaml/craft-flip.yml\n        read_only: true\n        needs: loader\n      normalizer:\n        uses: yaml/craft-normalize.yml\n        read_only: true\n        needs: flipper\n      encoder:\n        uses: $ENCODER\n        timeout_ready: 600000\n        read_only: true\n        needs: normalizer\n      chunk_indexer:\n        uses: yaml/index-chunk.yml\n        separated_workspace: true\n        polling: all\n        uses_reducing: _merge_all\n        needs: encoder\n      ranker:\n        uses: MinRanker\n        needs: chunk_indexer\n      doc_indexer:\n        uses: yaml/index-doc.yml\n        needs: ranker  \n    `,\n  },\n  southpark: {\n    name: \"Southpark Query\",\n    type: \"example\",\n    yaml: `!Flow\n    with:\n      read_only: true\n      port_expose: $JINA_PORT\n      board:\n        canvas:\n          gateway:\n            x: 254\n            y: 147\n          splittor:\n            x: 254\n            y: 270\n          encoder:\n            x: 254\n            y: 448\n          chunk_indexer:\n            x: 251\n            y: 645\n          ranker:\n            x: 255\n            y: 862\n          doc_indexer:\n            x: 256\n            y: 1002\n    pods:\n      gateway: {}\n      splittor:\n        uses: pods/craft-split.yml\n        parallel: $PARALLEL\n        read_only: true\n        needs: gateway\n      encoder:\n        uses: pods/encode.yml\n        parallel: $PARALLEL\n        timeout_ready: 60000\n        read_only: true\n        needs: splittor\n      chunk_indexer:\n        uses: pods/index-chunk.yml\n        separated_workspace: true\n        polling: all\n        reducing_uses: _merge_all\n        needs: encoder\n      ranker:\n        uses: MinRanker\n        needs: chunk_indexer\n      doc_indexer:\n        uses: pods/index-doc.yml\n        needs: ranker\n    `,\n  },\n  blankFlow: {\n    name: \"Test Flow\",\n    type: \"example\",\n    yaml: `!Flow\n    with:\n      rest_api: true\n      port_expose: 5555\n    pods:\n      pod1:\n        read_only: true\n      pod2:\n        read_only: true\n      pod3:\n        read_only: true`,\n  },\n};\n\nexport default exampleFlows;\n","import _ from \"lodash\"\nimport exampleFlows from \"../../data/exampleFlows\"\nimport { formatForFlowchart, parseYAML } from \"../../helpers\"\nimport {\n  ADD_LINK,\n  CREATE_NEW_FLOW,\n  ADD_NODE,\n  DELETE_FLOW,\n  DELETE_LINK,\n  DELETE_NODE,\n  DUPLICATE_FLOW,\n  IMPORT_FLOW,\n  initialFlowChart,\n  LOAD_FLOW,\n  RERENDER,\n  SET_FLOW_ARGUMENTS,\n  UPDATE_NODE,\n  UPDATE_SELECTED_FLOW,\n  UPDATE_NODE_DATA,\n} from \"./flows.constants\"\nimport {\n  Flow,\n  FlowActionTypes,\n  Flows,\n  FlowState,\n  NodeData,\n} from \"./flows.types\"\nimport { nanoid } from \"nanoid\"\nimport produce from \"immer\"\nimport { isEdge, isNode } from \"react-flow-renderer\"\nimport { isNodeConnection } from \"../../helpers/typeCheckers\"\nimport { createLink, createNode } from \"../../helpers/flow-chart\"\nimport { Connection } from \"react-flow-renderer/dist/types\"\n\nexport const saveFlowsToStorage = (state: FlowState) => {\n  let toSave: { [id: string]: Flow } = {}\n  const { flows } = state\n  Object.entries(flows).forEach(([id, flow]: [string, Flow]) => {\n    if (flow.type === \"user-generated\") toSave[id] = flow\n  })\n  localStorage.setItem(\"userFlows\", JSON.stringify(toSave))\n}\n\nfunction getUserFlows(): Flows {\n  const storedFlows = localStorage.getItem(\"userFlows\")\n  const userFlows = storedFlows ? JSON.parse(storedFlows) : null\n  return _.isEmpty(userFlows)\n    ? {\n        _userFlow: {\n          name: \"Custom Flow 1\",\n          type: \"user-generated\",\n          flowChart: initialFlowChart,\n        },\n      }\n    : userFlows\n}\n\nfunction getExampleFlows() {\n  const flows: Flows = {}\n\n  Object.entries(exampleFlows).forEach(([id, flow]) => {\n    const parsed = parseYAML(flow.yaml)\n    if (parsed?.data) {\n      const formatted = formatForFlowchart(parsed.data)\n      flows[id] = {\n        ...flow,\n        isConnected: false,\n        flowChart: formatted,\n      }\n    }\n  })\n  return flows\n}\n\nconst initialState: FlowState = {\n  rerender: false,\n  selectedFlowId: \"_userFlow\",\n  flows: {\n    ...getUserFlows(),\n    ...getExampleFlows(),\n  },\n  flowArguments: {\n    version: \"0.0\",\n    flow: [],\n    pea: [],\n    pod: [],\n  },\n  tooltipConfig: {\n    tooltipsGlobal: {\n      showTooltip: true,\n      toogleOffWhenClicked: \"global\",\n      text: \"Hold Shift and click to select multiple nodes\",\n    },\n  },\n}\n\nconst flowReducer = produce((draft: FlowState, action: FlowActionTypes) => {\n  switch (action.type) {\n    case CREATE_NEW_FLOW: {\n      draft = _createNewFlow(draft)\n      break\n    }\n    case DUPLICATE_FLOW: {\n      draft = _createNewFlow(draft, action.payload)\n      break\n    }\n    case IMPORT_FLOW: {\n      draft = _createNewFlow(draft, action.payload)\n      break\n    }\n    case DELETE_FLOW:\n      {\n        const flowId = action.payload as string\n        draft.flows = _.omit(draft.flows, flowId)\n\n        const nonExampleFlows = Object.entries(draft.flows).filter(\n          ([id, flow]: [string, Flow]) => flow.type !== \"example\"\n        )\n\n        if (draft.selectedFlowId === flowId && nonExampleFlows.length) {\n          const idFirstNonExampleFlow = nonExampleFlows[0][0]\n          draft.selectedFlowId = idFirstNonExampleFlow\n        } else if (!nonExampleFlows.length) {\n          draft.flows._userFlow = {\n            name: \"Custom Flow 1\",\n            type: \"user-generated\",\n            isConnected: false,\n            flowChart: initialFlowChart,\n          }\n          draft.selectedFlowId = \"_userFlow\"\n        }\n      }\n      break\n    case UPDATE_SELECTED_FLOW: {\n      const flowUpdate = action.payload\n      if (draft.selectedFlowId) {\n        const selectedFlow = draft.flows[draft.selectedFlowId]\n        draft.flows[draft.selectedFlowId] = {\n          ...selectedFlow,\n          ...flowUpdate,\n        }\n      }\n      break\n    }\n    case SET_FLOW_ARGUMENTS: {\n      draft.flowArguments = action.payload\n      break\n    }\n    case LOAD_FLOW:\n      draft.selectedFlowId = action.payload\n      break\n    case UPDATE_NODE: {\n      const { nodeUpdate, nodeId } = action.payload\n      const selectedFlowId = draft.selectedFlowId\n      const oldNodeIndex = draft.flows[\n        selectedFlowId\n      ].flowChart.elements.findIndex((element) => element.id === nodeId)\n\n      if (oldNodeIndex >= 0) {\n        const oldNode =\n          draft.flows[selectedFlowId].flowChart.elements[oldNodeIndex]\n\n        const newNode = {\n          ...oldNode,\n          ...nodeUpdate,\n        }\n\n        draft.flows[selectedFlowId].flowChart.elements[oldNodeIndex] = newNode\n      }\n      break\n    }\n    case UPDATE_NODE_DATA: {\n      const { nodePropertiesUpdate, nodeId } = action.payload\n      const selectedFlowId = draft.selectedFlowId\n      const oldNodeIndex = draft.flows[\n        selectedFlowId\n      ].flowChart.elements.findIndex((element) => element.id === nodeId)\n\n      if (oldNodeIndex >= 0) {\n        const oldNode =\n          draft.flows[selectedFlowId].flowChart.elements[oldNodeIndex]\n\n        const newData: NodeData = {\n          ...oldNode.data,\n          ...nodePropertiesUpdate,\n        }\n\n        draft.flows[selectedFlowId].flowChart.elements[\n          oldNodeIndex\n        ].data = newData\n      }\n\n      break\n    }\n    case ADD_NODE:\n      const { data, id, position } = action.payload\n      const newNode = createNode(id, data, position)\n      draft.flows[draft.selectedFlowId].flowChart.elements.push(newNode)\n      break\n    case DELETE_NODE:\n      const nodeId = action.payload\n      const selectedFlow = draft.flows[draft.selectedFlowId]\n      const withoutLinksAndNode = selectedFlow.flowChart.elements.filter(\n        (element) => {\n          if (isNode(element)) return element.id !== nodeId\n\n          if (isEdge(element))\n            return element.source !== nodeId && element.target !== nodeId\n\n          return true\n        }\n      )\n\n      draft.flows[draft.selectedFlowId].flowChart.elements = withoutLinksAndNode\n      break\n    case ADD_LINK:\n      const { source, target } = action.payload\n      const newLink = createLink(source, target)\n      draft.flows[draft.selectedFlowId].flowChart.elements.push(newLink)\n      break\n    case DELETE_LINK:\n      if (isNodeConnection(action.payload)) {\n        const { source, target } = action.payload as Connection\n        draft.flows[draft.selectedFlowId].flowChart.elements = draft.flows[\n          draft.selectedFlowId\n        ].flowChart.elements.filter(\n          (element) =>\n            !(\n              isEdge(element) &&\n              (element.source === source || element.target === target)\n            )\n        )\n      } else {\n        const linkId = action.payload\n        draft.flows[draft.selectedFlowId].flowChart.elements = draft.flows[\n          draft.selectedFlowId\n        ].flowChart.elements.filter((element) => linkId !== element.id)\n      }\n      break\n    //todo check if this can be deleted with the flow chart lib\n    case RERENDER:\n      draft.rerender = !draft.rerender\n      break\n  }\n\n  action.type !== RERENDER && saveFlowsToStorage(draft)\n}, initialState)\n\nfunction _createNewFlow(draft: FlowState, customYAML?: string): FlowState {\n  const prefixString = \"Custom Flow\"\n\n  let userFlows = Object.values(draft.flows).filter((flow: any) =>\n    flow.name.startsWith(prefixString)\n  )\n\n  const userFlowNumbers = userFlows\n    .map(\n      (userFlow: Flow) =>\n        parseInt(userFlow.name.substring(prefixString.length)) || 0\n    )\n    .sort((a, b) => a - b)\n\n  const largestNumber = userFlowNumbers[userFlowNumbers.length - 1] || 0\n\n  const id = nanoid()\n\n  let flowChart = initialFlowChart\n\n  if (customYAML) {\n    const parsed = parseYAML(customYAML)\n    if (parsed?.data) flowChart = formatForFlowchart(parsed.data)\n  }\n\n  draft.flows[id] = {\n    isConnected: false,\n    name: `${prefixString} ${largestNumber + 1}`,\n    type: \"user-generated\",\n    flowChart,\n  }\n  draft.selectedFlowId = id\n  return draft\n}\n\nexport default flowReducer\n","import { NodeConnection, DeleteLinkProps } from \"../redux/flows/flows.types\"\n\nexport function isNodeConnection(\n  deleteLinkProps: DeleteLinkProps\n): deleteLinkProps is NodeConnection {\n  return (deleteLinkProps as NodeConnection).source !== undefined\n}\n","import { HubState, HubActionTypes } from \"./hub.types\"\nimport {\n  FETCH_HUB_IMAGES,\n  FETCH_HUB_IMAGES_SUCCESS,\n  FETCH_HUB_IMAGES_FAILURE,\n  initialHubState,\n} from \"./hub.constants\"\nimport produce from \"immer\"\n\nconst hubReducer = produce((draft: HubState, action: HubActionTypes) => {\n  switch (action.type) {\n    case FETCH_HUB_IMAGES:\n      draft.loading = true\n      break\n    case FETCH_HUB_IMAGES_SUCCESS:\n      draft.loading = false\n      draft.images = action.payload.images\n      break\n    case FETCH_HUB_IMAGES_FAILURE:\n      draft.loading = false\n      draft.error = action.payload.error\n      break\n  }\n}, initialHubState)\n\nexport default hubReducer\n","import { intialSettings, UPDATE_SETTINGS } from \"./settings.constants\"\nimport {\n  SettingName,\n  Settings,\n  SettingsActionTypes,\n  SettingsState,\n} from \"./settings.types\"\nimport logger from \"../../logger\"\nimport produce from \"immer\"\n\nconst settingsReducer = produce(\n  (draft: SettingsState, action: SettingsActionTypes) => {\n    switch (action.type) {\n      case UPDATE_SETTINGS:\n        draft.settings = {\n          ...draft.settings,\n          ...action.payload,\n        }\n        logger.log(\"saveSettings - settings\", draft.settings)\n        _saveSettingsInStore(draft.settings)\n    }\n  },\n  intialSettings\n)\n\nfunction _saveSettingsInStore(settings: Settings) {\n  Object.keys(settings).forEach((key) => {\n    localStorage.setItem(\n      `preferences-${key}`,\n      settings[key as SettingName] as string\n    )\n  })\n}\n\nexport default settingsReducer\n","import {\n  HANDLE_NEW_LOG,\n  getInitialLogLevel,\n  intialLogStreamState,\n  SHOW_LOG_INDEX,\n} from \"./logStream.constants\"\nimport { LogStreamActionTypes, LogStreamState, RawLog } from \"./logStream.types\"\nimport logger from \"../../logger\"\nimport { transformLog } from \"../../helpers\"\nimport produce from \"immer\"\n\nconst logStreamReducer = produce(\n  (draft: LogStreamState, action: LogStreamActionTypes) => {\n    switch (action.type) {\n      case SHOW_LOG_INDEX:\n        draft.logIndex = action.payload\n        break\n      case HANDLE_NEW_LOG:\n        _handleNewLog()\n    }\n\n    function _handleNewLog() {\n      const rawLog = action.payload as RawLog\n      logger.log(\"_handleNewLog\")\n      const log = transformLog(rawLog, draft.logs.length)\n\n      const { name, level, unixTime } = log\n      draft.logs.push(log)\n\n      const newLogSourceValue = draft.logSources[name]\n        ? draft.logSources[name] + 1\n        : 1\n      draft.logSources[name] = newLogSourceValue\n\n      const newLogLevelValue = draft.logLevels[level]\n        ? draft.logLevels[level] + 1\n        : 1\n      draft.logLevels[level] = newLogLevelValue\n\n      const newLogLevelOccurrence = draft.logLevelOccurrences[unixTime]\n        ? { ...draft.logLevelOccurrences[unixTime] }\n        : getInitialLogLevel()\n      draft.logLevelOccurrences[unixTime] = newLogLevelOccurrence\n      draft.logLevelOccurrences[unixTime].levels[level]++\n      draft.logLevelOccurrences[unixTime].lastLog = log.idx\n    }\n  },\n  intialLogStreamState\n)\n\nexport default logStreamReducer\n","import {\n  CLOSE_MODAL,\n  HANDLE_CONNECTION_STATUS,\n  HIDE_BANNER,\n  initialGlobalState,\n  SHOW_BANNER,\n  SHOW_ERROR,\n  SHOW_MODAL,\n  TOGGLE_SIDE_BAR,\n} from \"./global.constants\"\nimport logger from \"../../logger\"\nimport { HANDLE_NEW_LOG } from \"../logStream/logStream.constants\"\nimport produce from \"immer\"\nimport { GlobalActionTypes, GlobalState } from \"./global.types\"\n\nconst globalReducer = produce(\n  (draft: GlobalState, action: GlobalActionTypes) => {\n    switch (action.type) {\n      case HANDLE_CONNECTION_STATUS:\n        logger.log(\n          \"handleLogConnectionStatus - status\",\n          action.payload.connected\n        )\n        logger.log(\n          \"handleLogConnectionStatus - message\",\n          action.payload.message\n        )\n        draft.loading = false\n        draft.connected = action.payload.connected\n        break\n      case TOGGLE_SIDE_BAR:\n        draft.menuVisible = !draft.menuVisible\n        break\n      case SHOW_BANNER:\n        draft.banner = {\n          message: action.payload.message,\n          theme: action.payload.theme,\n        }\n        break\n      case HIDE_BANNER:\n        draft.banner = null\n        break\n      case SHOW_ERROR:\n        draft.banner = {\n          message: action.payload.message,\n          theme: \"error\",\n        }\n        break\n      case SHOW_MODAL:\n        draft.modal = action.payload.modal\n        draft.modalParams = action.payload.modalParams\n        break\n      case CLOSE_MODAL:\n        draft.modal = null\n        draft.modalParams = null\n        break\n      case HANDLE_NEW_LOG:\n        draft.processes[action.payload.process] = action.payload.name\n        break\n    }\n  },\n  initialGlobalState\n)\n\nexport default globalReducer\n","import { TaskState } from \"./task.types\";\n\nexport const HANDLE_NEW_TASK_EVENT = \"HANDLE_TASK\";\n\nexport const initialTaskState: TaskState = {\n  taskData: {\n    qps: {\n      current: \"0\",\n      history: new Array(30).fill(0),\n    },\n    elapsed: {\n      task_name: \"No Current Task\",\n      seconds: \"0s\",\n    },\n    progress: {\n      currentRequest: 0,\n      bar_len: 0,\n      num_bars: 0,\n    },\n    speed: {\n      current: \"0\",\n      unit: \"units\",\n      history: new Array(30).fill(0),\n    },\n    lastUpdateChart: new Date(),\n    messages: [],\n    bytes: [],\n  },\n};\n","import { TaskActions, TaskEvent, TaskState } from \"./task.types\"\nimport { HANDLE_NEW_TASK_EVENT, initialTaskState } from \"./task.constants\"\nimport { Processes } from \"../global/global.types\"\nimport { formatSeconds } from \"../../helpers\"\nimport produce from \"immer\"\n\nconst taskReducer = produce((draft: TaskState, action: TaskActions) => {\n  switch (action.type) {\n    case HANDLE_NEW_TASK_EVENT:\n      return _handleNewTaskEvent()\n  }\n\n  function _handleNewTaskEvent() {\n    const {\n      taskEvent,\n      processes,\n    }: { taskEvent: TaskEvent; processes: Processes } = action.payload\n\n    const event = { ...taskEvent }\n\n    const {\n      task_name,\n      process,\n      bar_len,\n      num_bars,\n      elapsed,\n      speed,\n      speed_unit,\n      bytes_recv,\n      bytes_sent,\n      msg_recv,\n      msg_sent,\n      num_reqs,\n      qps,\n    } = event\n\n    if (bar_len && num_bars) {\n      draft.taskData.progress.currentRequest = num_reqs\n      draft.taskData.progress.bar_len = bar_len\n      draft.taskData.progress.num_bars = num_bars\n    }\n\n    if (msg_recv && msg_sent) {\n      let index = draft.taskData.messages\n        .map((obj: any) => obj.process)\n        .indexOf(process)\n\n      let msgData = {\n        process,\n        sent: msg_sent,\n        received: msg_recv,\n        node: processes[process],\n      }\n\n      let bytesData = {\n        process,\n        sent: bytes_sent,\n        received: bytes_recv,\n        node: processes[process],\n      }\n\n      if (index < 0) {\n        draft.taskData.messages.push(msgData)\n        draft.taskData.bytes.push(bytesData)\n      } else {\n        draft.taskData.messages[index] = msgData\n        draft.taskData.bytes[index] = bytesData\n      }\n\n      draft.taskData.messages = draft.taskData.messages\n        .sort((a: any, b: any) => b.sent + b.received - (a.sent + a.received))\n        .slice(0, 20)\n\n      draft.taskData.bytes = draft.taskData.bytes\n        .sort((a: any, b: any) => b.sent + b.received - (a.sent + a.received))\n        .slice(0, 20)\n    }\n\n    draft.taskData.lastUpdateChart = new Date()\n\n    if (qps) {\n      draft.taskData.qps.current = parseFloat(qps).toFixed(1)\n      draft.taskData.qps.history.push(parseFloat(qps).toFixed(3))\n      draft.taskData.qps.history.shift()\n    }\n\n    if (speed && speed_unit) {\n      draft.taskData.speed.unit = speed_unit\n      draft.taskData.speed.current = parseFloat(speed).toFixed(1)\n      draft.taskData.speed.history.push(parseFloat(speed).toFixed(3))\n      draft.taskData.speed.history.shift()\n    }\n\n    if (elapsed) {\n      draft.taskData.elapsed.seconds = formatSeconds(parseInt(elapsed))\n      draft.taskData.elapsed.task_name = `Task: ${task_name}`\n    }\n  }\n}, initialTaskState)\n\nexport default taskReducer\n","import { combineReducers, createStore, applyMiddleware, Action } from \"redux\";\nimport flowReducer from \"./flows/flows.reducer\";\nimport { FlowState } from \"./flows/flows.types\";\nimport { HubState } from \"./hub/hub.types\";\nimport hubReducer from \"./hub/hub.reducer\";\nimport { composeWithDevTools } from \"redux-devtools-extension\";\nimport { SettingsState } from \"./settings/settings.types\";\nimport settingsReducer from \"./settings/settings.reducer\";\nimport { LogStreamState } from \"./logStream/logStream.types\";\nimport logStreamReducer from \"./logStream/logStream.reducer\";\nimport { GlobalState } from \"./global/global.types\";\nimport globalReducer from \"./global/global.reducer\";\nimport thunk, { ThunkAction } from \"redux-thunk\";\nimport { handleConnectionStatus } from \"./global/global.actions\";\nimport taskReducer from \"./task/task.reducer\";\nimport { TaskState } from \"./task/task.types\";\nimport jinadClient from \"../services/jinad\";\n\nexport type State = {\n  flowState: FlowState;\n  hubState: HubState;\n  settingsState: SettingsState;\n  logStreamState: LogStreamState;\n  globalState: GlobalState;\n  taskState: TaskState;\n};\n\nexport type AppThunk<ReturnType = void> = ThunkAction<\n  ReturnType,\n  State,\n  unknown,\n  Action<string>\n>;\n\nconst rootReducer = combineReducers({\n  flowState: flowReducer,\n  hubState: hubReducer,\n  settingsState: settingsReducer,\n  logStreamState: logStreamReducer,\n  globalState: globalReducer,\n  taskState: taskReducer,\n});\n\nconst store = createStore(\n  rootReducer,\n  composeWithDevTools(applyMiddleware(thunk))\n);\n\nfunction _handleLogConnectionStatus({\n  connected,\n  message,\n}: {\n  connected: boolean;\n  message: string;\n}) {\n  store.dispatch<any>(handleConnectionStatus(connected, message));\n}\n\njinadClient.connect(\n  store.getState().settingsState.settings,\n  _handleLogConnectionStatus\n);\n\nexport default store;\n","import React from \"react\";\nimport classNames from \"classnames\";\nimport { Col } from \"react-bootstrap\";\n\ntype Props = {\n  title: string;\n  subtitle?: string;\n  className: string;\n};\n\nfunction PageTitle({ title, subtitle, className }: Props) {\n  const classes = classNames(\n    className,\n    \"text-center\",\n    \"text-md-left\",\n    \"mb-sm-0\"\n  );\n\n  return (\n    <Col xs=\"12\" sm=\"3\" className={classes}>\n      <h3 className=\"page-title\" data-name=\"title\">\n        {title}\n      </h3>\n      <p className=\"page-subtitle mt-2 mb-0\">{subtitle}</p>\n    </Col>\n  );\n}\n\nexport { PageTitle };\n","import { State } from \"../index\";\n\nexport const selectProcess = (state: State) => state.globalState.processes;\n\nexport const selectMenuState = (state: State) => state.globalState.menuVisible;\n\nexport const selectSidebarItems = (state: State) => state.globalState.navItems;\n\nexport const selectCurrentTab = (state: State) => state.globalState.currentTab;\n\nexport const selectUser = (state: State) => state.globalState.user;\n\nexport const selectBanner = (state: State) => state.globalState.banner;\n\nexport const selectModal = (state: State) => state.globalState.modal;\n\nexport const selectModalParams = (state: State) =>\n  state.globalState.modalParams;\n\nexport const selectConnectionStatus = (state: State) =>\n  state.globalState.connected;\n\nexport const selectLoading = (state: State) => state.globalState.loading;\n","import axios from \"axios\"\nimport { timeout } from \"../helpers/utils\"\nimport logger from \"../logger\"\nimport {\n  FlowArgument,\n  FlowArguments,\n  FlowArgumentType,\n} from \"../redux/flows/flows.types\"\nimport { RawLog } from \"../redux/logStream/logStream.types\"\nimport { FLOW_RETRIES, FLOW_RETRY_TIMEOUT, TIMEOUT } from \"./config\"\nimport { DaemonArgumentsResponse } from \"./services.types\"\n\nexport let jinadInstance = axios.create()\n\ntype Settings = {\n  host: string\n  port: string | number\n  log: string\n  profile: string\n  yaml: string\n  ready: string\n  shutdown: string\n}\n\ntype ConnectionCallback = (data: {\n  connected: boolean\n  message: string\n}) => void\n\ntype LogHandler = (log: RawLog) => void\n\ntype Args = { [key: string]: string | number | boolean }\n\nconst jinadClient = {\n  connect: async (settings: Settings, callback: ConnectionCallback) => {\n    logger.log(\"api - connect - settings\", settings)\n    const baseURL = `${settings.host}:${settings.port}`\n\n    jinadInstance = axios.create({ baseURL, timeout: TIMEOUT })\n\n    let result\n    try {\n      result = await jinadInstance.get(\"/\")\n      if (result.status === 200) {\n        logger.log(\"api - connect successfully connected to jinad\")\n        return callback({\n          connected: true,\n          message: `Successfully connected to Jina at ${baseURL}`,\n        })\n      }\n    } catch (e) {\n      logger.log(\"api - connect could not connect to jinad:\", e)\n    }\n    return callback({ connected: false, message: \"failed to connect\" })\n  },\n  getJinaFlowArguments: async (): Promise<FlowArguments> => {\n    const statusResult = await jinadInstance.get(\"/status\")\n    const version = statusResult.data.jina.jina\n\n    const flowResult = await jinadInstance.get(\"/flows/arguments\")\n    const flow = parseDaemonFlowMethodOptions(flowResult.data)\n\n    const podResult = await jinadInstance.get(\"/pods/arguments\")\n    const pod = parseDaemonFlowMethodOptions(podResult.data)\n\n    const peaResult = await jinadInstance.get(\"/peas/arguments\")\n    const pea = parseDaemonFlowMethodOptions(peaResult.data)\n\n    return { version, flow, pod, pea }\n  },\n  getDaemonStatus: async () => {\n    try {\n      const result = await jinadInstance.get(\"/status\")\n      if (result.status === 200)\n        return { status: \"success\", daemonStatus: result.data }\n      return { status: \"error\", message: result.data }\n    } catch (e) {\n      return { status: \"error\", message: e }\n    }\n  },\n  getWorkspaces: async () => {\n    try {\n      const result = await jinadInstance.get(\"/workspaces\")\n      if (result.status === 200)\n        return { status: \"success\", workspaces: result.data }\n      return { status: \"error\", message: result.data }\n    } catch (e) {\n      return { status: \"error\", message: e }\n    }\n  },\n  createWorkspace: async (files: (string | Blob)[]) => {\n    const formData = new FormData()\n    files.forEach((file: string | Blob) => {\n      if (typeof file === \"string\") formData.append(\"files\", new Blob([file]))\n      else formData.append(\"files\", file)\n    })\n    const options = {\n      headers: {\n        \"Content-Type\": \"multipart/form-data\",\n      },\n    }\n    try {\n      const result = await jinadInstance.post(\"/workspaces\", formData, options)\n      if (result.status === 201)\n        return { status: \"success\", workspace: result.data }\n      return { status: \"error\", message: result.data }\n    } catch (e) {\n      return { status: \"error\", message: e }\n    }\n  },\n  deleteWorkspace: async (workspace_id: string) => {\n    try {\n      const result = await jinadInstance.delete(`/workspaces/${workspace_id}`)\n      if (result.status === 200)\n        return { status: \"success\", message: result.data }\n    } catch (e) {\n      logger.log(`api - deleteWorkspace ${workspace_id} error: `, e)\n    }\n    return { status: \"error\" }\n  },\n  deleteAllWorkspaces: async () => {\n    try {\n      const result = await jinadInstance.delete(`/workspaces/all`)\n      if (result.status === 200)\n        return { status: \"success\", message: result.data }\n    } catch (e) {\n      logger.log(`api - deleteAllWorkspaces error: `, e)\n    }\n    return { status: \"error\" }\n  },\n  getArgumentsForFlow: async () => {\n    try {\n      const result = await jinadInstance.get(\"/flows/arguments\")\n      if (result.status === 200)\n        return { status: \"success\", arguments: result.data }\n      return { status: \"error\", message: result.data }\n    } catch (e) {\n      return { status: \"error\", message: e }\n    }\n  },\n  getFlow: async (flow_id: string) => {\n    try {\n      const result = await jinadInstance.get(`/flows/${flow_id}`)\n      if (result.status === 200) return { status: \"success\", flow: result.data }\n      return {\n        status: \"error\",\n        message: result.data,\n      }\n    } catch (e) {\n      logger.log(\"api - getFlow error getting flow: \", e)\n    }\n    return {\n      status: \"error\",\n      message: `Could not get flow\\nFlowId:${flow_id}`,\n    }\n  },\n  startFlow: async (yaml: string, workspace_id?: string) => {\n    logger.log(\"yamlString:\", yaml)\n    const formData = new FormData()\n    formData.append(\"flow\", new Blob([yaml]))\n    if (workspace_id) formData.append(\"workspace_id\", workspace_id)\n    const options = {\n      headers: {\n        \"Content-Type\": \"multipart/form-data\",\n      },\n    }\n    try {\n      const result = await jinadInstance.post(`/flows`, formData, options)\n      if (result.status === 201) {\n        const flow_id = result.data\n        const message = `Successfuly started flow\\nid: ${flow_id}`\n        return { status: \"success\", message, flow_id }\n      }\n      return { status: \"error\", message: result.data }\n    } catch (e) {\n      logger.log(\"api - startFlow error: \", e)\n      return { status: \"error\", message: e.message }\n    }\n  },\n  terminateFlow: async (flow_id: string) => {\n    try {\n      const result = await jinadInstance.delete(`/flows/${flow_id}`)\n      logger.log(\"terminate result\", result)\n      if (result.status === 200) {\n        const message = `Successfuly terminated flow ${flow_id}`\n        return { status: \"success\", message, flow: result.data }\n      }\n      return { status: \"error\", message: result.data }\n    } catch (e) {\n      logger.log(\"api - terminateFlow error: \", e)\n      return { status: \"error\", message: e.message }\n    }\n  },\n  terminateAllFlows: async () => {\n    try {\n      const result = await jinadInstance.delete(\"/flows/all\")\n      if (result.status === 200)\n        return { status: \"success\", message: result.data }\n    } catch (e) {\n      logger.log(\"api - terminateAllFlows error: \", e)\n    }\n    return { status: \"error\" }\n  },\n  getLogs: async (workspace_id: string, flow_id: string) => {\n    try {\n      const result = await jinadInstance.get(`/logs/${workspace_id}/${flow_id}`)\n      if (result.status === 200) {\n        const logs = result.data\n          .split(\"\\n\")\n          .filter((line: string) => line !== \"\")\n          .map(JSON.parse)\n        return { status: \"success\", logs }\n      }\n    } catch (e) {\n      logger.log(\"api - getLogs error: \", e)\n    }\n    return {\n      status: \"error\",\n      message: `Could not get logs for flow.\\nFlowId:${flow_id}`,\n    }\n  },\n  waitForFlow: async (\n    workspace_id: string,\n    flow_id: string,\n    numRetries: number = FLOW_RETRIES,\n    retryTimeout: number = FLOW_RETRY_TIMEOUT\n  ) => {\n    for (let i = 0; i < numRetries; ++i) {\n      logger.log(`checking for flow logs [${i + 1}]`)\n      try {\n        const result = await jinadInstance.get(\n          `/logs/${workspace_id}/${flow_id}`\n        )\n        if (result.status === 200) {\n          return {\n            status: \"success\",\n            message: `Successfuly stablished logstream.\\nFlowId:${flow_id}`,\n          }\n        }\n      } catch (e) {\n        logger.log(`no flow logs yet [${i + 1}]`)\n      }\n      await timeout(retryTimeout)\n    }\n    return {\n      status: \"error\",\n      message: `Could not establish log stream for flow.\\nFlowId:${flow_id}`,\n    }\n  },\n  listenForLogs: async (\n    workspace_id: string,\n    flow_id: string,\n    settings: Settings,\n    callback: ConnectionCallback,\n    handleLog: LogHandler\n  ) => {\n    let origin = settings.host\n      .replace(\"http://\", \"ws://\")\n      .replace(\"https://\", \"wss://\")\n    const baseURL = `${origin}:${settings.port}/logstream/${workspace_id}/${flow_id}`\n    logger.log(\"api - listenForLogs - baseURl:\", baseURL)\n    let socket: WebSocket\n    try {\n      socket = new WebSocket(baseURL)\n    } catch (e) {\n      return callback({ connected: false, message: e })\n    }\n\n    socket.addEventListener(\"open\", () => {\n      callback({ connected: true, message: \"Successfully Connected\" })\n      socket.send(JSON.stringify({ from: 0 }))\n    })\n    socket.addEventListener(\"message\", function (event) {\n      logger.log(\"api - logstream - message received: \", event)\n      const log: RawLog = JSON.parse(event.data)\n      handleLog(log)\n    })\n    socket.addEventListener(\"close\", function (event) {\n      callback({ connected: false, message: \"Connection closed\" })\n    })\n    socket.addEventListener(\"error\", function (event) {\n      callback({ connected: false, message: \"Socket error\" })\n    })\n  },\n  getArgumentsForPod: async () => {\n    try {\n      const result = await jinadInstance.get(\"/pods/arguments\")\n      if (result.status === 200)\n        return { status: \"success\", arguments: result.data }\n      return { status: \"error\", message: result.data }\n    } catch (e) {\n      return { status: \"error\", message: e }\n    }\n  },\n  getPod: async (podId: string) => {\n    try {\n      const result = await jinadInstance.get(`/pods/${podId}`)\n      if (result.status === 200) return { status: \"success\", pod: result.data }\n    } catch (e) {\n      logger.log(`api - getPod ${podId} error: `, e)\n    }\n    return { status: \"error\" }\n  },\n  startPod: async (podArgs: Args) => {\n    try {\n      const result = await jinadInstance.post(`/pods`, podArgs)\n      if (result.status === 201) return { status: \"success\", pod: result.data }\n      return { status: \"error\", message: result.data }\n    } catch (e) {\n      return { status: \"error\", message: e }\n    }\n  },\n  terminatePod: async (podId: string) => {\n    try {\n      const result = await jinadInstance.delete(`/pods/${podId}`)\n      if (result.status === 200)\n        return { status: \"success\", message: result.data }\n    } catch (e) {\n      logger.log(`api - terminatePod ${podId} error: `, e)\n    }\n    return { status: \"error\" }\n  },\n  terminateAllPods: async () => {\n    try {\n      const result = await jinadInstance.delete(`/pods/all`)\n      if (result.status === 200)\n        return { status: \"success\", message: result.data }\n    } catch (e) {\n      logger.log(`api - terminateAllPods error: `, e)\n    }\n    return { status: \"error\" }\n  },\n  getArgumentsForPea: async () => {\n    try {\n      const result = await jinadInstance.get(\"/peas/arguments\")\n      if (result.status === 200)\n        return { status: \"success\", arguments: result.data }\n      return { status: \"error\", message: result.data }\n    } catch (e) {\n      return { status: \"error\", message: e }\n    }\n  },\n  getPea: async (peaId: string) => {\n    try {\n      const result = await jinadInstance.get(`/peas/${peaId}`)\n      if (result.status === 200) return { status: \"success\", pea: result.data }\n    } catch (e) {\n      logger.log(`api - getPea error getting pea ${peaId}: `, e)\n    }\n    return { status: \"error\" }\n  },\n  startPea: async (peaArgs: Args) => {\n    try {\n      const result = await jinadInstance.post(`/peas`, peaArgs)\n      if (result.status === 201) return { status: \"success\", pea: result.data }\n      return { status: \"error\", message: result.data }\n    } catch (e) {\n      return { status: \"error\", message: e }\n    }\n  },\n  terminatePea: async (peaId: string) => {\n    try {\n      const result = await jinadInstance.delete(`/peas/${peaId}`)\n      if (result.status === 200)\n        return { status: \"success\", message: result.data }\n    } catch (e) {\n      logger.log(`api - terminatePea ${peaId} error: `, e)\n    }\n    return { status: \"error\" }\n  },\n  terminateAllPeas: async () => {\n    try {\n      const result = await jinadInstance.delete(\"/peas/all\")\n      if (result.status === 200)\n        return { status: \"success\", message: result.data }\n    } catch (e) {\n      logger.log(`api - terminateAllPeas error: `, e)\n    }\n    return { status: \"error\" }\n  },\n}\n\nconst typeMap: { [key: string]: FlowArgumentType } = {\n  string: \"string\",\n  boolean: \"boolean\",\n  integer: \"integer\",\n  array: \"string\",\n}\n\nexport const parseDaemonFlowMethodOptions = (\n  data: DaemonArgumentsResponse\n): FlowArgument[] => {\n  return Object.entries(data).map(\n    ([name, { description, default: defaultValue, type: itemType }]) => {\n      const type = typeMap[itemType]\n      if (typeof defaultValue === \"undefined\" || defaultValue === null)\n        return { name, description, type }\n      return { name, description, defaultValue, type }\n    }\n  )\n}\n\nexport default jinadClient\n","export const TIMEOUT = 30000\nexport const FLOW_RETRIES = 10\nexport const FLOW_RETRY_TIMEOUT = 3000\n","import { LogStreamState } from \"./logStream.types\";\nimport { RawLogLevel } from \"./logStream.types\";\n\nexport const SHOW_LOG_INDEX = \"SHOW_LOG_INDEX\";\nexport const HANDLE_NEW_LOG = \"HANDLE_NEW_LOG\";\n\nexport const intialLogStreamState: LogStreamState = {\n  logIndex: 0,\n  logLevelOccurrences: {},\n  logs: [],\n  logLevels: {\n    INFO: 0,\n    SUCCESS: 0,\n    WARNING: 0,\n    ERROR: 0,\n    CRITICAL: 0,\n    DEBUG: 0,\n  },\n  logSources: {},\n};\n\nexport const getInitialLogLevel = (): RawLogLevel => ({\n  lastLog: 0,\n  levels: {\n    INFO: 0,\n    SUCCESS: 0,\n    WARNING: 0,\n    ERROR: 0,\n    CRITICAL: 0,\n    DEBUG: 0,\n  },\n});\n","// @ts-nocheck\nimport * as YAML from \"yaml\"\nimport { getInitialLogLevel } from \"../redux/logStream/logStream.constants\"\nimport _ from \"lodash\"\nimport { Level, LogLevelOccurrences } from \"../redux/logStream/logStream.types\"\nimport {\n  FlowArgument,\n  FlowArguments,\n  FlowChart,\n} from \"../redux/flows/flows.types\"\nimport { Edge, Node } from \"react-flow-renderer/dist/types\"\nimport { isEdge, isNode } from \"react-flow-renderer\"\n\nconst customProperties = [\"depth\", \"label\"] //todo generate this dynamically with proper typing\n\nexport const parseYAML = (yamlSTR: string) => {\n  //todo removing the !tag is kind a bootleg solution. We should look into the parsing\n  //todo type this properly\n  let yamlStrWithoutTag = /^!/.test(yamlSTR)\n    ? yamlSTR.split(\"\\n\").slice(1).join(\"\\n\")\n    : yamlSTR\n\n  try {\n    const data = YAML.parse(yamlStrWithoutTag)\n    if (typeof data !== \"object\" || data === null)\n      throw new Error(\"Invalid YAML\")\n    Object.keys(data.pods).forEach((podId) => {\n      if (data.pods[podId].needs && !Array.isArray(data.pods[podId].needs)) {\n        data.pods[podId].needs = [data.pods[podId].needs]\n      }\n    })\n\n    return { data }\n  } catch (error) {\n    alert(\"Error Parsing YAML:\\n\" + error.message)\n  }\n}\n\nexport const decodePropValue = (\n  argName,\n  propValue,\n  possibleArguments: FlowArgument[]\n) => {\n  const argument = possibleArguments.find((arg) => arg.name === argName)\n  if (!argument) return propValue\n  if (argument.type === \"boolean\") return String(propValue) === \"true\"\n  return propValue\n}\n\nconst unpackIfLengthOne = (arr) =>\n  Array.isArray(arr) && arr.length === 1 ? arr[0] : arr\n\nexport const formatAsYAML = (\n  chart: FlowChart,\n  flowArguments: FlowArguments\n) => {\n  const { with: chartWith, elements } = chart\n\n  let nodes: Node[] = []\n  let links: Edge[] = []\n\n  elements.forEach((element) => {\n    if (isEdge(element)) links.push(element)\n    if (isNode(element)) nodes.push(element)\n  })\n\n  const { pod: podArguments } = flowArguments\n\n  const childParentsMap = links.reduce((acc, curr) => {\n    const parent = curr.source\n    const child = curr.target\n\n    if (!acc[child]) {\n      acc[child] = []\n    }\n    acc[child].push(parent)\n    return acc\n  }, {})\n\n  const pods = nodes\n    .filter((node) => node.data.label !== \"gateway\")\n    .reduce((acc, node) => {\n      const key = node.data.label\n\n      const podProperties = Object.entries(node.data).reduce(\n        (acc, [argName, propValue]) => {\n          if (customProperties.includes(argName)) return acc\n          acc[argName] = decodePropValue(argName, propValue, podArguments)\n          return acc\n        },\n        {}\n      )\n      if (childParentsMap[key]) {\n        podProperties.needs = unpackIfLengthOne(childParentsMap[key])\n      }\n\n      acc[key] = { ...podProperties }\n      return acc\n    }, {})\n\n  const canvas = nodes.reduce((acc, node) => {\n    const {\n      position: { x, y },\n    } = node\n    const key = node.data.label || node.data.name\n    acc[key] = { x: parseInt(x), y: parseInt(y) }\n    return acc\n  }, {})\n\n  const output = { with: { ...chartWith, board: { canvas } }, pods }\n  return `!Flow\\n${YAML.stringify(output)}`\n}\n\nexport const formatSeconds = (numSeconds: number): string => {\n  let minute = 60\n  let hour = 60 * minute\n\n  return numSeconds < minute\n    ? `${Math.floor(numSeconds)}s`\n    : numSeconds < hour\n    ? `${Math.floor(numSeconds / minute)}m ${Math.floor(numSeconds % minute)}s`\n    : `${Math.floor(numSeconds / hour)}h ${Math.floor(\n        (numSeconds % hour) / minute\n      )}m ${Math.floor(numSeconds % minute)}s`\n}\n\nexport const formatBytes = (numBytes: number): string => {\n  return numBytes < 1024\n    ? `${numBytes} Bytes`\n    : numBytes < 1024 ** 2\n    ? `${(numBytes / 1024).toFixed(1)} KB`\n    : numBytes < 1024 ** 3\n    ? `${(numBytes / 1024 ** 2).toFixed(1)} MB`\n    : `${(numBytes / 1024 ** 3).toFixed(1)} GB`\n}\n\nexport function getLogLevelCharts(\n  numSeconds: number = 60,\n  MAX_CHART_TICKS: number,\n  logLevelOccurrences: LogLevelOccurrences,\n  currentDate: Date\n) {\n  const emptyItem = getInitialLogLevel()\n  const step = numSeconds / MAX_CHART_TICKS\n  const data = []\n  const currentInterval = Math.ceil(currentDate / 1000 / step) * step\n  const now = Math.floor(currentDate / 1000)\n  for (let i = currentInterval - numSeconds; i < currentInterval; i += step) {\n    let item = _.cloneDeep(emptyItem)\n    for (let j = i; j < i + step; ++j) {\n      const occurrence = logLevelOccurrences[j]\n      if (!occurrence) continue\n      item.lastLog = occurrence.lastLog\n      Object.entries(occurrence.levels).forEach((logEntry) => {\n        const level = logEntry[0] as Level\n        const amount = logEntry[1] as number\n        item.levels[level] = item.levels[level] + amount\n      })\n    }\n    data.push(item)\n  }\n  return { data, numSeconds, numTicks: MAX_CHART_TICKS, lastTimestamp: now }\n}\n","import { State } from \"../index\";\n\n// Todo: Ideally, we shouldn't remove keywords. This should be fixed with providing correct data\nconst tagsToHide = [\n  \"Some keywords to describe the executor\",\n  \"separated by commas\",\n];\n\nexport const selectHubImages = (state: State) =>\n  state.hubState.images.map((image) => {\n    const keywords = image.keywords;\n    return {\n      ...image,\n      keywords: keywords.filter((keyword) => !tagsToHide.includes(keyword)),\n    };\n  });\n\nexport const selectIsHubImagesLoading = (state: State) =>\n  state.hubState.loading;\n","import { HubState} from \"./hub.types\";\n\nexport const FETCH_HUB_IMAGES = \"FETCH_HUB_IMAGES\";\nexport const FETCH_HUB_IMAGES_SUCCESS = \"FETCH_HUB_IMAGES_SUCCESS\";\nexport const FETCH_HUB_IMAGES_FAILURE= \"FETCH_HUB_IMAGES_FAILURE\";\n\nexport const HIDE_BANNER_TIMEOUT = 5000;\n\nexport const initialHubState: HubState = {\n  images: [],\n  loading: false,\n  error: null\n};\n","/** @jsx jsx */\nimport styled from \"@emotion/styled\";\nimport { jsx, keyframes } from \"@emotion/react\";\n\nconst rotate = keyframes`\n  100%{\n    transform:rotatez(-720deg);\n  }\n`;\nconst Spinner = styled.div`\n  border-radius: 50%;\n  border: 8px solid white;\n  border-color: ${(props) => {\n    let { primary, background } = props.theme.palette;\n    return `${primary} ${background} ${primary} ${background}`;\n  }};\n`;\nconst InnerSpinner = styled(Spinner)`\n  position: absolute;\n  height: 32px;\n  width: 32px;\n  animation: ${rotate} 1s infinite ease-in;\n`;\nconst rotateAndHide = keyframes`\n  50%{\n    border-color: transparent;\n  }\n  100%{\n    transform:rotatez(360deg);\n  }\n`;\nconst OuterSpinner = styled(Spinner)`\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  height: 48px;\n  width: 48px;\n  background: transparent;\n  border-radius: 50%;\n  animation: ${rotateAndHide} 1s infinite ease-in-out;\n`;\nconst SpinnerContainer = styled.div`\n  width: 100%;\n  height: 100%;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n`;\nconst SpinningLoader = () => (\n  <SpinnerContainer>\n    <OuterSpinner>\n      <InnerSpinner />\n    </OuterSpinner>\n  </SpinnerContainer>\n);\n\nexport default SpinningLoader;\n","import {\n  FETCH_HUB_IMAGES,\n  FETCH_HUB_IMAGES_SUCCESS,\n  FETCH_HUB_IMAGES_FAILURE,\n} from \"./hub.constants\";\nimport {\n  HubActionTypes,\n  HubImage,\n  FetchHubImagesSuccessAction,\n  FetchHubImagesFailureAction,\n} from \"./hub.types\";\nimport { Dispatch } from \"redux\";\nimport { getHubImages } from \"../../services/hubApi\";\nimport { FilterParams } from \"../../components/Hub/HubFilters\";\nimport { AppThunk } from \"..\";\n\nconst defaultParams = { kind: [], keywords: [] };\n\nexport const fetchHubImages = (\n  filters: FilterParams = defaultParams\n): AppThunk<Promise<void>> => async (dispatch: Dispatch<HubActionTypes>) => {\n  try {\n    dispatch({\n      type: FETCH_HUB_IMAGES,\n    });\n\n    const images = await getHubImages(filters);\n\n    dispatch(fetchHubImagesSuccess(images));\n  } catch (e) {\n    dispatch(fetchHubImagesFailure(e));\n  }\n};\n\nconst fetchHubImagesSuccess = (\n  images: HubImage[]\n): FetchHubImagesSuccessAction => {\n  return {\n    type: FETCH_HUB_IMAGES_SUCCESS,\n    payload: { images },\n  };\n};\n\nconst fetchHubImagesFailure = (error: Error): FetchHubImagesFailureAction => {\n  return {\n    type: FETCH_HUB_IMAGES_FAILURE,\n    payload: { error },\n  };\n};\n","import React from \"react\";\nimport { Row, Col, Card } from \"react-bootstrap\";\nimport styled from \"@emotion/styled\";\nimport { Link } from \"react-router-dom\";\n\ntype HubImagePreview = {\n  name: string;\n  author: string;\n  description: string;\n  keywords: string[];\n};\n\ntype Props = {\n  image: HubImagePreview;\n  index: number;\n};\n\nexport const Tag = styled.div`\n  background: ${(props) => props.theme.palette.tagBackground};\n  border-radius: 6px;\n  display: inline-block;\n  padding: 0.25rem;\n  margin-right: 1rem;\n  margin-bottom: 1rem;\n  white-space: nowrap;\n`;\nconst Title = styled.div`\n  font-size: 1.25em;\n  font-weight: 700;\n  line-height: normal;\n`;\n\nconst SubTitle = styled.div`\n  font-weight: 600;\n  opacity: 0.5;\n`;\n\nconst ImageLink = styled(Link)`\n  color: unset;\n  &:hover {\n    text-decoration: none;\n  }\n`;\n\nexport default function ImageCard({ image, index }: Props) {\n  let { name, author, keywords, description } = image;\n\n  return (\n    <ImageLink to={`/package/${index}`}>\n      <Card className=\"clickable mb-4 h-100 image-card\" data-name=\"hubImage\">\n        <Card.Body className=\"pb-0 mb-0 pt-3\">\n          <Row>\n            <Col xs=\"12\" className=\"px-0\">\n              <Title className=\"mb-2\">{name}</Title>\n              {keywords.map((keyword) => (\n                <Tag data-name=\"hubImageTags\" key={keyword}>\n                  {keyword}\n                </Tag>\n              ))}\n              <SubTitle className=\"mb-2\">{author}</SubTitle>\n            </Col>\n            <Col sm=\"12\" className=\"px-0 pb-0\">\n              <div className=\"description-container\">\n                <div className=\"description-overlay\" />\n                <div className=\"app-description\">{description}</div>\n              </div>\n            </Col>\n          </Row>\n        </Card.Body>\n      </Card>\n    </ImageLink>\n  );\n}\n"],"sourceRoot":""}